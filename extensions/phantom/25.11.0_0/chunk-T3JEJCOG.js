import{Le as E,S as l,V as y,Yc as f,ha as _,mb as c}from"./chunk-XKUMOCJO.js";import{ka as A}from"./chunk-RISGBUNP.js";import{a as e,x as u}from"./chunk-HTY4DAML.js";import{h as a,n as i}from"./chunk-3KENBVE7.js";a();i();var j={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"token.name",weight:.4},{name:"token.symbol",weight:.4},{name:"token.caip19.chainId",weight:.2}]};var T=30,w=6,P=3e4,g=5,h=["100","500","1000"];a();i();var C=e.object({name:e.string().nullish().default(null),symbol:e.string().nullish().default(null),decimals:e.number(),caip19:c,logoURI:e.string().nullish().default(null)}),N=e.object({token:C,quickSelectDenominations:e.array(e.string()).optional(),addressType:_.optional()}),J=e.object({groups:e.array(e.object({groupName:e.string(),tokens:e.array(N)}))}),x=(s=>(s.CARD="CARD",s.MOBILE_WALLET="MOBILE_WALLET",s.BANK_TRANSFER="BANK_TRANSFER",s.EXCHANGE="EXCHANGE",s.LOCAL="LOCAL",s))(x||{}),F=e.object({id:e.string(),type:e.nativeEnum(x),name:e.string(),estimatedArrival:e.string(),assets:e.object({icon:e.string(),roundIcon:e.string()}),description:e.string().optional()}),Z=e.object({paymentMethods:e.array(F)}),M=e.object({id:e.string(),name:e.string(),tag:e.string(),logo:e.string(),quote:e.object({displaySourceAmount:e.string(),displayDestinationAmount:e.string(),displayFee:e.string()}).optional()}),ee=e.object({providers:e.array(M),paymentMethod:F,token:c}),te=e.object({provider:M,paymentMethod:F}),oe=e.object({url:e.string(),sessionId:e.string()}),U=(n=>(n.PENDING="PENDING",n.COMPLETED="COMPLETED",n.FAILED="FAILED",n))(U||{}),re=e.object({status:e.nativeEnum(U),tokenAmount:e.number().optional(),fiatCurrencyCode:e.string().optional(),usdFiatAmount:e.number().optional(),usdFiatFeeAmount:e.number().optional(),fiatFeeAmount:e.number().optional(),cryptoTransactionId:e.string().optional(),createdAt:e.date().optional(),updatedAt:e.date().optional()}),d=class extends Error{constructor(o){super(o),this.name="FiatRampError"}};a();i();var v={onClose:()=>{},context:"modal",fungible:void 0,purchaseAmount:"",purchaseType:"currency",ownerPublicKey:"",price:0,minPurchaseAmountUsd:g,maxPurchaseAmountUsd:P,quickSelectDenominations:h,paymentMethod:void 0,provider:void 0,checkoutQuoteType:"recommended",redirectURL:void 0},me=E(t=>({...v,setState:o=>t(o),reset:()=>{t(v)}}));a();i();a();i();var I=new d("Failed to get FiatRampProviders"),b=async(t,o,r)=>{try{let n=await l.api().headers(t).bearer(r).post("/fiat_ramp/v2/onramp/providers",o);if(!y(n))throw I;return n.data}catch{throw I}};a();i();var p="@phantom/fiat-ramp",L=`${p}:fungibles`,O=`${p}:payment-methods`,Q=`${p}:providers`,q=`${p}:recommended-quote`,H=`${p}:status`,Y=`${p}:completed`,S={fiatRampTokens(t,o,r){return[L,t,o,r]},fiatRampPaymentMethods(t,o,r){return[O,t,o,r]},fiatRampProviders(t,o,r){return[Q,t,o,r]},fiatRampRecommendedQuote(t,o,r){return[q,t,o,r]},fiatRampStatus(t,o,r){return[H,t,o,r]},fiatRampCompleted(t,o,r){return[Y,t,o,r]}};var W=u({seconds:T}),K=u({hours:1}),Ue=(t,o,r,n)=>{let R={"x-client-platform":t,"x-client-app-version":o,"x-client-locale":r},{data:s}=f(),k=s?.userID,D=s?.accessToken;return A({queryKey:S.fiatRampProviders(R,n,k),queryFn:()=>b(R,n,D),gcTime:K,staleTime:W,enabled:!!n.destinationAddress})};export{j as a,T as b,w as c,h as d,M as e,d as f,L as g,S as h,v as i,me as j,Ue as k};
//# sourceMappingURL=chunk-T3JEJCOG.js.map
