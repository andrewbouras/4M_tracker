import{a as fn,b as vr,c as ju,e as Fs,f as cU,g as yl,h as Tc,i as Hs,p as Wu,q as Gu,r as B6}from"./chunk-EF7ER3CO.js";import{a as _6,b as P6,c as N6,d as uU}from"./chunk-DHK5JDA3.js";import{a as Ks,m as Yi}from"./chunk-FI5JCZQR.js";import{$ as R6,A as D6,C as O6,Ca as gl,Fa as V1,Ha as F6,Pa as fi,Qa as sp,X as Kn,a as k6,e as aU,fa as Ae,h as H1,ha as Se,i as T6,k as ip,ka as He,m as Ms,o as C6,pa as ve,q as _c,sa as M6,va as ee}from"./chunk-RISGBUNP.js";import{X as $u,a as v,b as ml,d as K1,l as ot,o as U6,r as L6,x as Lo}from"./chunk-HTY4DAML.js";import{a as Pt}from"./chunk-6MAAUKN7.js";import{c as P,d as iU,e as Qi,f as z,h as d,i as b,j as I6,k as sU,l as Hn,m as Buffer,n as l}from"./chunk-3KENBVE7.js";var xl=P(Xu=>{"use strict";d();l();var q1=I6(),Yu=sU(),H6=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Xu.Buffer=K;Xu.SlowBuffer=yU;Xu.INSPECT_MAX_BYTES=50;var ap=2147483647;Xu.kMaxLength=ap;K.TYPED_ARRAY_SUPPORT=fU();!K.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function fU(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(K.prototype,"parent",{enumerable:!0,get:function(){if(K.isBuffer(this))return this.buffer}});Object.defineProperty(K.prototype,"offset",{enumerable:!0,get:function(){if(K.isBuffer(this))return this.byteOffset}});function Ji(t){if(t>ap)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,K.prototype),e}function K(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return G1(t)}return z6(t,e,r)}K.poolSize=8192;function z6(t,e,r){if(typeof t=="string")return lU(t,e);if(ArrayBuffer.isView(t))return hU(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(di(t,ArrayBuffer)||t&&di(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(di(t,SharedArrayBuffer)||t&&di(t.buffer,SharedArrayBuffer)))return j1(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return K.from(n,e,r);let o=pU(t);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return K.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}K.from=function(t,e,r){return z6(t,e,r)};Object.setPrototypeOf(K.prototype,Uint8Array.prototype);Object.setPrototypeOf(K,Uint8Array);function j6(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function dU(t,e,r){return j6(t),t<=0?Ji(t):e!==void 0?typeof r=="string"?Ji(t).fill(e,r):Ji(t).fill(e):Ji(t)}K.alloc=function(t,e,r){return dU(t,e,r)};function G1(t){return j6(t),Ji(t<0?0:$1(t)|0)}K.allocUnsafe=function(t){return G1(t)};K.allocUnsafeSlow=function(t){return G1(t)};function lU(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!K.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=W6(t,e)|0,n=Ji(r),o=n.write(t,e);return o!==r&&(n=n.slice(0,o)),n}function z1(t){let e=t.length<0?0:$1(t.length)|0,r=Ji(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function hU(t){if(di(t,Uint8Array)){let e=new Uint8Array(t);return j1(e.buffer,e.byteOffset,e.byteLength)}return z1(t)}function j1(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,K.prototype),n}function pU(t){if(K.isBuffer(t)){let e=$1(t.length)|0,r=Ji(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Y1(t.length)?Ji(0):z1(t);if(t.type==="Buffer"&&Array.isArray(t.data))return z1(t.data)}function $1(t){if(t>=ap)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ap.toString(16)+" bytes");return t|0}function yU(t){return+t!=t&&(t=0),K.alloc(+t)}K.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==K.prototype};K.compare=function(e,r){if(di(e,Uint8Array)&&(e=K.from(e,e.offset,e.byteLength)),di(r,Uint8Array)&&(r=K.from(r,r.offset,r.byteLength)),!K.isBuffer(e)||!K.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,o=r.length;for(let i=0,s=Math.min(n,o);i<s;++i)if(e[i]!==r[i]){n=e[i],o=r[i];break}return n<o?-1:o<n?1:0};K.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};K.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return K.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let o=K.allocUnsafe(r),i=0;for(n=0;n<e.length;++n){let s=e[n];if(di(s,Uint8Array))i+s.length>o.length?(K.isBuffer(s)||(s=K.from(s)),s.copy(o,i)):Uint8Array.prototype.set.call(o,s,i);else if(K.isBuffer(s))s.copy(o,i);else throw new TypeError('"list" argument must be an Array of Buffers');i+=s.length}return o};function W6(t,e){if(K.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||di(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W1(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return t4(t).length;default:if(o)return n?-1:W1(t).length;e=(""+e).toLowerCase(),o=!0}}K.byteLength=W6;function mU(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return kU(this,e,r);case"utf8":case"utf-8":return $6(this,e,r);case"ascii":return EU(this,e,r);case"latin1":case"binary":return IU(this,e,r);case"base64":return SU(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return TU(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}K.prototype._isBuffer=!0;function Pc(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}K.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Pc(this,r,r+1);return this};K.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Pc(this,r,r+3),Pc(this,r+1,r+2);return this};K.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Pc(this,r,r+7),Pc(this,r+1,r+6),Pc(this,r+2,r+5),Pc(this,r+3,r+4);return this};K.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?$6(this,0,e):mU.apply(this,arguments)};K.prototype.toLocaleString=K.prototype.toString;K.prototype.equals=function(e){if(!K.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:K.compare(this,e)===0};K.prototype.inspect=function(){let e="",r=Xu.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};H6&&(K.prototype[H6]=K.prototype.inspect);K.prototype.compare=function(e,r,n,o,i){if(di(e,Uint8Array)&&(e=K.from(e,e.offset,e.byteLength)),!K.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),o===void 0&&(o=0),i===void 0&&(i=this.length),r<0||n>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&r>=n)return 0;if(o>=i)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,o>>>=0,i>>>=0,this===e)return 0;let s=i-o,a=n-r,c=Math.min(s,a),u=this.slice(o,i),h=e.slice(r,n);for(let f=0;f<c;++f)if(u[f]!==h[f]){s=u[f],a=h[f];break}return s<a?-1:a<s?1:0};function G6(t,e,r,n,o){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Y1(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0)if(o)r=0;else return-1;if(typeof e=="string"&&(e=K.from(e,n)),K.isBuffer(e))return e.length===0?-1:K6(t,e,r,n,o);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):K6(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function K6(t,e,r,n,o){let i=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;i=2,s/=2,a/=2,r/=2}function c(h,f){return i===1?h[f]:h.readUInt16BE(f*i)}let u;if(o){let h=-1;for(u=r;u<s;u++)if(c(t,u)===c(e,h===-1?0:u-h)){if(h===-1&&(h=u),u-h+1===a)return h*i}else h!==-1&&(u-=u-h),h=-1}else for(r+a>s&&(r=s-a),u=r;u>=0;u--){let h=!0;for(let f=0;f<a;f++)if(c(t,u+f)!==c(e,f)){h=!1;break}if(h)return u}return-1}K.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};K.prototype.indexOf=function(e,r,n){return G6(this,e,r,n,!0)};K.prototype.lastIndexOf=function(e,r,n){return G6(this,e,r,n,!1)};function gU(t,e,r,n){r=Number(r)||0;let o=t.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;let i=e.length;n>i/2&&(n=i/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(Y1(a))return s;t[r+s]=a}return s}function bU(t,e,r,n){return cp(W1(e,t.length-r),t,r,n)}function xU(t,e,r,n){return cp(CU(e),t,r,n)}function wU(t,e,r,n){return cp(t4(e),t,r,n)}function AU(t,e,r,n){return cp(DU(e,t.length-r),t,r,n)}K.prototype.write=function(e,r,n,o){if(r===void 0)o="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")o=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-r;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let s=!1;for(;;)switch(o){case"hex":return gU(this,e,r,n);case"utf8":case"utf-8":return bU(this,e,r,n);case"ascii":case"latin1":case"binary":return xU(this,e,r,n);case"base64":return wU(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return AU(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),s=!0}};K.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function SU(t,e,r){return e===0&&r===t.length?q1.fromByteArray(t):q1.fromByteArray(t.slice(e,r))}function $6(t,e,r){r=Math.min(t.length,r);let n=[],o=e;for(;o<r;){let i=t[o],s=null,a=i>239?4:i>223?3:i>191?2:1;if(o+a<=r){let c,u,h,f;switch(a){case 1:i<128&&(s=i);break;case 2:c=t[o+1],(c&192)===128&&(f=(i&31)<<6|c&63,f>127&&(s=f));break;case 3:c=t[o+1],u=t[o+2],(c&192)===128&&(u&192)===128&&(f=(i&15)<<12|(c&63)<<6|u&63,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:c=t[o+1],u=t[o+2],h=t[o+3],(c&192)===128&&(u&192)===128&&(h&192)===128&&(f=(i&15)<<18|(c&63)<<12|(u&63)<<6|h&63,f>65535&&f<1114112&&(s=f))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),o+=a}return vU(n)}var V6=4096;function vU(t){let e=t.length;if(e<=V6)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=V6));return r}function EU(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]&127);return n}function IU(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function kU(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let o="";for(let i=e;i<r;++i)o+=OU[t[i]];return o}function TU(t,e,r){let n=t.slice(e,r),o="";for(let i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+n[i+1]*256);return o}K.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let o=this.subarray(e,r);return Object.setPrototypeOf(o,K.prototype),o};function Er(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}K.prototype.readUintLE=K.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Er(e,r,this.length);let o=this[e],i=1,s=0;for(;++s<r&&(i*=256);)o+=this[e+s]*i;return o};K.prototype.readUintBE=K.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Er(e,r,this.length);let o=this[e+--r],i=1;for(;r>0&&(i*=256);)o+=this[e+--r]*i;return o};K.prototype.readUint8=K.prototype.readUInt8=function(e,r){return e=e>>>0,r||Er(e,1,this.length),this[e]};K.prototype.readUint16LE=K.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Er(e,2,this.length),this[e]|this[e+1]<<8};K.prototype.readUint16BE=K.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Er(e,2,this.length),this[e]<<8|this[e+1]};K.prototype.readUint32LE=K.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Er(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};K.prototype.readUint32BE=K.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Er(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};K.prototype.readBigUInt64LE=Vs(function(e){e=e>>>0,Ju(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&bl(e,this.length-8);let o=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,i=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(o)+(BigInt(i)<<BigInt(32))});K.prototype.readBigUInt64BE=Vs(function(e){e=e>>>0,Ju(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&bl(e,this.length-8);let o=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],i=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(o)<<BigInt(32))+BigInt(i)});K.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Er(e,r,this.length);let o=this[e],i=1,s=0;for(;++s<r&&(i*=256);)o+=this[e+s]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*r)),o};K.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Er(e,r,this.length);let o=r,i=1,s=this[e+--o];for(;o>0&&(i*=256);)s+=this[e+--o]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*r)),s};K.prototype.readInt8=function(e,r){return e=e>>>0,r||Er(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};K.prototype.readInt16LE=function(e,r){e=e>>>0,r||Er(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};K.prototype.readInt16BE=function(e,r){e=e>>>0,r||Er(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};K.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Er(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};K.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Er(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};K.prototype.readBigInt64LE=Vs(function(e){e=e>>>0,Ju(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&bl(e,this.length-8);let o=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(o)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});K.prototype.readBigInt64BE=Vs(function(e){e=e>>>0,Ju(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&bl(e,this.length-8);let o=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});K.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Er(e,4,this.length),Yu.read(this,e,!0,23,4)};K.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Er(e,4,this.length),Yu.read(this,e,!1,23,4)};K.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Er(e,8,this.length),Yu.read(this,e,!0,52,8)};K.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Er(e,8,this.length),Yu.read(this,e,!1,52,8)};function _n(t,e,r,n,o,i){if(!K.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}K.prototype.writeUintLE=K.prototype.writeUIntLE=function(e,r,n,o){if(e=+e,r=r>>>0,n=n>>>0,!o){let a=Math.pow(2,8*n)-1;_n(this,e,r,n,a,0)}let i=1,s=0;for(this[r]=e&255;++s<n&&(i*=256);)this[r+s]=e/i&255;return r+n};K.prototype.writeUintBE=K.prototype.writeUIntBE=function(e,r,n,o){if(e=+e,r=r>>>0,n=n>>>0,!o){let a=Math.pow(2,8*n)-1;_n(this,e,r,n,a,0)}let i=n-1,s=1;for(this[r+i]=e&255;--i>=0&&(s*=256);)this[r+i]=e/s&255;return r+n};K.prototype.writeUint8=K.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,1,255,0),this[r]=e&255,r+1};K.prototype.writeUint16LE=K.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};K.prototype.writeUint16BE=K.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};K.prototype.writeUint32LE=K.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};K.prototype.writeUint32BE=K.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Q6(t,e,r,n,o){e4(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r++]=i,i=i>>8,t[r++]=i,i=i>>8,t[r++]=i,i=i>>8,t[r++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function Y6(t,e,r,n,o){e4(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r+7]=i,i=i>>8,t[r+6]=i,i=i>>8,t[r+5]=i,i=i>>8,t[r+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}K.prototype.writeBigUInt64LE=Vs(function(e,r=0){return Q6(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});K.prototype.writeBigUInt64BE=Vs(function(e,r=0){return Y6(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});K.prototype.writeIntLE=function(e,r,n,o){if(e=+e,r=r>>>0,!o){let c=Math.pow(2,8*n-1);_n(this,e,r,n,c-1,-c)}let i=0,s=1,a=0;for(this[r]=e&255;++i<n&&(s*=256);)e<0&&a===0&&this[r+i-1]!==0&&(a=1),this[r+i]=(e/s>>0)-a&255;return r+n};K.prototype.writeIntBE=function(e,r,n,o){if(e=+e,r=r>>>0,!o){let c=Math.pow(2,8*n-1);_n(this,e,r,n,c-1,-c)}let i=n-1,s=1,a=0;for(this[r+i]=e&255;--i>=0&&(s*=256);)e<0&&a===0&&this[r+i+1]!==0&&(a=1),this[r+i]=(e/s>>0)-a&255;return r+n};K.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};K.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};K.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};K.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};K.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};K.prototype.writeBigInt64LE=Vs(function(e,r=0){return Q6(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});K.prototype.writeBigInt64BE=Vs(function(e,r=0){return Y6(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function J6(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function X6(t,e,r,n,o){return e=+e,r=r>>>0,o||J6(t,e,r,4,34028234663852886e22,-34028234663852886e22),Yu.write(t,e,r,n,23,4),r+4}K.prototype.writeFloatLE=function(e,r,n){return X6(this,e,r,!0,n)};K.prototype.writeFloatBE=function(e,r,n){return X6(this,e,r,!1,n)};function Z6(t,e,r,n,o){return e=+e,r=r>>>0,o||J6(t,e,r,8,17976931348623157e292,-17976931348623157e292),Yu.write(t,e,r,n,52,8),r+8}K.prototype.writeDoubleLE=function(e,r,n){return Z6(this,e,r,!0,n)};K.prototype.writeDoubleBE=function(e,r,n){return Z6(this,e,r,!1,n)};K.prototype.copy=function(e,r,n,o){if(!K.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!o&&o!==0&&(o=this.length),r>=e.length&&(r=e.length),r||(r=0),o>0&&o<n&&(o=n),o===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-r<o-n&&(o=e.length-r+n);let i=o-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,o):Uint8Array.prototype.set.call(e,this.subarray(n,o),r),i};K.prototype.fill=function(e,r,n,o){if(typeof e=="string"){if(typeof r=="string"?(o=r,r=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!K.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(e.length===1){let s=e.charCodeAt(0);(o==="utf8"&&s<128||o==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let i;if(typeof e=="number")for(i=r;i<n;++i)this[i]=e;else{let s=K.isBuffer(e)?e:K.from(e,o),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-r;++i)this[i+r]=s[i%a]}return this};var Qu={};function Q1(t,e,r){Qu[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Q1("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Q1("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Q1("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=q6(String(r)):typeof r=="bigint"&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=q6(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n},RangeError);function q6(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function _U(t,e,r){Ju(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&bl(e,t.length-(r+1))}function e4(t,e,r,n,o,i){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw i>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(i+1)*8}${s}`:a=`>= -(2${s} ** ${(i+1)*8-1}${s}) and < 2 ** ${(i+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new Qu.ERR_OUT_OF_RANGE("value",a,t)}_U(n,o,i)}function Ju(t,e){if(typeof t!="number")throw new Qu.ERR_INVALID_ARG_TYPE(e,"number",t)}function bl(t,e,r){throw Math.floor(t)!==t?(Ju(t,r),new Qu.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Qu.ERR_BUFFER_OUT_OF_BOUNDS:new Qu.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var PU=/[^+/0-9A-Za-z-_]/g;function BU(t){if(t=t.split("=")[0],t=t.trim().replace(PU,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function W1(t,e){e=e||1/0;let r,n=t.length,o=null,i=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function CU(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function DU(t,e){let r,n,o,i=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function t4(t){return q1.toByteArray(BU(t))}function cp(t,e,r,n){let o;for(o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function di(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Y1(t){return t!==t}var OU=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let o=0;o<16;++o)e[n+o]=t[r]+t[o]}return e}();function Vs(t){return typeof BigInt>"u"?NU:t}function NU(){throw new Error("BigInt not supported")}});var fp=P(dn=>{"use strict";d();l();Object.defineProperty(dn,"__esModule",{value:!0});dn.output=dn.exists=dn.hash=dn.bytes=dn.bool=dn.number=void 0;function up(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}dn.number=up;function r4(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}dn.bool=r4;function J1(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}dn.bytes=J1;function n4(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");up(t.outputLen),up(t.blockLen)}dn.hash=n4;function o4(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}dn.exists=o4;function i4(t,e){J1(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}dn.output=i4;var RU={number:up,bool:r4,bytes:J1,hash:n4,exists:o4,output:i4};dn.default=RU});var s4=P(dp=>{"use strict";d();l();Object.defineProperty(dp,"__esModule",{value:!0});dp.crypto=void 0;dp.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var Zu=P(Ve=>{"use strict";d();l();Object.defineProperty(Ve,"__esModule",{value:!0});Ve.randomBytes=Ve.wrapConstructorWithOpts=Ve.wrapConstructor=Ve.checkOpts=Ve.Hash=Ve.concatBytes=Ve.toBytes=Ve.utf8ToBytes=Ve.asyncLoop=Ve.nextTick=Ve.hexToBytes=Ve.bytesToHex=Ve.isLE=Ve.rotr=Ve.createView=Ve.u32=Ve.u8=void 0;var lp=s4(),UU=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Ve.u8=UU;var LU=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Ve.u32=LU;var MU=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Ve.createView=MU;var FU=(t,e)=>t<<32-e|t>>>e;Ve.rotr=FU;Ve.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Ve.isLE)throw new Error("Non little-endian hardware is not supported");var HU=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function KU(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=HU[t[r]];return e}Ve.bytesToHex=KU;function VU(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}Ve.hexToBytes=VU;var qU=async()=>{};Ve.nextTick=qU;async function zU(t,e,r){let n=Date.now();for(let o=0;o<t;o++){r(o);let i=Date.now()-n;i>=0&&i<e||(await(0,Ve.nextTick)(),n+=i)}}Ve.asyncLoop=zU;function a4(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Ve.utf8ToBytes=a4;function Z1(t){if(typeof t=="string"&&(t=a4(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Ve.toBytes=Z1;function jU(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}Ve.concatBytes=jU;var X1=class{clone(){return this._cloneInto()}};Ve.Hash=X1;var WU=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function GU(t,e){if(e!==void 0&&(typeof e!="object"||!WU(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Ve.checkOpts=GU;function $U(t){let e=n=>t().update(Z1(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Ve.wrapConstructor=$U;function QU(t){let e=(n,o)=>t(o).update(Z1(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Ve.wrapConstructorWithOpts=QU;function YU(t=32){if(lp.crypto.web)return lp.crypto.web.getRandomValues(new Uint8Array(t));if(lp.crypto.node)return new Uint8Array(lp.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Ve.randomBytes=YU});var rw=P(hp=>{"use strict";d();l();Object.defineProperty(hp,"__esModule",{value:!0});hp.SHA2=void 0;var ew=fp(),wl=Zu();function JU(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var tw=class extends wl.Hash{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,wl.createView)(this.buffer)}update(e){ew.default.exists(this);let{view:r,buffer:n,blockLen:o}=this;e=(0,wl.toBytes)(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=(0,wl.createView)(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ew.default.exists(this),ew.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;JU(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=(0,wl.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};hp.SHA2=tw});var iw=P(co=>{"use strict";d();l();Object.defineProperty(co,"__esModule",{value:!0});co.add=co.toBig=co.split=co.fromBig=void 0;var pp=BigInt(2**32-1),nw=BigInt(32);function ow(t,e=!1){return e?{h:Number(t&pp),l:Number(t>>nw&pp)}:{h:Number(t>>nw&pp)|0,l:Number(t&pp)|0}}co.fromBig=ow;function c4(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){let{h:i,l:s}=ow(t[o],e);[r[o],n[o]]=[i,s]}return[r,n]}co.split=c4;var XU=(t,e)=>BigInt(t>>>0)<<nw|BigInt(e>>>0);co.toBig=XU;var ZU=(t,e,r)=>t>>>r,eL=(t,e,r)=>t<<32-r|e>>>r,tL=(t,e,r)=>t>>>r|e<<32-r,rL=(t,e,r)=>t<<32-r|e>>>r,nL=(t,e,r)=>t<<64-r|e>>>r-32,oL=(t,e,r)=>t>>>r-32|e<<64-r,iL=(t,e)=>e,sL=(t,e)=>t,aL=(t,e,r)=>t<<r|e>>>32-r,cL=(t,e,r)=>e<<r|t>>>32-r,uL=(t,e,r)=>e<<r-32|t>>>64-r,fL=(t,e,r)=>t<<r-32|e>>>64-r;function u4(t,e,r,n){let o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}co.add=u4;var dL=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),lL=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,hL=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),pL=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,yL=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),mL=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0,gL={fromBig:ow,split:c4,toBig:co.toBig,shrSH:ZU,shrSL:eL,rotrSH:tL,rotrSL:rL,rotrBH:nL,rotrBL:oL,rotr32H:iL,rotr32L:sL,rotlSH:aL,rotlSL:cL,rotlBH:uL,rotlBL:fL,add:u4,add3L:dL,add3H:lL,add4L:hL,add4H:pL,add5H:mL,add5L:yL};co.default=gL});var f4=P(uo=>{"use strict";d();l();Object.defineProperty(uo,"__esModule",{value:!0});uo.sha384=uo.sha512_256=uo.sha512_224=uo.sha512=uo.SHA512=void 0;var bL=rw(),Le=iw(),yp=Zu(),[xL,wL]=Le.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),qs=new Uint32Array(80),zs=new Uint32Array(80),Bc=class extends bL.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:u,El:h,Fh:f,Fl:p,Gh:m,Gl:g,Hh:x,Hl:w}=this;return[e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w]}set(e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=g|0,this.Hh=x|0,this.Hl=w|0}process(e,r){for(let A=0;A<16;A++,r+=4)qs[A]=e.getUint32(r),zs[A]=e.getUint32(r+=4);for(let A=16;A<80;A++){let T=qs[A-15]|0,C=zs[A-15]|0,W=Le.default.rotrSH(T,C,1)^Le.default.rotrSH(T,C,8)^Le.default.shrSH(T,C,7),oe=Le.default.rotrSL(T,C,1)^Le.default.rotrSL(T,C,8)^Le.default.shrSL(T,C,7),Y=qs[A-2]|0,G=zs[A-2]|0,re=Le.default.rotrSH(Y,G,19)^Le.default.rotrBH(Y,G,61)^Le.default.shrSH(Y,G,6),Z=Le.default.rotrSL(Y,G,19)^Le.default.rotrBL(Y,G,61)^Le.default.shrSL(Y,G,6),D=Le.default.add4L(oe,Z,zs[A-7],zs[A-16]),O=Le.default.add4H(D,W,re,qs[A-7],qs[A-16]);qs[A]=O|0,zs[A]=D|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:p,Fh:m,Fl:g,Gh:x,Gl:w,Hh:S,Hl:k}=this;for(let A=0;A<80;A++){let T=Le.default.rotrSH(f,p,14)^Le.default.rotrSH(f,p,18)^Le.default.rotrBH(f,p,41),C=Le.default.rotrSL(f,p,14)^Le.default.rotrSL(f,p,18)^Le.default.rotrBL(f,p,41),W=f&m^~f&x,oe=p&g^~p&w,Y=Le.default.add5L(k,C,oe,wL[A],zs[A]),G=Le.default.add5H(Y,S,T,W,xL[A],qs[A]),re=Y|0,Z=Le.default.rotrSH(n,o,28)^Le.default.rotrBH(n,o,34)^Le.default.rotrBH(n,o,39),D=Le.default.rotrSL(n,o,28)^Le.default.rotrBL(n,o,34)^Le.default.rotrBL(n,o,39),O=n&i^n&a^i&a,R=o&s^o&c^s&c;S=x|0,k=w|0,x=m|0,w=g|0,m=f|0,g=p|0,{h:f,l:p}=Le.default.add(u|0,h|0,G|0,re|0),u=a|0,h=c|0,a=i|0,c=s|0,i=n|0,s=o|0;let Q=Le.default.add3L(re,D,R);n=Le.default.add3H(Q,G,Z,O),o=Q|0}({h:n,l:o}=Le.default.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=Le.default.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=Le.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:h}=Le.default.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:p}=Le.default.add(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:g}=Le.default.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:x,l:w}=Le.default.add(this.Gh|0,this.Gl|0,x|0,w|0),{h:S,l:k}=Le.default.add(this.Hh|0,this.Hl|0,S|0,k|0),this.set(n,o,i,s,a,c,u,h,f,p,m,g,x,w,S,k)}roundClean(){qs.fill(0),zs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};uo.SHA512=Bc;var sw=class extends Bc{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},aw=class extends Bc{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},cw=class extends Bc{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};uo.sha512=(0,yp.wrapConstructor)(()=>new Bc);uo.sha512_224=(0,yp.wrapConstructor)(()=>new sw);uo.sha512_256=(0,yp.wrapConstructor)(()=>new aw);uo.sha384=(0,yp.wrapConstructor)(()=>new cw)});var E4=P(Je=>{"use strict";d();l();Object.defineProperty(Je,"__esModule",{value:!0});Je.utils=Je.curve25519=Je.getSharedSecret=Je.sync=Je.verify=Je.sign=Je.getPublicKey=Je.Signature=Je.Point=Je.RistrettoPoint=Je.ExtendedPoint=Je.CURVE=void 0;var AL=ip(),Jt=BigInt(0),je=BigInt(1),Gs=BigInt(2),SL=BigInt(8),d4=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),yt=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:d4,n:d4,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});Je.CURVE=yt;var m4=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Al=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),kue=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),vL=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),EL=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),IL=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),kL=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),ar=class t{constructor(e,r,n,o){this.x=e,this.y=r,this.z=n,this.t=o}static fromAffine(e){if(!(e instanceof Lt))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Lt.ZERO)?t.ZERO:new t(e.x,e.y,je,j(e.x*e.y))}static toAffineBatch(e){let r=PL(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(r[o]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){h4(e);let{x:r,y:n,z:o}=this,{x:i,y:s,z:a}=e,c=j(r*a),u=j(i*o),h=j(n*a),f=j(s*o);return c===u&&h===f}negate(){return new t(j(-this.x),this.y,this.z,j(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:o}=yt,i=j(e*e),s=j(r*r),a=j(Gs*j(n*n)),c=j(o*i),u=e+r,h=j(j(u*u)-i-s),f=c+s,p=f-a,m=c-s,g=j(h*p),x=j(f*m),w=j(h*m),S=j(p*f);return new t(g,x,S,w)}add(e){h4(e);let{x:r,y:n,z:o,t:i}=this,{x:s,y:a,z:c,t:u}=e,h=j((n-r)*(a+s)),f=j((n+r)*(a-s)),p=j(f-h);if(p===Jt)return this.double();let m=j(o*Gs*u),g=j(i*Gs*c),x=g+m,w=f+h,S=g-m,k=j(x*p),A=j(w*S),T=j(x*S),C=j(p*w);return new t(k,A,C,T)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],o=this,i=o;for(let s=0;s<r;s++){i=o,n.push(i);for(let a=1;a<2**(e-1);a++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=Lt.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=r&&lw.get(r);o||(o=this.precomputeWindow(n),r&&n!==1&&(o=t.normalizeZ(o),lw.set(r,o)));let i=t.ZERO,s=t.BASE,a=1+256/n,c=2**(n-1),u=BigInt(2**n-1),h=2**n,f=BigInt(n);for(let p=0;p<a;p++){let m=p*c,g=Number(e&u);e>>=f,g>c&&(g-=h,e+=je);let x=m,w=m+Math.abs(g)-1,S=p%2!==0,k=g<0;g===0?s=s.add(l4(S,o[x])):i=i.add(l4(k,o[w]))}return t.normalizeZ([i,s])[0]}multiply(e,r){return this.wNAF(rf(e,yt.l),r)}multiplyUnsafe(e){let r=rf(e,yt.l,!1),n=t.BASE,o=t.ZERO;if(r===Jt)return o;if(this.equals(o)||r===je)return this;if(this.equals(n))return this.wNAF(r);let i=o,s=this;for(;r>Jt;)r&je&&(i=i.add(s)),s=s.double(),r>>=je;return i}isSmallOrder(){return this.multiplyUnsafe(yt.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(yt.l/Gs).double();return yt.l%Gs&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:o}=this,i=this.equals(t.ZERO);e==null&&(e=i?SL:bp(o));let s=j(r*e),a=j(n*e),c=j(o*e);if(i)return Lt.ZERO;if(c!==je)throw new Error("invZ was invalid");return new Lt(s,a)}fromRistrettoBytes(){fw()}toRistrettoBytes(){fw()}fromRistrettoHash(){fw()}};Je.ExtendedPoint=ar;ar.BASE=new ar(yt.Gx,yt.Gy,je,j(yt.Gx*yt.Gy));ar.ZERO=new ar(Jt,je,je,Jt);function l4(t,e){let r=e.negate();return t?r:e}function h4(t){if(!(t instanceof ar))throw new TypeError("ExtendedPoint expected")}function uw(t){if(!(t instanceof $s))throw new TypeError("RistrettoPoint expected")}function fw(){throw new Error("Legacy method: switch to RistrettoPoint")}var $s=class t{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=yt,n=j(Al*e*e),o=j((n+je)*IL),i=BigInt(-1),s=j((i-r*n)*j(n+r)),{isValid:a,value:c}=pw(o,s),u=j(c*e);Ws(u)||(u=j(-u)),a||(c=u),a||(i=n);let h=j(i*(n-je)*kL-s),f=c*c,p=j((c+c)*s),m=j(h*vL),g=j(je-f),x=j(je+f);return new ar(j(p*x),j(g*m),j(m*x),j(p*g))}static hashToCurve(e){e=Fo(e,64);let r=dw(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),o=dw(e.slice(32,64)),i=this.calcElligatorRistrettoMap(o);return new t(n.add(i))}static fromHex(e){e=Fo(e,32);let{a:r,d:n}=yt,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=dw(e);if(!BL(ef(i),e)||Ws(i))throw new Error(o);let s=j(i*i),a=j(je+r*s),c=j(je-r*s),u=j(a*a),h=j(c*c),f=j(r*n*u-h),{isValid:p,value:m}=y4(j(f*h)),g=j(m*c),x=j(m*g*f),w=j((i+i)*g);Ws(w)&&(w=j(-w));let S=j(a*x),k=j(w*S);if(!p||Ws(k)||S===Jt)throw new Error(o);return new t(new ar(w,S,je,k))}toRawBytes(){let{x:e,y:r,z:n,t:o}=this.ep,i=j(j(n+r)*j(n-r)),s=j(e*r),a=j(s*s),{value:c}=y4(j(i*a)),u=j(c*i),h=j(c*s),f=j(u*h*o),p;if(Ws(o*f)){let g=j(r*Al),x=j(e*Al);e=g,r=x,p=j(u*EL)}else p=h;Ws(e*f)&&(r=j(-r));let m=j((n-r)*p);return Ws(m)&&(m=j(-m)),ef(m)}toHex(){return vl(this.toRawBytes())}toString(){return this.toHex()}equals(e){uw(e);let r=this.ep,n=e.ep,o=j(r.x*n.y)===j(r.y*n.x),i=j(r.y*n.y)===j(r.x*n.x);return o||i}add(e){return uw(e),new t(this.ep.add(e.ep))}subtract(e){return uw(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};Je.RistrettoPoint=$s;$s.BASE=new $s(ar.BASE);$s.ZERO=new $s(ar.ZERO);var lw=new WeakMap,Lt=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,lw.delete(this)}static fromHex(e,r=!0){let{d:n,P:o}=yt;e=Fo(e,32);let i=e.slice();i[31]=e[31]&-129;let s=Dc(i);if(r&&s>=o)throw new Error("Expected 0 < hex < P");if(!r&&s>=m4)throw new Error("Expected 0 < hex < 2**256");let a=j(s*s),c=j(a-je),u=j(n*a+je),{isValid:h,value:f}=pw(c,u);if(!h)throw new Error("Point.fromHex: invalid y coordinate");let p=(f&je)===je;return(e[31]&128)!==0!==p&&(f=j(-f)),new t(f,s)}static async fromPrivateKey(e){return(await El(e)).point}toRawBytes(){let e=ef(this.y);return e[31]|=this.x&je?128:0,e}toHex(){return vl(this.toRawBytes())}toX25519(){let{y:e}=this,r=j((je+e)*bp(je-e));return ef(r)}isTorsionFree(){return ar.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(j(-this.x),this.y)}add(e){return ar.fromAffine(this).add(ar.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ar.fromAffine(this).multiply(e,this).toAffine()}};Je.Point=Lt;Lt.BASE=new Lt(yt.Gx,yt.Gy);Lt.ZERO=new Lt(Jt,je);var Cc=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Fo(e,64),n=Lt.fromHex(r.slice(0,32),!1),o=Dc(r.slice(32,64));return new t(n,o)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof Lt))throw new Error("Expected Point instance");return rf(r,yt.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(ef(this.s),32),e}toHex(){return vl(this.toRawBytes())}};Je.Signature=Cc;function p4(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}var TL=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vl(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=TL[t[r]];return e}function hw(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}function g4(t){let r=t.toString(16).padStart(64,"0");return hw(r)}function ef(t){return g4(t).reverse()}function Ws(t){return(j(t)&je)===je}function Dc(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+vl(Uint8Array.from(t).reverse()))}var _L=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function dw(t){return j(Dc(t)&_L)}function j(t,e=yt.P){let r=t%e;return r>=Jt?r:e+r}function bp(t,e=yt.P){if(t===Jt||e<=Jt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=j(t,e),n=e,o=Jt,i=je,s=je,a=Jt;for(;r!==Jt;){let u=n/r,h=n%r,f=o-s*u,p=i-a*u;n=r,r=h,o=s,i=a,s=f,a=p}if(n!==je)throw new Error("invert: does not exist");return j(o,e)}function PL(t,e=yt.P){let r=new Array(t.length),n=t.reduce((i,s,a)=>s===Jt?i:(r[a]=i,j(i*s,e)),je),o=bp(n,e);return t.reduceRight((i,s,a)=>s===Jt?i:(r[a]=j(i*r[a],e),j(i*s,e)),o),r}function Mo(t,e){let{P:r}=yt,n=t;for(;e-- >Jt;)n*=n,n%=r;return n}function b4(t){let{P:e}=yt,r=BigInt(5),n=BigInt(10),o=BigInt(20),i=BigInt(40),s=BigInt(80),c=t*t%e*t%e,u=Mo(c,Gs)*c%e,h=Mo(u,je)*t%e,f=Mo(h,r)*h%e,p=Mo(f,n)*f%e,m=Mo(p,o)*p%e,g=Mo(m,i)*m%e,x=Mo(g,s)*g%e,w=Mo(x,s)*g%e,S=Mo(w,n)*f%e;return{pow_p_5_8:Mo(S,Gs)*t%e,b2:c}}function pw(t,e){let r=j(e*e*e),n=j(r*r*e),o=b4(t*n).pow_p_5_8,i=j(t*r*o),s=j(e*i*i),a=i,c=j(i*Al),u=s===t,h=s===j(-t),f=s===j(-t*Al);return u&&(i=a),(h||f)&&(i=c),Ws(i)&&(i=j(-i)),{isValid:u||h,value:i}}function y4(t){return pw(je,t)}function tf(t){return j(Dc(t),yt.l)}function BL(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Fo(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):hw(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function rf(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(Jt<t)return t}else if(Jt<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function x4(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function CL(t){return Dc(x4(Fo(t,32)))}function w4(t){if(t=typeof t=="bigint"||typeof t=="number"?g4(rf(t,m4)):Fo(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function A4(t){let e=x4(t.slice(0,32)),r=t.slice(32,64),n=tf(e),o=Lt.BASE.multiply(n),i=o.toRawBytes();return{head:e,prefix:r,scalar:n,point:o,pointBytes:i}}var Sl;function gp(...t){if(typeof Sl!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return Sl(...t)}async function El(t){return A4(await Je.utils.sha512(w4(t)))}function yw(t){return A4(gp(w4(t)))}async function DL(t){return(await El(t)).pointBytes}Je.getPublicKey=DL;function OL(t){return yw(t).pointBytes}async function NL(t,e){t=Fo(t);let{prefix:r,scalar:n,pointBytes:o}=await El(e),i=tf(await Je.utils.sha512(r,t)),s=Lt.BASE.multiply(i),a=tf(await Je.utils.sha512(s.toRawBytes(),o,t)),c=j(i+a*n,yt.l);return new Cc(s,c).toRawBytes()}Je.sign=NL;function RL(t,e){t=Fo(t);let{prefix:r,scalar:n,pointBytes:o}=yw(e),i=tf(gp(r,t)),s=Lt.BASE.multiply(i),a=tf(gp(s.toRawBytes(),o,t)),c=j(i+a*n,yt.l);return new Cc(s,c).toRawBytes()}function S4(t,e,r){e=Fo(e),r instanceof Lt||(r=Lt.fromHex(r,!1));let{r:n,s:o}=t instanceof Cc?t.assertValidity():Cc.fromHex(t),i=ar.BASE.multiplyUnsafe(o);return{r:n,s:o,SB:i,pub:r,msg:e}}function v4(t,e,r,n){let o=tf(n),i=ar.fromAffine(t).multiplyUnsafe(o);return ar.fromAffine(e).add(i).subtract(r).multiplyUnsafe(yt.h).equals(ar.ZERO)}async function UL(t,e,r){let{r:n,SB:o,msg:i,pub:s}=S4(t,e,r),a=await Je.utils.sha512(n.toRawBytes(),s.toRawBytes(),i);return v4(s,n,o,a)}Je.verify=UL;function LL(t,e,r){let{r:n,SB:o,msg:i,pub:s}=S4(t,e,r),a=gp(n.toRawBytes(),s.toRawBytes(),i);return v4(s,n,o,a)}Je.sync={getExtendedPublicKey:yw,getPublicKey:OL,sign:RL,verify:LL};async function ML(t,e){let{head:r}=await El(t),n=Lt.fromHex(e).toX25519();return Je.curve25519.scalarMult(r,n)}Je.getSharedSecret=ML;Lt.BASE._setWindowSize(8);function mp(t,e,r){let n=j(t*(e-r));return e=j(e-n),r=j(r+n),[e,r]}function FL(t,e){let{P:r}=yt,n=rf(t,r),o=rf(e,r),i=BigInt(121665),s=n,a=je,c=Jt,u=n,h=je,f=Jt,p;for(let w=BigInt(254);w>=Jt;w--){let S=o>>w&je;f^=S,p=mp(f,a,u),a=p[0],u=p[1],p=mp(f,c,h),c=p[0],h=p[1],f=S;let k=a+c,A=j(k*k),T=a-c,C=j(T*T),W=A-C,oe=u+h,Y=u-h,G=j(Y*k),re=j(oe*T),Z=G+re,D=G-re;u=j(Z*Z),h=j(s*j(D*D)),a=j(A*C),c=j(W*(A+j(i*W)))}p=mp(f,a,u),a=p[0],u=p[1],p=mp(f,c,h),c=p[0],h=p[1];let{pow_p_5_8:m,b2:g}=b4(c),x=j(Mo(m,BigInt(3))*g);return j(a*x)}function HL(t){return ef(j(t,yt.P))}function KL(t){let e=Fo(t,32);return e[31]&=127,Dc(e)}Je.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(t,e){let r=KL(e),n=CL(t),o=FL(r,n);if(o===Jt)throw new Error("Invalid private or public key received");return HL(o)},scalarMultBase(t){return Je.curve25519.scalarMult(t,Je.curve25519.BASE_POINT_U)}};var js={node:AL,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};Je.utils={bytesToHex:vl,hexToBytes:hw,concatBytes:p4,getExtendedPublicKey:El,mod:j,invert:bp,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=Fo(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return j(Dc(t),yt.l-je)+je},randomBytes:(t=32)=>{if(js.web)return js.web.getRandomValues(new Uint8Array(t));if(js.node){let{randomBytes:e}=js.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Je.utils.randomBytes(32),sha512:async(...t)=>{let e=p4(...t);if(js.web){let r=await js.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(js.node)return Uint8Array.from(js.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=Lt.BASE){let r=e.equals(Lt.BASE)?e:new Lt(e.x,e.y);return r._setWindowSize(t),r.multiply(Gs),r},sha512Sync:void 0};Object.defineProperties(Je.utils,{sha512Sync:{configurable:!1,get(){return Sl},set(t){Sl||(Sl=t)}}})});var I4=P(nf=>{"use strict";d();l();Object.defineProperty(nf,"__esModule",{value:!0});nf.sha224=nf.sha256=void 0;var VL=rw(),fo=Zu(),qL=(t,e,r)=>t&e^~t&r,zL=(t,e,r)=>t&e^t&r^e&r,jL=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ys=new Uint32Array(64),xp=class extends VL.SHA2{constructor(){super(64,32,8,!1),this.A=Qs[0]|0,this.B=Qs[1]|0,this.C=Qs[2]|0,this.D=Qs[3]|0,this.E=Qs[4]|0,this.F=Qs[5]|0,this.G=Qs[6]|0,this.H=Qs[7]|0}get(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)Ys[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Ys[f-15],m=Ys[f-2],g=(0,fo.rotr)(p,7)^(0,fo.rotr)(p,18)^p>>>3,x=(0,fo.rotr)(m,17)^(0,fo.rotr)(m,19)^m>>>10;Ys[f]=x+Ys[f-7]+g+Ys[f-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){let p=(0,fo.rotr)(a,6)^(0,fo.rotr)(a,11)^(0,fo.rotr)(a,25),m=h+p+qL(a,c,u)+jL[f]+Ys[f]|0,x=((0,fo.rotr)(n,2)^(0,fo.rotr)(n,13)^(0,fo.rotr)(n,22))+zL(n,o,i)|0;h=u,u=c,c=a,a=s+m|0,s=i,i=o,o=n,n=m+x|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(n,o,i,s,a,c,u,h)}roundClean(){Ys.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},mw=class extends xp{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};nf.sha256=(0,fo.wrapConstructor)(()=>new xp);nf.sha224=(0,fo.wrapConstructor)(()=>new mw)});var k4=P(xw=>{"use strict";d();l();function Xi(t,e,r){return e<=t&&t<=r}function Ep(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function WL(t){for(var e=String(t),r=e.length,n=0,o=[];n<r;){var i=e.charCodeAt(n);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(n===r-1)o.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=i&1023,c=s&1023;o.push(65536+(a<<10)+c),n+=1}else o.push(65533)}n+=1}return o}function GL(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var wp=-1;function bw(t){this.tokens=[].slice.call(t)}bw.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():wp},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var of=-1;function gw(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Ap="utf-8";function Sp(t,e){if(!(this instanceof Sp))return new Sp(t,e);if(t=t!==void 0?String(t).toLowerCase():Ap,t!==Ap)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ep(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Sp.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=Ep(r),this._streaming||(this._decoder=new $L({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var o=new bw(n),i=[],s;!o.endOfStream()&&(s=this._decoder.handler(o,o.read()),s!==of);)s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s));if(!this._streaming){do{if(s=this._decoder.handler(o,o.read()),s===of)break;s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),GL(i)}};function vp(t,e){if(!(this instanceof vp))return new vp(t,e);if(t=t!==void 0?String(t).toLowerCase():Ap,t!==Ap)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ep(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}vp.prototype={encode:function(e,r){e=e?String(e):"",r=Ep(r),this._streaming||(this._encoder=new QL(this._options)),this._streaming=!!r.stream;for(var n=[],o=new bw(WL(e)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==of);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==of;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function $L(t){var e=t.fatal,r=0,n=0,o=0,i=128,s=191;this.handler=function(a,c){if(c===wp&&o!==0)return o=0,gw(e);if(c===wp)return of;if(o===0){if(Xi(c,0,127))return c;if(Xi(c,194,223))o=1,r=c-192;else if(Xi(c,224,239))c===224&&(i=160),c===237&&(s=159),o=2,r=c-224;else if(Xi(c,240,244))c===240&&(i=144),c===244&&(s=143),o=3,r=c-240;else return gw(e);return r=r<<6*o,null}if(!Xi(c,i,s))return r=o=n=0,i=128,s=191,a.prepend(c),gw(e);if(i=128,s=191,n+=1,r+=c-128<<6*(o-n),n!==o)return null;var u=r;return r=o=n=0,u}}function QL(t){var e=t.fatal;this.handler=function(r,n){if(n===wp)return of;if(Xi(n,0,127))return n;var o,i;Xi(n,128,2047)?(o=1,i=192):Xi(n,2048,65535)?(o=2,i=224):Xi(n,65536,1114111)&&(o=3,i=240);for(var s=[(n>>6*o)+i];o>0;){var a=n>>6*(o-1);s.push(128|a&63),o-=1}return s}}xw.TextEncoder=vp;xw.TextDecoder=Sp});var C4=P(bt=>{"use strict";d();l();var YL=bt&&bt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JL=bt&&bt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),li=bt&&bt.__decorate||function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,r,i):s(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},XL=bt&&bt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&YL(e,t,r);return JL(e,t),e},T4=bt&&bt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bt,"__esModule",{value:!0});bt.deserializeUnchecked=bt.deserialize=bt.serialize=bt.BinaryReader=bt.BinaryWriter=bt.BorshError=bt.baseDecode=bt.baseEncode=void 0;var Js=T4(H1()),_4=T4(Ms()),ZL=XL(k4()),eM=typeof TextDecoder!="function"?ZL.TextDecoder:TextDecoder,tM=new eM("utf-8",{fatal:!0});function rM(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),_4.default.encode(Buffer.from(t))}bt.baseEncode=rM;function nM(t){return Buffer.from(_4.default.decode(t))}bt.baseDecode=nM;var ww=1024,Rr=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};bt.BorshError=Rr;var Ip=class{constructor(){this.buf=Buffer.alloc(ww),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(ww)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Js.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Js.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Js.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Js.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(ww)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};bt.BinaryWriter=Ip;function hi(t,e,r){let n=r.value;r.value=function(...o){try{return n.apply(this,o)}catch(i){if(i instanceof RangeError){let s=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Rr("Reached the end of buffer when deserializing")}throw i}}}var ln=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new Js.default(e,"le")}readU128(){let e=this.readBuffer(16);return new Js.default(e,"le")}readU256(){let e=this.readBuffer(32);return new Js.default(e,"le")}readU512(){let e=this.readBuffer(64);return new Js.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Rr(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return tM.decode(r)}catch(n){throw new Rr(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let o=0;o<r;++o)n.push(e());return n}};li([hi],ln.prototype,"readU8",null);li([hi],ln.prototype,"readU16",null);li([hi],ln.prototype,"readU32",null);li([hi],ln.prototype,"readU64",null);li([hi],ln.prototype,"readU128",null);li([hi],ln.prototype,"readU256",null);li([hi],ln.prototype,"readU512",null);li([hi],ln.prototype,"readString",null);li([hi],ln.prototype,"readFixedArray",null);li([hi],ln.prototype,"readArray",null);bt.BinaryReader=ln;function P4(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Oc(t,e,r,n,o){try{if(typeof n=="string")o[`write${P4(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new Rr(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);o.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new Rr(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let i=0;i<n[1];i++)Oc(t,null,r[i],n[0],o)}else o.writeArray(r,i=>{Oc(t,e,i,n[0],o)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?o.writeU8(0):(o.writeU8(1),Oc(t,e,r,n.type,o));break}case"map":{o.writeU32(r.size),r.forEach((i,s)=>{Oc(t,e,s,n.key,o),Oc(t,e,i,n.value,o)});break}default:throw new Rr(`FieldType ${n} unrecognized`)}else B4(t,r,o)}catch(i){throw i instanceof Rr&&i.addToFieldPath(e),i}}function B4(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new Rr(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([o,i])=>{Oc(t,o,e[o],i,r)});else if(n.kind==="enum"){let o=e[n.field];for(let i=0;i<n.values.length;++i){let[s,a]=n.values[i];if(s===o){r.writeU8(i),Oc(t,s,e[s],a,r);break}}}else throw new Rr(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function oM(t,e,r=Ip){let n=new r;return B4(t,e,n),n.toArray()}bt.serialize=oM;function Nc(t,e,r,n){try{if(typeof r=="string")return n[`read${P4(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let o=[];for(let i=0;i<r[1];i++)o.push(Nc(t,null,r[0],n));return o}else return n.readArray(()=>Nc(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?Nc(t,e,r.type,n):void 0;if(r.kind==="map"){let o=new Map,i=n.readU32();for(let s=0;s<i;s++){let a=Nc(t,e,r.key,n),c=Nc(t,e,r.value,n);o.set(a,c)}return o}return Aw(t,r,n)}catch(o){throw o instanceof Rr&&o.addToFieldPath(e),o}}function Aw(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new Rr(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let o={};for(let[i,s]of t.get(e).fields)o[i]=Nc(t,i,s,r);return new e(o)}if(n.kind==="enum"){let o=r.readU8();if(o>=n.values.length)throw new Rr(`Enum index: ${o} is out of range`);let[i,s]=n.values[o],a=Nc(t,i,s,r);return new e({[i]:a})}throw new Rr(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function iM(t,e,r,n=ln){let o=new n(r),i=Aw(t,e,o);if(o.offset<r.length)throw new Rr(`Unexpected ${r.length-o.offset} bytes after deserialized data`);return i}bt.deserialize=iM;function sM(t,e,r,n=ln){let o=new n(r);return Aw(t,e,o)}bt.deserializeUnchecked=sM});var Bl=P(U=>{"use strict";d();l();Object.defineProperty(U,"__esModule",{value:!0});U.s16=U.s8=U.nu64be=U.u48be=U.u40be=U.u32be=U.u24be=U.u16be=U.nu64=U.u48=U.u40=U.u32=U.u24=U.u16=U.u8=U.offset=U.greedy=U.Constant=U.UTF8=U.CString=U.Blob=U.Boolean=U.BitField=U.BitStructure=U.VariantLayout=U.Union=U.UnionLayoutDiscriminator=U.UnionDiscriminator=U.Structure=U.Sequence=U.DoubleBE=U.Double=U.FloatBE=U.Float=U.NearInt64BE=U.NearInt64=U.NearUInt64BE=U.NearUInt64=U.IntBE=U.Int=U.UIntBE=U.UInt=U.OffsetLayout=U.GreedyCount=U.ExternalLayout=U.bindConstructorLayout=U.nameWithProperty=U.Layout=U.uint8ArrayToBuffer=U.checkUint8Array=void 0;U.constant=U.utf8=U.cstr=U.blob=U.unionLayoutDiscriminator=U.union=U.seq=U.bits=U.struct=U.f64be=U.f64=U.f32be=U.f32=U.ns64be=U.s48be=U.s40be=U.s32be=U.s24be=U.s16be=U.ns64=U.s48=U.s40=U.s32=U.s24=void 0;var vw=Hn();function cf(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}U.checkUint8Array=cf;function it(t){return cf(t),vw.Buffer.from(t.buffer,t.byteOffset,t.length)}U.uint8ArrayToBuffer=it;var ft=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};U.Layout=ft;function Ew(t,e){return e.property?t+"["+e.property+"]":t}U.nameWithProperty=Ew;function aM(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof ft))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}U.bindConstructorLayout=aM;var Yr=class extends ft{isCount(){throw new Error("ExternalLayout is abstract")}};U.ExternalLayout=Yr;var kp=class extends Yr{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){cf(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};U.GreedyCount=kp;var Il=class extends Yr{constructor(e,r=0,n){if(!(e instanceof ft))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Pn||this.layout instanceof Vn}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};U.OffsetLayout=Il;var Pn=class extends ft{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return it(e).readUIntLE(r,this.span)}encode(e,r,n=0){return it(r).writeUIntLE(e,n,this.span),this.span}};U.UInt=Pn;var Vn=class extends ft{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return it(e).readUIntBE(r,this.span)}encode(e,r,n=0){return it(r).writeUIntBE(e,n,this.span),this.span}};U.UIntBE=Vn;var Zi=class extends ft{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return it(e).readIntLE(r,this.span)}encode(e,r,n=0){return it(r).writeIntLE(e,n,this.span),this.span}};U.Int=Zi;var Xs=class extends ft{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return it(e).readIntBE(r,this.span)}encode(e,r,n=0){return it(r).writeIntBE(e,n,this.span),this.span}};U.IntBE=Xs;var Sw=Math.pow(2,32);function qp(t){let e=Math.floor(t/Sw),r=t-e*Sw;return{hi32:e,lo32:r}}function zp(t,e){return t*Sw+e}var Tp=class extends ft{constructor(e){super(8,e)}decode(e,r=0){let n=it(e),o=n.readUInt32LE(r),i=n.readUInt32LE(r+4);return zp(i,o)}encode(e,r,n=0){let o=qp(e),i=it(r);return i.writeUInt32LE(o.lo32,n),i.writeUInt32LE(o.hi32,n+4),8}};U.NearUInt64=Tp;var _p=class extends ft{constructor(e){super(8,e)}decode(e,r=0){let n=it(e),o=n.readUInt32BE(r),i=n.readUInt32BE(r+4);return zp(o,i)}encode(e,r,n=0){let o=qp(e),i=it(r);return i.writeUInt32BE(o.hi32,n),i.writeUInt32BE(o.lo32,n+4),8}};U.NearUInt64BE=_p;var Pp=class extends ft{constructor(e){super(8,e)}decode(e,r=0){let n=it(e),o=n.readUInt32LE(r),i=n.readInt32LE(r+4);return zp(i,o)}encode(e,r,n=0){let o=qp(e),i=it(r);return i.writeUInt32LE(o.lo32,n),i.writeInt32LE(o.hi32,n+4),8}};U.NearInt64=Pp;var Bp=class extends ft{constructor(e){super(8,e)}decode(e,r=0){let n=it(e),o=n.readInt32BE(r),i=n.readUInt32BE(r+4);return zp(o,i)}encode(e,r,n=0){let o=qp(e),i=it(r);return i.writeInt32BE(o.hi32,n),i.writeUInt32BE(o.lo32,n+4),8}};U.NearInt64BE=Bp;var Cp=class extends ft{constructor(e){super(4,e)}decode(e,r=0){return it(e).readFloatLE(r)}encode(e,r,n=0){return it(r).writeFloatLE(e,n),4}};U.Float=Cp;var Dp=class extends ft{constructor(e){super(4,e)}decode(e,r=0){return it(e).readFloatBE(r)}encode(e,r,n=0){return it(r).writeFloatBE(e,n),4}};U.FloatBE=Dp;var Op=class extends ft{constructor(e){super(8,e)}decode(e,r=0){return it(e).readDoubleLE(r)}encode(e,r,n=0){return it(r).writeDoubleLE(e,n),8}};U.Double=Op;var Np=class extends ft{constructor(e){super(8,e)}decode(e,r=0){return it(e).readDoubleBE(r)}encode(e,r,n=0){return it(r).writeDoubleBE(e,n),8}};U.DoubleBE=Np;var Rp=class extends ft{constructor(e,r,n){if(!(e instanceof ft))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Yr&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(r instanceof Yr)&&0<e.span&&(o=r*e.span),super(o,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,o=this.count;if(o instanceof Yr&&(o=o.decode(e,r)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let i=0;for(;i<o;)n+=this.elementLayout.getSpan(e,r+n),++i}return n}decode(e,r=0){let n=[],o=0,i=this.count;for(i instanceof Yr&&(i=i.decode(e,r));o<i;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),o+=1;return n}encode(e,r,n=0){let o=this.elementLayout,i=e.reduce((s,a)=>s+o.encode(a,r,n+s),0);return this.count instanceof Yr&&this.count.encode(e.length,r,n),i}};U.Sequence=Rp;var Up=class extends ft{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((i,s)=>i&&s instanceof ft,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((i,s)=>i+s.getSpan(),0)}catch{}super(o,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((o,i)=>{let s=i.getSpan(e,r);return r+=s,o+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){cf(e);let n=this.makeDestinationObject();for(let o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,r)),r+=o.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let o=n,i=0,s=0;for(let a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){let u=e[a.property];u!==void 0&&(s=a.encode(u,r,n),0>c&&(c=a.getSpan(r,n)))}i=n,n+=c}return i+s-o}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};U.Structure=Up;var kl=class{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};U.UnionDiscriminator=kl;var af=class extends kl{constructor(e,r){if(!(e instanceof Yr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};U.UnionLayoutDiscriminator=af;var Tl=class extends ft{constructor(e,r,n){let o;if(e instanceof Pn||e instanceof Vn)o=new af(new Il(e));else if(e instanceof Yr&&e.isCount())o=new af(e);else if(e instanceof kl)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof ft))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let i=-1;r&&(i=r.span,0<=i&&(e instanceof Pn||e instanceof Vn)&&(i+=o.layout.span)),super(i,n),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof Pn||e instanceof Vn,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,o=this.discriminator,i=o.decode(e,r),s=this.registry[i];if(s===void 0){let a=this.defaultLayout,c=0;this.usesPrefixDiscriminator&&(c=o.layout.span),n=this.makeDestinationObject(),n[o.property]=i,n[a.property]=a.decode(e,r+c)}else n=s.decode(e,r);return n}encode(e,r,n=0){let o=this.getSourceVariant(e);if(o===void 0){let i=this.discriminator,s=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],r,n),a+s.encode(e[s.property],r,n+a)}return o.encode(e,r,n)}addVariant(e,r,n){let o=new Lp(this,e,r,n);return this.registry[e]=o,o}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};U.Union=Tl;var Lp=class extends ft{constructor(e,r,n,o){if(!(e instanceof Tl))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof ft))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,o),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,r+n)),n+o}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let i=o;if(this.layout&&(this.layout.encode(e[this.property],r,n+o),i+=this.layout.getSpan(r,n+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};U.VariantLayout=Lp;function sf(t){return 0>t&&(t+=4294967296),t}var _l=class extends ft{constructor(e,r,n){if(!(e instanceof Pn||e instanceof Vn))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let o=0;this._packedSetValue=function(i){return o=sf(i),this},this._packedGetValue=function(){return o}}decode(e,r=0){let n=this.makeDestinationObject(),o=this.word.decode(e,r);this._packedSetValue(o);for(let i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(e));return n}encode(e,r,n=0){let o=this.word.decode(r,n);this._packedSetValue(o);for(let i of this.fields)if(i.property!==void 0){let s=e[i.property];s!==void 0&&i.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new Pl(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new Mp(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};U.BitStructure=_l;var Pl=class{constructor(e,r,n){if(!(e instanceof _l))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let o=8*e.span,i=e.fields.reduce((s,a)=>s+a.bits,0);if(r+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-r),this.wordMask=sf(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return sf(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==sf(e&this.valueMask))throw new TypeError(Ew("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=sf(e<<this.start);this.container._packedSetValue(sf(r&~this.wordMask)|n)}};U.BitField=Pl;var Mp=class extends Pl{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};U.Boolean=Mp;var Fp=class extends ft{constructor(e,r){if(!(e instanceof Yr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Yr||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),it(e).slice(r,r+n)}encode(e,r,n){let o=this.length;if(this.length instanceof Yr&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(Ew("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(n+o>r.length)throw new RangeError("encoding overruns Uint8Array");let i=it(e);return it(r).write(i.toString("hex"),n,o,"hex"),this.length instanceof Yr&&this.length.encode(o,r,n),o}};U.Blob=Fp;var Hp=class extends ft{constructor(e){super(-1,e)}getSpan(e,r=0){cf(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return it(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let o=vw.Buffer.from(e,"utf8"),i=o.length;if(n+i>r.length)throw new RangeError("encoding overruns Buffer");let s=it(r);return o.copy(s,n),s[n+i]=0,i+1}};U.CString=Hp;var Kp=class extends ft{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return cf(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return it(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let o=vw.Buffer.from(e,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(it(r),n),i}};U.UTF8=Kp;var Vp=class extends ft{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};U.Constant=Vp;U.greedy=(t,e)=>new kp(t,e);U.offset=(t,e,r)=>new Il(t,e,r);U.u8=t=>new Pn(1,t);U.u16=t=>new Pn(2,t);U.u24=t=>new Pn(3,t);U.u32=t=>new Pn(4,t);U.u40=t=>new Pn(5,t);U.u48=t=>new Pn(6,t);U.nu64=t=>new Tp(t);U.u16be=t=>new Vn(2,t);U.u24be=t=>new Vn(3,t);U.u32be=t=>new Vn(4,t);U.u40be=t=>new Vn(5,t);U.u48be=t=>new Vn(6,t);U.nu64be=t=>new _p(t);U.s8=t=>new Zi(1,t);U.s16=t=>new Zi(2,t);U.s24=t=>new Zi(3,t);U.s32=t=>new Zi(4,t);U.s40=t=>new Zi(5,t);U.s48=t=>new Zi(6,t);U.ns64=t=>new Pp(t);U.s16be=t=>new Xs(2,t);U.s24be=t=>new Xs(3,t);U.s32be=t=>new Xs(4,t);U.s40be=t=>new Xs(5,t);U.s48be=t=>new Xs(6,t);U.ns64be=t=>new Bp(t);U.f32=t=>new Cp(t);U.f32be=t=>new Dp(t);U.f64=t=>new Op(t);U.f64be=t=>new Np(t);U.struct=(t,e,r)=>new Up(t,e,r);U.bits=(t,e,r)=>new _l(t,e,r);U.seq=(t,e,r)=>new Rp(t,e,r);U.union=(t,e,r)=>new Tl(t,e,r);U.unionLayoutDiscriminator=(t,e)=>new af(t,e);U.blob=(t,e)=>new Fp(t,e);U.cstr=t=>new Hp(t);U.utf8=(t,e)=>new Kp(t,e);U.constant=(t,e)=>new Vp(t,e)});var Iw=P(uf=>{"use strict";d();l();Object.defineProperty(uf,"__esModule",{value:!0});var jp;function cM(t){{let e=Buffer.from(t);e.reverse();let r=e.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}return jp.toBigInt(t,!1)}uf.toBigIntLE=cM;function uM(t){{let e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return jp.toBigInt(t,!0)}uf.toBigIntBE=uM;function fM(t,e){{let r=t.toString(16),n=Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}return jp.fromBigInt(t,Buffer.allocUnsafe(e),!1)}uf.toBufferLE=fM;function dM(t,e){{let r=t.toString(16);return Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex")}return jp.fromBigInt(t,Buffer.allocUnsafe(e),!0)}uf.toBufferBE=dM});var F4=P(ke=>{"use strict";d();l();Object.defineProperty(ke,"__esModule",{value:!0});var Wp=class extends TypeError{constructor(e,r){let n,{message:o,...i}=e,{path:s}=e,a=s.length===0?o:"At path: "+s.join(".")+" -- "+o;super(a),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var c;return(c=n)!=null?c:n=[e,...r()]}}};function lM(t){return Ho(t)&&typeof t[Symbol.iterator]=="function"}function Ho(t){return typeof t=="object"&&t!=null}function D4(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function yr(t){return typeof t=="string"?JSON.stringify(t):""+t}function hM(t){let{done:e,value:r}=t.next();return e?void 0:r}function pM(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});let{path:o,branch:i}=e,{type:s}=r,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+yr(n)+"`"}=t;return{value:n,type:s,refinement:a,key:o[o.length-1],path:o,branch:i,...t,message:c}}function*kw(t,e,r,n){lM(t)||(t=[t]);for(let o of t){let i=pM(o,e,r,n);i&&(yield i)}}function*Tw(t,e,r={}){let{path:n=[],branch:o=[t],coerce:i=!1,mask:s=!1}=r,a={path:n,branch:o};if(i&&(t=e.coercer(t,a),s&&e.type!=="type"&&Ho(e.schema)&&Ho(t)&&!Array.isArray(t)))for(let u in t)e.schema[u]===void 0&&delete t[u];let c=!0;for(let u of e.validator(t,a))c=!1,yield[u,void 0];for(let[u,h,f]of e.entries(t,a)){let p=Tw(h,f,{path:u===void 0?n:[...n,u],branch:u===void 0?o:[...o,h],coerce:i,mask:s});for(let m of p)m[0]?(c=!1,yield[m[0],void 0]):i&&(h=m[1],u===void 0?t=h:t instanceof Map?t.set(u,h):t instanceof Set?t.add(h):Ho(t)&&(t[u]=h))}if(c)for(let u of e.refiner(t,a))c=!1,yield[u,void 0];c&&(yield[void 0,t])}var qt=class{constructor(e){let{type:r,schema:n,validator:o,refiner:i,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=s,o?this.validator=(c,u)=>{let h=o(c,u);return kw(h,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{let h=i(c,u);return kw(h,u,this,c)}:this.refiner=()=>[]}assert(e){return O4(e,this)}create(e){return N4(e,this)}is(e){return _w(e,this)}mask(e){return R4(e,this)}validate(e,r={}){return ff(e,this,r)}};function O4(t,e){let r=ff(t,e);if(r[0])throw r[0]}function N4(t,e){let r=ff(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function R4(t,e){let r=ff(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function _w(t,e){return!ff(t,e)[0]}function ff(t,e,r={}){let n=Tw(t,e,r),o=hM(n);return o[0]?[new Wp(o[0],function*(){for(let s of n)s[0]&&(yield s[0])}),void 0]:[void 0,o[1]]}function yM(...t){let e=t.map(n=>n.schema),r=Object.assign({},...e);return Cl(r)}function qn(t,e){return new qt({type:t,schema:null,validator:e})}function mM(t,e){return new qt({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function gM(t){return new qt({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)}})}function bM(t){let e;return new qt({type:"lazy",schema:null,*entries(r,n){var o;(o=e)!=null||(e=t()),yield*e.entries(r,n)},validator(r,n){var o;return(o=e)!=null||(e=t()),e.validator(r,n)},coercer(r,n){var o;return(o=e)!=null||(e=t()),e.coercer(r,n)}})}function xM(t,e){let{schema:r}=t,n={...r};for(let o of e)delete n[o];return Cl(n)}function wM(t){let e=t instanceof qt?{...t.schema}:{...t};for(let r in e)e[r]=U4(e[r]);return Cl(e)}function AM(t,e){let{schema:r}=t,n={};for(let o of e)n[o]=r[o];return Cl(n)}function SM(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),qn(t,e)}function vM(){return qn("any",()=>!0)}function EM(t){return new qt({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+yr(e)}})}function IM(){return qn("boolean",t=>typeof t=="boolean")}function kM(){return qn("date",t=>t instanceof Date&&!isNaN(t.getTime())||"Expected a valid `Date` object, but received: "+yr(t))}function TM(t){let e={},r=t.map(n=>yr(n)).join();for(let n of t)e[n]=n;return new qt({type:"enums",schema:e,validator(n){return t.includes(n)||"Expected one of `"+r+"`, but received: "+yr(n)}})}function _M(){return qn("func",t=>typeof t=="function"||"Expected a function, but received: "+yr(t))}function PM(t){return qn("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+yr(e))}function BM(){return qn("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||"Expected an integer, but received: "+yr(t))}function CM(t){return new qt({type:"intersection",schema:null,*entries(e,r){for(let n of t)yield*n.entries(e,r)},*validator(e,r){for(let n of t)yield*n.validator(e,r)},*refiner(e,r){for(let n of t)yield*n.refiner(e,r)}})}function DM(t){let e=yr(t),r=typeof t;return new qt({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+yr(n)}})}function OM(t,e){return new qt({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(let[n,o]of r.entries())yield[n,n,t],yield[n,o,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||"Expected a `Map` object, but received: "+yr(r)}})}function Pw(){return qn("never",()=>!1)}function NM(t){return new qt({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function RM(){return qn("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+yr(t))}function Cl(t){let e=t?Object.keys(t):[],r=Pw();return new qt({type:"object",schema:t||null,*entries(n){if(t&&Ho(n)){let o=new Set(Object.keys(n));for(let i of e)o.delete(i),yield[i,n[i],t[i]];for(let i of o)yield[i,n[i],r]}},validator(n){return Ho(n)||"Expected an object, but received: "+yr(n)},coercer(n){return Ho(n)?{...n}:n}})}function U4(t){return new qt({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function UM(t,e){return new qt({type:"record",schema:null,*entries(r){if(Ho(r))for(let n in r){let o=r[n];yield[n,n,t],yield[n,o,e]}},validator(r){return Ho(r)||"Expected an object, but received: "+yr(r)}})}function LM(){return qn("regexp",t=>t instanceof RegExp)}function MM(t){return new qt({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(let r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||"Expected a `Set` object, but received: "+yr(e)}})}function L4(){return qn("string",t=>typeof t=="string"||"Expected a string, but received: "+yr(t))}function FM(t){let e=Pw();return new qt({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(t.length,r.length);for(let o=0;o<n;o++)yield[o,r[o],t[o]||e]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+yr(r)}})}function HM(t){let e=Object.keys(t);return new qt({type:"type",schema:t,*entries(r){if(Ho(r))for(let n of e)yield[n,r[n],t[n]]},validator(r){return Ho(r)||"Expected an object, but received: "+yr(r)}})}function KM(t){let e=t.map(r=>r.type).join(" | ");return new qt({type:"union",schema:null,validator(r,n){let o=[];for(let i of t){let[...s]=Tw(r,i,n),[a]=s;if(a[0])for(let[c]of s)c&&o.push(c);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+yr(r),...o]}})}function M4(){return qn("unknown",()=>!0)}function Bw(t,e,r){return new qt({...t,coercer:(n,o)=>_w(n,e)?t.coercer(r(n,o),o):t.coercer(n,o)})}function VM(t,e,r={}){return Bw(t,M4(),n=>{let o=typeof e=="function"?e():e;if(n===void 0)return o;if(!r.strict&&D4(n)&&D4(o)){let i={...n},s=!1;for(let a in o)i[a]===void 0&&(i[a]=o[a],s=!0);if(s)return i}return n})}function qM(t){return Bw(t,L4(),e=>e.trim())}function zM(t){let e="Expected an empty "+t.type;return df(t,"empty",r=>{if(r instanceof Map||r instanceof Set){let{size:n}=r;return n===0||e+" but received one with a size of `"+n+"`"}else{let{length:n}=r;return n===0||e+" but received one with a length of `"+n+"`"}})}function jM(t,e,r={}){let{exclusive:n}=r;return df(t,"max",o=>n?o<e:o<=e||"Expected a "+t.type+" greater than "+(n?"":"or equal to ")+e+" but received `"+o+"`")}function WM(t,e,r={}){let{exclusive:n}=r;return df(t,"min",o=>n?o>e:o>=e||"Expected a "+t.type+" greater than "+(n?"":"or equal to ")+e+" but received `"+o+"`")}function GM(t,e){return df(t,"pattern",r=>e.test(r)||"Expected a "+t.type+" matching `/"+e.source+'/` but received "'+r+'"')}function $M(t,e,r=e){let n="Expected a "+t.type,o=e===r?"of `"+e+"`":"between `"+e+"` and `"+r+"`";return df(t,"size",i=>{if(typeof i=="number"||i instanceof Date)return e<=i&&i<=r||n+" "+o+" but received `"+i+"`";if(i instanceof Map||i instanceof Set){let{size:s}=i;return e<=s&&s<=r||n+" with a size "+o+" but received one with a size of `"+s+"`"}else{let{length:s}=i;return e<=s&&s<=r||n+" with a length "+o+" but received one with a length of `"+s+"`"}})}function df(t,e,r){return new qt({...t,*refiner(n,o){yield*t.refiner(n,o);let i=r(n,o),s=kw(i,o,t,n);for(let a of s)yield{...a,refinement:e}}})}ke.Struct=qt;ke.StructError=Wp;ke.any=vM;ke.array=EM;ke.assert=O4;ke.assign=yM;ke.boolean=IM;ke.coerce=Bw;ke.create=N4;ke.date=kM;ke.defaulted=VM;ke.define=qn;ke.deprecated=mM;ke.dynamic=gM;ke.empty=zM;ke.enums=TM;ke.func=_M;ke.instance=PM;ke.integer=BM;ke.intersection=CM;ke.is=_w;ke.lazy=bM;ke.literal=DM;ke.map=OM;ke.mask=R4;ke.max=jM;ke.min=WM;ke.never=Pw;ke.nullable=NM;ke.number=RM;ke.object=Cl;ke.omit=xM;ke.optional=U4;ke.partial=wM;ke.pattern=GM;ke.pick=AM;ke.record=UM;ke.refine=df;ke.regexp=LM;ke.set=MM;ke.size=$M;ke.string=L4;ke.struct=SM;ke.trimmed=qM;ke.tuple=FM;ke.type=HM;ke.union=KM;ke.unknown=M4;ke.validate=ff});var Dw=P(Cw=>{"use strict";d();l();Object.defineProperty(Cw,"__esModule",{value:!0});Cw.default=YM;var Gp,QM=new Uint8Array(16);function YM(){if(!Gp&&(Gp=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!Gp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gp(QM)}});var H4=P($p=>{"use strict";d();l();Object.defineProperty($p,"__esModule",{value:!0});$p.default=void 0;var JM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;$p.default=JM});var Dl=P(Qp=>{"use strict";d();l();Object.defineProperty(Qp,"__esModule",{value:!0});Qp.default=void 0;var XM=ZM(H4());function ZM(t){return t&&t.__esModule?t:{default:t}}function eF(t){return typeof t=="string"&&XM.default.test(t)}var tF=eF;Qp.default=tF});var Nl=P(Ol=>{"use strict";d();l();Object.defineProperty(Ol,"__esModule",{value:!0});Ol.default=void 0;Ol.unsafeStringify=K4;var rF=nF(Dl());function nF(t){return t&&t.__esModule?t:{default:t}}var Ur=[];for(let t=0;t<256;++t)Ur.push((t+256).toString(16).slice(1));function K4(t,e=0){return Ur[t[e+0]]+Ur[t[e+1]]+Ur[t[e+2]]+Ur[t[e+3]]+"-"+Ur[t[e+4]]+Ur[t[e+5]]+"-"+Ur[t[e+6]]+Ur[t[e+7]]+"-"+Ur[t[e+8]]+Ur[t[e+9]]+"-"+Ur[t[e+10]]+Ur[t[e+11]]+Ur[t[e+12]]+Ur[t[e+13]]+Ur[t[e+14]]+Ur[t[e+15]]}function oF(t,e=0){let r=K4(t,e);if(!(0,rF.default)(r))throw TypeError("Stringified UUID is invalid");return r}var iF=oF;Ol.default=iF});var q4=P(Yp=>{"use strict";d();l();Object.defineProperty(Yp,"__esModule",{value:!0});Yp.default=void 0;var sF=cF(Dw()),aF=Nl();function cF(t){return t&&t.__esModule?t:{default:t}}var V4,Ow,Nw=0,Rw=0;function uF(t,e,r){let n=e&&r||0,o=e||new Array(16);t=t||{};let i=t.node||V4,s=t.clockseq!==void 0?t.clockseq:Ow;if(i==null||s==null){let p=t.random||(t.rng||sF.default)();i==null&&(i=V4=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),s==null&&(s=Ow=(p[6]<<8|p[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Rw+1,u=a-Nw+(c-Rw)/1e4;if(u<0&&t.clockseq===void 0&&(s=s+1&16383),(u<0||a>Nw)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Nw=a,Rw=c,Ow=s,a+=122192928e5;let h=((a&268435455)*1e4+c)%4294967296;o[n++]=h>>>24&255,o[n++]=h>>>16&255,o[n++]=h>>>8&255,o[n++]=h&255;let f=a/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=s>>>8|128,o[n++]=s&255;for(let p=0;p<6;++p)o[n+p]=i[p];return e||(0,aF.unsafeStringify)(o)}var fF=uF;Yp.default=fF});var Uw=P(Jp=>{"use strict";d();l();Object.defineProperty(Jp,"__esModule",{value:!0});Jp.default=void 0;var dF=lF(Dl());function lF(t){return t&&t.__esModule?t:{default:t}}function hF(t){if(!(0,dF.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var pF=hF;Jp.default=pF});var Lw=P(Rc=>{"use strict";d();l();Object.defineProperty(Rc,"__esModule",{value:!0});Rc.URL=Rc.DNS=void 0;Rc.default=xF;var yF=Nl(),mF=gF(Uw());function gF(t){return t&&t.__esModule?t:{default:t}}function bF(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var z4="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Rc.DNS=z4;var j4="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Rc.URL=j4;function xF(t,e,r){function n(o,i,s,a){var c;if(typeof o=="string"&&(o=bF(o)),typeof i=="string"&&(i=(0,mF.default)(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+o.length);if(u.set(i),u.set(o,i.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){a=a||0;for(let h=0;h<16;++h)s[a+h]=u[h];return s}return(0,yF.unsafeStringify)(u)}try{n.name=t}catch{}return n.DNS=z4,n.URL=j4,n}});var G4=P(Zp=>{"use strict";d();l();Object.defineProperty(Zp,"__esModule",{value:!0});Zp.default=void 0;function wF(t){if(typeof t=="string"){let e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return AF(SF(vF(t),t.length*8))}function AF(t){let e=[],r=t.length*32,n="0123456789abcdef";for(let o=0;o<r;o+=8){let i=t[o>>5]>>>o%32&255,s=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);e.push(s)}return e}function W4(t){return(t+64>>>9<<4)+14+1}function SF(t,e){t[e>>5]|=128<<e%32,t[W4(e)-1]=e;let r=1732584193,n=-271733879,o=-1732584194,i=271733878;for(let s=0;s<t.length;s+=16){let a=r,c=n,u=o,h=i;r=Jr(r,n,o,i,t[s],7,-680876936),i=Jr(i,r,n,o,t[s+1],12,-389564586),o=Jr(o,i,r,n,t[s+2],17,606105819),n=Jr(n,o,i,r,t[s+3],22,-1044525330),r=Jr(r,n,o,i,t[s+4],7,-176418897),i=Jr(i,r,n,o,t[s+5],12,1200080426),o=Jr(o,i,r,n,t[s+6],17,-1473231341),n=Jr(n,o,i,r,t[s+7],22,-45705983),r=Jr(r,n,o,i,t[s+8],7,1770035416),i=Jr(i,r,n,o,t[s+9],12,-1958414417),o=Jr(o,i,r,n,t[s+10],17,-42063),n=Jr(n,o,i,r,t[s+11],22,-1990404162),r=Jr(r,n,o,i,t[s+12],7,1804603682),i=Jr(i,r,n,o,t[s+13],12,-40341101),o=Jr(o,i,r,n,t[s+14],17,-1502002290),n=Jr(n,o,i,r,t[s+15],22,1236535329),r=Xr(r,n,o,i,t[s+1],5,-165796510),i=Xr(i,r,n,o,t[s+6],9,-1069501632),o=Xr(o,i,r,n,t[s+11],14,643717713),n=Xr(n,o,i,r,t[s],20,-373897302),r=Xr(r,n,o,i,t[s+5],5,-701558691),i=Xr(i,r,n,o,t[s+10],9,38016083),o=Xr(o,i,r,n,t[s+15],14,-660478335),n=Xr(n,o,i,r,t[s+4],20,-405537848),r=Xr(r,n,o,i,t[s+9],5,568446438),i=Xr(i,r,n,o,t[s+14],9,-1019803690),o=Xr(o,i,r,n,t[s+3],14,-187363961),n=Xr(n,o,i,r,t[s+8],20,1163531501),r=Xr(r,n,o,i,t[s+13],5,-1444681467),i=Xr(i,r,n,o,t[s+2],9,-51403784),o=Xr(o,i,r,n,t[s+7],14,1735328473),n=Xr(n,o,i,r,t[s+12],20,-1926607734),r=Zr(r,n,o,i,t[s+5],4,-378558),i=Zr(i,r,n,o,t[s+8],11,-2022574463),o=Zr(o,i,r,n,t[s+11],16,1839030562),n=Zr(n,o,i,r,t[s+14],23,-35309556),r=Zr(r,n,o,i,t[s+1],4,-1530992060),i=Zr(i,r,n,o,t[s+4],11,1272893353),o=Zr(o,i,r,n,t[s+7],16,-155497632),n=Zr(n,o,i,r,t[s+10],23,-1094730640),r=Zr(r,n,o,i,t[s+13],4,681279174),i=Zr(i,r,n,o,t[s],11,-358537222),o=Zr(o,i,r,n,t[s+3],16,-722521979),n=Zr(n,o,i,r,t[s+6],23,76029189),r=Zr(r,n,o,i,t[s+9],4,-640364487),i=Zr(i,r,n,o,t[s+12],11,-421815835),o=Zr(o,i,r,n,t[s+15],16,530742520),n=Zr(n,o,i,r,t[s+2],23,-995338651),r=en(r,n,o,i,t[s],6,-198630844),i=en(i,r,n,o,t[s+7],10,1126891415),o=en(o,i,r,n,t[s+14],15,-1416354905),n=en(n,o,i,r,t[s+5],21,-57434055),r=en(r,n,o,i,t[s+12],6,1700485571),i=en(i,r,n,o,t[s+3],10,-1894986606),o=en(o,i,r,n,t[s+10],15,-1051523),n=en(n,o,i,r,t[s+1],21,-2054922799),r=en(r,n,o,i,t[s+8],6,1873313359),i=en(i,r,n,o,t[s+15],10,-30611744),o=en(o,i,r,n,t[s+6],15,-1560198380),n=en(n,o,i,r,t[s+13],21,1309151649),r=en(r,n,o,i,t[s+4],6,-145523070),i=en(i,r,n,o,t[s+11],10,-1120210379),o=en(o,i,r,n,t[s+2],15,718787259),n=en(n,o,i,r,t[s+9],21,-343485551),r=Zs(r,a),n=Zs(n,c),o=Zs(o,u),i=Zs(i,h)}return[r,n,o,i]}function vF(t){if(t.length===0)return[];let e=t.length*8,r=new Uint32Array(W4(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Zs(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function EF(t,e){return t<<e|t>>>32-e}function Xp(t,e,r,n,o,i){return Zs(EF(Zs(Zs(e,t),Zs(n,i)),o),r)}function Jr(t,e,r,n,o,i,s){return Xp(e&r|~e&n,t,e,o,i,s)}function Xr(t,e,r,n,o,i,s){return Xp(e&n|r&~n,t,e,o,i,s)}function Zr(t,e,r,n,o,i,s){return Xp(e^r^n,t,e,o,i,s)}function en(t,e,r,n,o,i,s){return Xp(r^(e|~n),t,e,o,i,s)}var IF=wF;Zp.default=IF});var Q4=P(ey=>{"use strict";d();l();Object.defineProperty(ey,"__esModule",{value:!0});ey.default=void 0;var kF=$4(Lw()),TF=$4(G4());function $4(t){return t&&t.__esModule?t:{default:t}}var _F=(0,kF.default)("v3",48,TF.default),PF=_F;ey.default=PF});var Y4=P(ty=>{"use strict";d();l();Object.defineProperty(ty,"__esModule",{value:!0});ty.default=void 0;var BF=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),CF={randomUUID:BF};ty.default=CF});var Z4=P(ry=>{"use strict";d();l();Object.defineProperty(ry,"__esModule",{value:!0});ry.default=void 0;var J4=X4(Y4()),DF=X4(Dw()),OF=Nl();function X4(t){return t&&t.__esModule?t:{default:t}}function NF(t,e,r){if(J4.default.randomUUID&&!e&&!t)return J4.default.randomUUID();t=t||{};let n=t.random||(t.rng||DF.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let o=0;o<16;++o)e[r+o]=n[o];return e}return(0,OF.unsafeStringify)(n)}var RF=NF;ry.default=RF});var eI=P(ny=>{"use strict";d();l();Object.defineProperty(ny,"__esModule",{value:!0});ny.default=void 0;function UF(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function Mw(t,e){return t<<e|t>>>32-e}function LF(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){let s=unescape(encodeURIComponent(t));t=[];for(let a=0;a<s.length;++a)t.push(s.charCodeAt(a))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);let n=t.length/4+2,o=Math.ceil(n/16),i=new Array(o);for(let s=0;s<o;++s){let a=new Uint32Array(16);for(let c=0;c<16;++c)a[c]=t[s*64+c*4]<<24|t[s*64+c*4+1]<<16|t[s*64+c*4+2]<<8|t[s*64+c*4+3];i[s]=a}i[o-1][14]=(t.length-1)*8/Math.pow(2,32),i[o-1][14]=Math.floor(i[o-1][14]),i[o-1][15]=(t.length-1)*8&4294967295;for(let s=0;s<o;++s){let a=new Uint32Array(80);for(let m=0;m<16;++m)a[m]=i[s][m];for(let m=16;m<80;++m)a[m]=Mw(a[m-3]^a[m-8]^a[m-14]^a[m-16],1);let c=r[0],u=r[1],h=r[2],f=r[3],p=r[4];for(let m=0;m<80;++m){let g=Math.floor(m/20),x=Mw(c,5)+UF(g,u,h,f)+p+e[g]+a[m]>>>0;p=f,f=h,h=Mw(u,30)>>>0,u=c,c=x}r[0]=r[0]+c>>>0,r[1]=r[1]+u>>>0,r[2]=r[2]+h>>>0,r[3]=r[3]+f>>>0,r[4]=r[4]+p>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var MF=LF;ny.default=MF});var rI=P(oy=>{"use strict";d();l();Object.defineProperty(oy,"__esModule",{value:!0});oy.default=void 0;var FF=tI(Lw()),HF=tI(eI());function tI(t){return t&&t.__esModule?t:{default:t}}var KF=(0,FF.default)("v5",80,HF.default),VF=KF;oy.default=VF});var nI=P(iy=>{"use strict";d();l();Object.defineProperty(iy,"__esModule",{value:!0});iy.default=void 0;var qF="00000000-0000-0000-0000-000000000000";iy.default=qF});var oI=P(sy=>{"use strict";d();l();Object.defineProperty(sy,"__esModule",{value:!0});sy.default=void 0;var zF=jF(Dl());function jF(t){return t&&t.__esModule?t:{default:t}}function WF(t){if(!(0,zF.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var GF=WF;sy.default=GF});var Fw=P(Ko=>{"use strict";d();l();Object.defineProperty(Ko,"__esModule",{value:!0});Object.defineProperty(Ko,"NIL",{enumerable:!0,get:function(){return XF.default}});Object.defineProperty(Ko,"parse",{enumerable:!0,get:function(){return rH.default}});Object.defineProperty(Ko,"stringify",{enumerable:!0,get:function(){return tH.default}});Object.defineProperty(Ko,"v1",{enumerable:!0,get:function(){return $F.default}});Object.defineProperty(Ko,"v3",{enumerable:!0,get:function(){return QF.default}});Object.defineProperty(Ko,"v4",{enumerable:!0,get:function(){return YF.default}});Object.defineProperty(Ko,"v5",{enumerable:!0,get:function(){return JF.default}});Object.defineProperty(Ko,"validate",{enumerable:!0,get:function(){return eH.default}});Object.defineProperty(Ko,"version",{enumerable:!0,get:function(){return ZF.default}});var $F=es(q4()),QF=es(Q4()),YF=es(Z4()),JF=es(rI()),XF=es(nI()),ZF=es(oI()),eH=es(Dl()),tH=es(Nl()),rH=es(Uw());function es(t){return t&&t.__esModule?t:{default:t}}});var sI=P((Vfe,iI)=>{"use strict";d();l();var nH=Fw().v4,oH=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let o=typeof n.version=="number"?n.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");let i={method:t};if(o===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof r>"u"){let s=typeof n.generator=="function"?n.generator:function(){return nH()};i.id=s(i,n)}else o===2&&r===null?n.notificationIdNull&&(i.id=null):i.id=r;return i};iI.exports=oH});var cI=P((jfe,aI)=>{"use strict";d();l();var iH=Fw().v4,sH=sI(),Rl=function(t,e){if(!(this instanceof Rl))return new Rl(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return iH()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};aI.exports=Rl;Rl.prototype.request=function(t,e,r,n){let o=this,i=null,s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")n=e,i=t;else{typeof r=="function"&&(n=r,r=void 0);let u=typeof n=="function";try{i=sH(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(h){if(u)return n(h);throw h}if(!u)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(u){return n(u)}return this.callServer(c,function(u,h){o._parseResponse(u,h,n)}),i};Rl.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(o){return r(o)}if(r.length===3)if(Array.isArray(n)){let o=function(s){return typeof s.error<"u"},i=function(s){return!o(s)};return r(null,n.filter(o),n.filter(i))}else return r(null,n.error,n.result);r(null,n)}});var lf=P(($fe,ts)=>{d();l();function Hw(t){"@babel/helpers - typeof";return ts.exports=Hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts.exports.__esModule=!0,ts.exports.default=ts.exports,Hw(t)}ts.exports=Hw,ts.exports.__esModule=!0,ts.exports.default=ts.exports});var fI=P((Jfe,rs)=>{d();l();var aH=lf().default;function uI(){"use strict";rs.exports=uI=function(){return t},rs.exports.__esModule=!0,rs.exports.default=rs.exports;var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(D,O,R){D[O]=R.value},o=typeof Symbol=="function"?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(D,O,R){return Object.defineProperty(D,O,{value:R,enumerable:!0,configurable:!0,writable:!0}),D[O]}try{c({},"")}catch{c=function(R,Q,fe){return R[Q]=fe}}function u(D,O,R,Q){var fe=O&&O.prototype instanceof p?O:p,ae=Object.create(fe.prototype),Ie=new G(Q||[]);return n(ae,"_invoke",{value:C(D,R,Ie)}),ae}function h(D,O,R){try{return{type:"normal",arg:D.call(O,R)}}catch(Q){return{type:"throw",arg:Q}}}t.wrap=u;var f={};function p(){}function m(){}function g(){}var x={};c(x,i,function(){return this});var w=Object.getPrototypeOf,S=w&&w(w(re([])));S&&S!==e&&r.call(S,i)&&(x=S);var k=g.prototype=p.prototype=Object.create(x);function A(D){["next","throw","return"].forEach(function(O){c(D,O,function(R){return this._invoke(O,R)})})}function T(D,O){function R(fe,ae,Ie,B){var N=h(D[fe],D,ae);if(N.type!=="throw"){var X=N.arg,L=X.value;return L&&aH(L)=="object"&&r.call(L,"__await")?O.resolve(L.__await).then(function(M){R("next",M,Ie,B)},function(M){R("throw",M,Ie,B)}):O.resolve(L).then(function(M){X.value=M,Ie(X)},function(M){return R("throw",M,Ie,B)})}B(N.arg)}var Q;n(this,"_invoke",{value:function(ae,Ie){function B(){return new O(function(N,X){R(ae,Ie,N,X)})}return Q=Q?Q.then(B,B):B()}})}function C(D,O,R){var Q="suspendedStart";return function(fe,ae){if(Q==="executing")throw new Error("Generator is already running");if(Q==="completed"){if(fe==="throw")throw ae;return Z()}for(R.method=fe,R.arg=ae;;){var Ie=R.delegate;if(Ie){var B=W(Ie,R);if(B){if(B===f)continue;return B}}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(Q==="suspendedStart")throw Q="completed",R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);Q="executing";var N=h(D,O,R);if(N.type==="normal"){if(Q=R.done?"completed":"suspendedYield",N.arg===f)continue;return{value:N.arg,done:R.done}}N.type==="throw"&&(Q="completed",R.method="throw",R.arg=N.arg)}}}function W(D,O){var R=O.method,Q=D.iterator[R];if(Q===void 0)return O.delegate=null,R==="throw"&&D.iterator.return&&(O.method="return",O.arg=void 0,W(D,O),O.method==="throw")||R!=="return"&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+R+"' method")),f;var fe=h(Q,D.iterator,O.arg);if(fe.type==="throw")return O.method="throw",O.arg=fe.arg,O.delegate=null,f;var ae=fe.arg;return ae?ae.done?(O[D.resultName]=ae.value,O.next=D.nextLoc,O.method!=="return"&&(O.method="next",O.arg=void 0),O.delegate=null,f):ae:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,f)}function oe(D){var O={tryLoc:D[0]};1 in D&&(O.catchLoc=D[1]),2 in D&&(O.finallyLoc=D[2],O.afterLoc=D[3]),this.tryEntries.push(O)}function Y(D){var O=D.completion||{};O.type="normal",delete O.arg,D.completion=O}function G(D){this.tryEntries=[{tryLoc:"root"}],D.forEach(oe,this),this.reset(!0)}function re(D){if(D){var O=D[i];if(O)return O.call(D);if(typeof D.next=="function")return D;if(!isNaN(D.length)){var R=-1,Q=function fe(){for(;++R<D.length;)if(r.call(D,R))return fe.value=D[R],fe.done=!1,fe;return fe.value=void 0,fe.done=!0,fe};return Q.next=Q}}return{next:Z}}function Z(){return{value:void 0,done:!0}}return m.prototype=g,n(k,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:m,configurable:!0}),m.displayName=c(g,a,"GeneratorFunction"),t.isGeneratorFunction=function(D){var O=typeof D=="function"&&D.constructor;return!!O&&(O===m||(O.displayName||O.name)==="GeneratorFunction")},t.mark=function(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,g):(D.__proto__=g,c(D,a,"GeneratorFunction")),D.prototype=Object.create(k),D},t.awrap=function(D){return{__await:D}},A(T.prototype),c(T.prototype,s,function(){return this}),t.AsyncIterator=T,t.async=function(D,O,R,Q,fe){fe===void 0&&(fe=Promise);var ae=new T(u(D,O,R,Q),fe);return t.isGeneratorFunction(O)?ae:ae.next().then(function(Ie){return Ie.done?Ie.value:ae.next()})},A(k),c(k,a,"Generator"),c(k,i,function(){return this}),c(k,"toString",function(){return"[object Generator]"}),t.keys=function(D){var O=Object(D),R=[];for(var Q in O)R.push(Q);return R.reverse(),function fe(){for(;R.length;){var ae=R.pop();if(ae in O)return fe.value=ae,fe.done=!1,fe}return fe.done=!0,fe}},t.values=re,G.prototype={constructor:G,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Y),!O)for(var R in this)R.charAt(0)==="t"&&r.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=void 0)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var R=this;function Q(X,L){return Ie.type="throw",Ie.arg=O,R.next=X,L&&(R.method="next",R.arg=void 0),!!L}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var ae=this.tryEntries[fe],Ie=ae.completion;if(ae.tryLoc==="root")return Q("end");if(ae.tryLoc<=this.prev){var B=r.call(ae,"catchLoc"),N=r.call(ae,"finallyLoc");if(B&&N){if(this.prev<ae.catchLoc)return Q(ae.catchLoc,!0);if(this.prev<ae.finallyLoc)return Q(ae.finallyLoc)}else if(B){if(this.prev<ae.catchLoc)return Q(ae.catchLoc,!0)}else{if(!N)throw new Error("try statement without catch or finally");if(this.prev<ae.finallyLoc)return Q(ae.finallyLoc)}}}},abrupt:function(O,R){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var fe=this.tryEntries[Q];if(fe.tryLoc<=this.prev&&r.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var ae=fe;break}}ae&&(O==="break"||O==="continue")&&ae.tryLoc<=R&&R<=ae.finallyLoc&&(ae=null);var Ie=ae?ae.completion:{};return Ie.type=O,Ie.arg=R,ae?(this.method="next",this.next=ae.finallyLoc,f):this.complete(Ie)},complete:function(O,R){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&R&&(this.next=R),f},finish:function(O){for(var R=this.tryEntries.length-1;R>=0;--R){var Q=this.tryEntries[R];if(Q.finallyLoc===O)return this.complete(Q.completion,Q.afterLoc),Y(Q),f}},catch:function(O){for(var R=this.tryEntries.length-1;R>=0;--R){var Q=this.tryEntries[R];if(Q.tryLoc===O){var fe=Q.completion;if(fe.type==="throw"){var ae=fe.arg;Y(Q)}return ae}}throw new Error("illegal catch attempt")},delegateYield:function(O,R,Q){return this.delegate={iterator:re(O),resultName:R,nextLoc:Q},this.method==="next"&&(this.arg=void 0),f}},t}rs.exports=uI,rs.exports.__esModule=!0,rs.exports.default=rs.exports});var lI=P((ede,dI)=>{d();l();var ay=fI()();dI.exports=ay;try{regeneratorRuntime=ay}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=ay:Function("r","regeneratorRuntime = r")(ay)}});var pI=P((nde,Ul)=>{d();l();function hI(t,e,r,n,o,i,s){try{var a=t[i](s),c=a.value}catch(u){r(u);return}a.done?e(c):Promise.resolve(c).then(n,o)}function cH(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function s(c){hI(i,n,o,s,a,"next",c)}function a(c){hI(i,n,o,s,a,"throw",c)}s(void 0)})}}Ul.exports=cH,Ul.exports.__esModule=!0,Ul.exports.default=Ul.exports});var Kw=P((sde,Ll)=>{d();l();function uH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Ll.exports=uH,Ll.exports.__esModule=!0,Ll.exports.default=Ll.exports});var mI=P((ude,Ml)=>{d();l();var yI=lf().default;function fH(t,e){if(yI(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yI(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Ml.exports=fH,Ml.exports.__esModule=!0,Ml.exports.default=Ml.exports});var gI=P((lde,Fl)=>{d();l();var dH=lf().default,lH=mI();function hH(t){var e=lH(t,"string");return dH(e)==="symbol"?e:String(e)}Fl.exports=hH,Fl.exports.__esModule=!0,Fl.exports.default=Fl.exports});var Vw=P((yde,Hl)=>{d();l();var pH=gI();function bI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pH(n.key),n)}}function yH(t,e,r){return e&&bI(t.prototype,e),r&&bI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}Hl.exports=yH,Hl.exports.__esModule=!0,Hl.exports.default=Hl.exports});var xI=P((bde,ns)=>{d();l();function qw(t,e){return ns.exports=qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ns.exports.__esModule=!0,ns.exports.default=ns.exports,qw(t,e)}ns.exports=qw,ns.exports.__esModule=!0,ns.exports.default=ns.exports});var zw=P((Ade,Kl)=>{d();l();var mH=xI();function gH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mH(t,e)}Kl.exports=gH,Kl.exports.__esModule=!0,Kl.exports.default=Kl.exports});var wI=P((Ede,Vl)=>{d();l();function bH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Vl.exports=bH,Vl.exports.__esModule=!0,Vl.exports.default=Vl.exports});var jw=P((Tde,ql)=>{d();l();var xH=lf().default,wH=wI();function AH(t,e){if(e&&(xH(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wH(t)}ql.exports=AH,ql.exports.__esModule=!0,ql.exports.default=ql.exports});var Gw=P((Bde,os)=>{d();l();function Ww(t){return os.exports=Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},os.exports.__esModule=!0,os.exports.default=os.exports,Ww(t)}os.exports=Ww,os.exports.__esModule=!0,os.exports.default=os.exports});var SI=P(uy=>{"use strict";d();l();var ta=_6();Object.defineProperty(uy,"__esModule",{value:!0});uy.default=void 0;var ea=ta(lI()),cy=ta(pI()),SH=ta(lf()),vH=ta(Kw()),EH=ta(Vw()),IH=ta(zw()),kH=ta(jw()),AI=ta(Gw()),TH=P6();function _H(t){var e=PH();return function(){var n=(0,AI.default)(t),o;if(e){var i=(0,AI.default)(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return(0,kH.default)(this,o)}}function PH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var BH=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},CH=function(t){(0,IH.default)(r,t);var e=_H(r);function r(n){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;(0,vH.default)(this,r);var c=s.autoconnect,u=c===void 0?!0:c,h=s.reconnect,f=h===void 0?!0:h,p=s.reconnect_interval,m=p===void 0?1e3:p,g=s.max_reconnects,x=g===void 0?5:g,w=BH(s,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return o=e.call(this),o.webSocketFactory=n,o.queue={},o.rpc_id=0,o.address=i,o.autoconnect=u,o.ready=!1,o.reconnect=f,o.reconnect_timer_id=void 0,o.reconnect_interval=m,o.max_reconnects=x,o.rest_options=w,o.current_reconnects=0,o.generate_request_id=a||function(){return++o.rpc_id},o.autoconnect&&o._connect(o.address,Object.assign({autoconnect:o.autoconnect,reconnect:o.reconnect,reconnect_interval:o.reconnect_interval,max_reconnects:o.max_reconnects},o.rest_options)),o}return(0,EH.default)(r,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(o,i,s,a){var c=this;return!a&&(0,SH.default)(s)==="object"&&(a=s,s=null),new Promise(function(u,h){if(!c.ready)return h(new Error("socket not ready"));var f=c.generate_request_id(o,i),p={jsonrpc:"2.0",method:o,params:i||null,id:f};c.socket.send(JSON.stringify(p),a,function(m){if(m)return h(m);c.queue[f]={promise:[u,h]},s&&(c.queue[f].timeout=setTimeout(function(){delete c.queue[f],h(new Error("reply timeout"))},s))})})}},{key:"login",value:function(){var n=(0,cy.default)(ea.default.mark(function i(s){var a;return ea.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.call("rpc.login",s);case 2:if(a=u.sent,a){u.next=5;break}throw new Error("authentication failed");case 5:return u.abrupt("return",a);case 6:case"end":return u.stop()}},i,this)}));function o(i){return n.apply(this,arguments)}return o}()},{key:"listMethods",value:function(){var n=(0,cy.default)(ea.default.mark(function i(){return ea.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.call("__listMethods");case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function o(){return n.apply(this,arguments)}return o}()},{key:"notify",value:function(o,i){var s=this;return new Promise(function(a,c){if(!s.ready)return c(new Error("socket not ready"));var u={jsonrpc:"2.0",method:o,params:i||null};s.socket.send(JSON.stringify(u),function(h){if(h)return c(h);a()})})}},{key:"subscribe",value:function(){var n=(0,cy.default)(ea.default.mark(function i(s){var a;return ea.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return typeof s=="string"&&(s=[s]),u.next=3,this.call("rpc.on",s);case 3:if(a=u.sent,!(typeof s=="string"&&a[s]!=="ok")){u.next=6;break}throw new Error("Failed subscribing to an event '"+s+"' with: "+a[s]);case 6:return u.abrupt("return",a);case 7:case"end":return u.stop()}},i,this)}));function o(i){return n.apply(this,arguments)}return o}()},{key:"unsubscribe",value:function(){var n=(0,cy.default)(ea.default.mark(function i(s){var a;return ea.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return typeof s=="string"&&(s=[s]),u.next=3,this.call("rpc.off",s);case 3:if(a=u.sent,!(typeof s=="string"&&a[s]!=="ok")){u.next=6;break}throw new Error("Failed unsubscribing from an event with: "+a);case 6:return u.abrupt("return",a);case 7:case"end":return u.stop()}},i,this)}));function o(i){return n.apply(this,arguments)}return o}()},{key:"close",value:function(o,i){this.socket.close(o||1e3,i)}},{key:"_connect",value:function(o,i){var s=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(o,i),this.socket.addEventListener("open",function(){s.ready=!0,s.emit("open"),s.current_reconnects=0}),this.socket.addEventListener("message",function(a){var c=a.data;c instanceof ArrayBuffer&&(c=Buffer.from(c).toString());try{c=JSON.parse(c)}catch{return}if(c.notification&&s.listeners(c.notification).length){if(!Object.keys(c.params).length)return s.emit(c.notification);var u=[c.notification];if(c.params.constructor===Object)u.push(c.params);else for(var h=0;h<c.params.length;h++)u.push(c.params[h]);return Promise.resolve().then(function(){s.emit.apply(s,u)})}if(!s.queue[c.id])return c.method&&c.params?Promise.resolve().then(function(){s.emit(c.method,c.params)}):void 0;"error"in c=="result"in c&&s.queue[c.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),s.queue[c.id].timeout&&clearTimeout(s.queue[c.id].timeout),c.error?s.queue[c.id].promise[1](c.error):s.queue[c.id].promise[0](c.result),delete s.queue[c.id]}),this.socket.addEventListener("error",function(a){return s.emit("error",a)}),this.socket.addEventListener("close",function(a){var c=a.code,u=a.reason;s.ready&&setTimeout(function(){return s.emit("close",c,u)},0),s.ready=!1,s.socket=void 0,c!==1e3&&(s.current_reconnects++,s.reconnect&&(s.max_reconnects>s.current_reconnects||s.max_reconnects===0)&&(s.reconnect_timer_id=setTimeout(function(){return s._connect(o,i)},s.reconnect_interval)))})}}]),r}(TH.EventEmitter);uy.default=CH});var EI=P($w=>{"use strict";d();l();var zl=_6();Object.defineProperty($w,"__esModule",{value:!0});$w.default=HH;var DH=zl(Kw()),OH=zl(Vw()),NH=zl(zw()),RH=zl(jw()),vI=zl(Gw()),UH=P6();function LH(t){var e=MH();return function(){var n=(0,vI.default)(t),o;if(e){var i=(0,vI.default)(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return(0,RH.default)(this,o)}}function MH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var FH=function(t){(0,NH.default)(r,t);var e=LH(r);function r(n,o,i){var s;return(0,DH.default)(this,r),s=e.call(this),s.socket=new self.WebSocket(n,i),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(a){return s.emit("message",a.data)},s.socket.onerror=function(a){return s.emit("error",a)},s.socket.onclose=function(a){s.emit("close",a.code,a.reason)},s}return(0,OH.default)(r,[{key:"send",value:function(o,i,s){var a=s||i;try{this.socket.send(o),a()}catch(c){a(c)}}},{key:"close",value:function(o,i){this.socket.close(o,i)}},{key:"addEventListener",value:function(o,i,s){this.socket.addEventListener(o,i,s)}}]),r}(UH.EventEmitter);function HH(t,e){return new FH(t,e)}});var DI=P(It=>{"use strict";d();l();Object.defineProperty(It,"__esModule",{value:!0});It.shake256=It.shake128=It.keccak_512=It.keccak_384=It.keccak_256=It.keccak_224=It.sha3_512=It.sha3_384=It.sha3_256=It.sha3_224=It.Keccak=It.keccakP=void 0;var hf=fp(),Gl=iw(),Wl=Zu(),[TI,_I,PI]=[[],[],[]],KH=BigInt(0),jl=BigInt(1),VH=BigInt(2),qH=BigInt(7),zH=BigInt(256),jH=BigInt(113);for(let t=0,e=jl,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],TI.push(2*(5*n+r)),_I.push((t+1)*(t+2)/2%64);let o=KH;for(let i=0;i<7;i++)e=(e<<jl^(e>>qH)*jH)%zH,e&VH&&(o^=jl<<(jl<<BigInt(i))-jl);PI.push(o)}var[WH,GH]=Gl.default.split(PI,!0),II=(t,e,r)=>r>32?Gl.default.rotlBH(t,e,r):Gl.default.rotlSH(t,e,r),kI=(t,e,r)=>r>32?Gl.default.rotlBL(t,e,r):Gl.default.rotlSL(t,e,r);function BI(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,u=r[c],h=r[c+1],f=II(u,h,1)^r[a],p=kI(u,h,1)^r[a+1];for(let m=0;m<50;m+=10)t[s+m]^=f,t[s+m+1]^=p}let o=t[2],i=t[3];for(let s=0;s<24;s++){let a=_I[s],c=II(o,i,a),u=kI(o,i,a),h=TI[s];o=t[h],i=t[h+1],t[h]=c,t[h+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=WH[n],t[1]^=GH[n]}r.fill(0)}It.keccakP=BI;var $l=class t extends Wl.Hash{constructor(e,r,n,o=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,hf.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Wl.u32)(this.state)}keccak(){BI(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){hf.default.exists(this);let{blockLen:r,state:n}=this;e=(0,Wl.toBytes)(e);let o=e.length;for(let i=0;i<o;){let s=Math.min(r-this.pos,o-i);for(let a=0;a<s;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:o}=this;e[n]^=r,r&128&&n===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){hf.default.exists(this,!1),hf.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let o=0,i=e.length;o<i;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,i-o);e.set(r.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hf.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(hf.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:o,rounds:i,enableXOF:s}=this;return e||(e=new t(r,n,o,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}};It.Keccak=$l;var ra=(t,e,r)=>(0,Wl.wrapConstructor)(()=>new $l(e,t,r));It.sha3_224=ra(6,144,224/8);It.sha3_256=ra(6,136,256/8);It.sha3_384=ra(6,104,384/8);It.sha3_512=ra(6,72,512/8);It.keccak_224=ra(1,144,224/8);It.keccak_256=ra(1,136,256/8);It.keccak_384=ra(1,104,384/8);It.keccak_512=ra(1,72,512/8);var CI=(t,e,r)=>(0,Wl.wrapConstructorWithOpts)((n={})=>new $l(e,t,n.dkLen===void 0?r:n.dkLen,!0));It.shake128=CI(31,168,128/8);It.shake256=CI(31,136,256/8)});var NI=P(Ql=>{"use strict";d();l();Object.defineProperty(Ql,"__esModule",{value:!0});Ql.hmac=void 0;var fy=fp(),OI=Zu(),dy=class extends OI.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,fy.default.hash(e);let n=(0,OI.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return fy.default.exists(this),this.iHash.update(e),this}digestInto(e){fy.default.exists(this),fy.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},$H=(t,e,r)=>new dy(t,e).update(r).digest();Ql.hmac=$H;Ql.hmac.create=(t,e)=>new dy(t,e)});var Xw=P(Qe=>{"use strict";d();l();Object.defineProperty(Qe,"__esModule",{value:!0});Qe.utils=Qe.schnorr=Qe.verify=Qe.signSync=Qe.sign=Qe.getSharedSecret=Qe.recoverPublicKey=Qe.getPublicKey=Qe.Signature=Qe.Point=Qe.CURVE=void 0;var QH=ip(),Xe=BigInt(0),Bt=BigInt(1),ia=BigInt(2),Jl=BigInt(3),RI=BigInt(8),xt=Object.freeze({a:Xe,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Bt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});Qe.CURVE=xt;var UI=(t,e)=>(t+e/ia)/e,ly={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=xt,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Bt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,s=BigInt("0x100000000000000000000000000000000"),a=UI(i*t,e),c=UI(-n*t,e),u=ce(t-a*r-c*o,e),h=ce(-a*n-c*i,e),f=u>s,p=h>s;if(f&&(u=e-u),p&&(h=e-h),u>s||h>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:p,k2:h}}},Vo=32,Lc=32,qI=32,gy=Vo+1,by=2*Vo+1;function LI(t){let{a:e,b:r}=xt,n=ce(t*t),o=ce(n*t);return ce(o+e*t+r)}var hy=xt.a===Xe,Zl=class extends Error{constructor(e){super(e)}};function MI(t){if(!(t instanceof hn))throw new TypeError("JacobianPoint expected")}var hn=class t{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof kt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(kt.ZERO)?t.ZERO:new t(e.x,e.y,Bt)}static toAffineBatch(e){let r=eK(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(r[o]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){MI(e);let{x:r,y:n,z:o}=this,{x:i,y:s,z:a}=e,c=ce(o*o),u=ce(a*a),h=ce(r*u),f=ce(i*c),p=ce(ce(n*a)*u),m=ce(ce(s*o)*c);return h===f&&p===m}negate(){return new t(this.x,ce(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,o=ce(e*e),i=ce(r*r),s=ce(i*i),a=e+i,c=ce(ia*(ce(a*a)-o-s)),u=ce(Jl*o),h=ce(u*u),f=ce(h-ia*c),p=ce(u*(c-f)-RI*s),m=ce(ia*r*n);return new t(f,p,m)}add(e){MI(e);let{x:r,y:n,z:o}=this,{x:i,y:s,z:a}=e;if(i===Xe||s===Xe)return this;if(r===Xe||n===Xe)return e;let c=ce(o*o),u=ce(a*a),h=ce(r*u),f=ce(i*c),p=ce(ce(n*a)*u),m=ce(ce(s*o)*c),g=ce(f-h),x=ce(m-p);if(g===Xe)return x===Xe?this.double():t.ZERO;let w=ce(g*g),S=ce(g*w),k=ce(h*w),A=ce(x*x-S-ia*k),T=ce(x*(k-A)-p*S),C=ce(o*a*g);return new t(A,T,C)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===Xe)return r;let n=KI(e);if(n===Bt)return this;if(!hy){let f=r,p=this;for(;n>Xe;)n&Bt&&(f=f.add(p)),p=p.double(),n>>=Bt;return f}let{k1neg:o,k1:i,k2neg:s,k2:a}=ly.splitScalar(n),c=r,u=r,h=this;for(;i>Xe||a>Xe;)i&Bt&&(c=c.add(h)),a&Bt&&(u=u.add(h)),h=h.double(),i>>=Bt,a>>=Bt;return o&&(c=c.negate()),s&&(u=u.negate()),u=new t(ce(u.x*ly.beta),u.y,u.z),c.add(u)}precomputeWindow(e){let r=hy?128/e+1:256/e+1,n=[],o=this,i=o;for(let s=0;s<r;s++){i=o,n.push(i);for(let a=1;a<2**(e-1);a++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=kt.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=r&&Qw.get(r);o||(o=this.precomputeWindow(n),r&&n!==1&&(o=t.normalizeZ(o),Qw.set(r,o)));let i=t.ZERO,s=t.BASE,a=1+(hy?128/n:256/n),c=2**(n-1),u=BigInt(2**n-1),h=2**n,f=BigInt(n);for(let p=0;p<a;p++){let m=p*c,g=Number(e&u);e>>=f,g>c&&(g-=h,e+=Bt);let x=m,w=m+Math.abs(g)-1,S=p%2!==0,k=g<0;g===0?s=s.add(py(S,o[x])):i=i.add(py(k,o[w]))}return{p:i,f:s}}multiply(e,r){let n=KI(e),o,i;if(hy){let{k1neg:s,k1:a,k2neg:c,k2:u}=ly.splitScalar(n),{p:h,f}=this.wNAF(a,r),{p,f:m}=this.wNAF(u,r);h=py(s,h),p=py(c,p),p=new t(ce(p.x*ly.beta),p.y,p.z),o=h.add(p),i=f.add(m)}else{let{p:s,f:a}=this.wNAF(n,r);o=s,i=a}return t.normalizeZ([o,i])[0]}toAffine(e){let{x:r,y:n,z:o}=this,i=this.equals(t.ZERO);e==null&&(e=i?RI:xf(o));let s=e,a=ce(s*s),c=ce(a*s),u=ce(r*a),h=ce(n*c),f=ce(o*s);if(i)return kt.ZERO;if(f!==Bt)throw new Error("invZ was invalid");return new kt(u,h)}};hn.BASE=new hn(xt.Gx,xt.Gy,Bt);hn.ZERO=new hn(Xe,Bt,Xe);function py(t,e){let r=e.negate();return t?r:e}var Qw=new WeakMap,kt=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Qw.delete(this)}hasEvenY(){return this.y%ia===Xe}static fromCompressedHex(e){let r=e.length===32,n=jn(r?e:e.subarray(1));if(!my(n))throw new Error("Point is not on curve");let o=LI(n),i=ZH(o),s=(i&Bt)===Bt;r?s&&(i=ce(-i)):(e[0]&1)===1!==s&&(i=ce(-i));let a=new t(n,i);return a.assertValidity(),a}static fromUncompressedHex(e){let r=jn(e.subarray(1,Vo+1)),n=jn(e.subarray(Vo+1,Vo*2+1)),o=new t(r,n);return o.assertValidity(),o}static fromHex(e){let r=pi(e),n=r.length,o=r[0];if(n===Vo)return this.fromCompressedHex(r);if(n===gy&&(o===2||o===3))return this.fromCompressedHex(r);if(n===by&&o===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${gy} compressed bytes or ${by} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(Mc(e))}static fromSignature(e,r,n){let{r:o,s:i}=jI(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let s=Yw(pi(e)),{n:a}=xt,c=n===2||n===3?o+a:o,u=xf(c,a),h=ce(-s*u,a),f=ce(i*u,a),p=n&1?"03":"02",m=t.fromHex(p+sa(c)),g=t.BASE.multiplyAndAddUnsafe(m,h,f);if(!g)throw new Error("Cannot recover signature: point at infinify");return g.assertValidity(),g}toRawBytes(e=!1){return aa(this.toHex(e))}toHex(e=!1){let r=sa(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${sa(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!my(r)||!my(n))throw new Error(e);let o=ce(n*n),i=LI(r);if(ce(o-i)!==Xe)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,ce(-this.y))}double(){return hn.fromAffine(this).double().toAffine()}add(e){return hn.fromAffine(this).add(hn.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return hn.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let o=hn.fromAffine(this),i=r===Xe||r===Bt||this!==t.BASE?o.multiplyUnsafe(r):o.multiply(r),s=hn.fromAffine(e).multiplyUnsafe(n),a=i.add(s);return a.equals(hn.ZERO)?void 0:a.toAffine()}};Qe.Point=kt;kt.BASE=new kt(xt.Gx,xt.Gy);kt.ZERO=new kt(Xe,Xe);function FI(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function HI(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${yf(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:jn(r),left:t.subarray(e+2)}}function YH(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${yf(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=HI(t.subarray(2)),{data:n,left:o}=HI(r);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${yf(o)}`);return{r:e,s:n}}var Uc=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let o=r?yf(e):e;if(o.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(xy(o.slice(0,64)),xy(o.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:o}=YH(r?e:aa(e));return new t(n,o)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!gf(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!gf(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=xt.n>>Bt;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,ce(-this.s,xt.n)):this}toDERRawBytes(){return aa(this.toDERHex())}toDERHex(){let e=FI(Yl(this.s)),r=FI(Yl(this.r)),n=e.length/2,o=r.length/2,i=Yl(n),s=Yl(o);return`30${Yl(o+n+4)}02${s}${r}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return aa(this.toCompactHex())}toCompactHex(){return sa(this.r)+sa(this.s)}};Qe.Signature=Uc;function oa(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}var JH=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function yf(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=JH[t[r]];return e}var XH=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function sa(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(Xe<=t&&t<XH))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function mf(t){let e=aa(sa(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function Yl(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function xy(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function aa(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}function jn(t){return xy(yf(t))}function pi(t){return t instanceof Uint8Array?Uint8Array.from(t):aa(t)}function KI(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&gf(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ce(t,e=xt.P){let r=t%e;return r>=Xe?r:e+r}function lo(t,e){let{P:r}=xt,n=t;for(;e-- >Xe;)n*=n,n%=r;return n}function ZH(t){let{P:e}=xt,r=BigInt(6),n=BigInt(11),o=BigInt(22),i=BigInt(23),s=BigInt(44),a=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=lo(u,Jl)*u%e,f=lo(h,Jl)*u%e,p=lo(f,ia)*c%e,m=lo(p,n)*p%e,g=lo(m,o)*m%e,x=lo(g,s)*g%e,w=lo(x,a)*x%e,S=lo(w,s)*g%e,k=lo(S,Jl)*u%e,A=lo(k,i)*m%e,T=lo(A,r)*c%e,C=lo(T,ia);if(C*C%e!==t)throw new Error("Cannot find square root");return C}function xf(t,e=xt.P){if(t===Xe||e<=Xe)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ce(t,e),n=e,o=Xe,i=Bt,s=Bt,a=Xe;for(;r!==Xe;){let u=n/r,h=n%r,f=o-s*u,p=i-a*u;n=r,r=h,o=s,i=a,s=f,a=p}if(n!==Bt)throw new Error("invert: does not exist");return ce(o,e)}function eK(t,e=xt.P){let r=new Array(t.length),n=t.reduce((i,s,a)=>s===Xe?i:(r[a]=i,ce(i*s,e)),Bt),o=xf(n,e);return t.reduceRight((i,s,a)=>s===Xe?i:(r[a]=ce(i*r[a],e),ce(i*s,e)),o),r}function tK(t){let e=t.length*8-Lc*8,r=jn(t);return e>0?r>>BigInt(e):r}function Yw(t,e=!1){let r=tK(t);if(e)return r;let{n}=xt;return r>=n?r-n:r}var pf,Xl,wy=class{constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return Qe.utils.hmacSha256(this.k,...e)}hmacSync(...e){return Xl(this.k,...e)}checkSync(){if(typeof Xl!="function")throw new Zl("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return oa(...r)}generateSync(){this.checkSync(),this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return oa(...r)}};function gf(t){return Xe<t&&t<xt.n}function my(t){return Xe<t&&t<xt.P}function zI(t,e,r,n=!0){let{n:o}=xt,i=Yw(t,!0);if(!gf(i))return;let s=xf(i,o),a=kt.BASE.multiply(i),c=ce(a.x,o);if(c===Xe)return;let u=ce(s*ce(e+r*c,o),o);if(u===Xe)return;let h=new Uc(c,u),f=(a.x===h.r?0:2)|Number(a.y&Bt);return n&&h.hasHighS()&&(h=h.normalizeS(),f^=1),{sig:h,recovery:f}}function Mc(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*Lc)throw new Error("Expected 32 bytes of private key");e=xy(t)}else if(t instanceof Uint8Array){if(t.length!==Lc)throw new Error("Expected 32 bytes of private key");e=jn(t)}else throw new TypeError("Expected valid private key");if(!gf(e))throw new Error("Expected private key: 0 < key < n");return e}function Jw(t){return t instanceof kt?(t.assertValidity(),t):kt.fromHex(t)}function jI(t){if(t instanceof Uc)return t.assertValidity(),t;try{return Uc.fromDER(t)}catch{return Uc.fromCompact(t)}}function rK(t,e=!1){return kt.fromPrivateKey(t).toRawBytes(e)}Qe.getPublicKey=rK;function nK(t,e,r,n=!1){return kt.fromSignature(t,e,r).toRawBytes(n)}Qe.recoverPublicKey=nK;function VI(t){let e=t instanceof Uint8Array,r=typeof t=="string",n=(e||r)&&t.length;return e?n===gy||n===by:r?n===gy*2||n===by*2:t instanceof kt}function oK(t,e,r=!1){if(VI(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!VI(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=Jw(e);return n.assertValidity(),n.multiply(Mc(t)).toRawBytes(r)}Qe.getSharedSecret=oK;function WI(t){let e=t.length>Vo?t.slice(0,Vo):t;return jn(e)}function iK(t){let e=WI(t),r=ce(e,xt.n);return GI(r<Xe?e:r)}function GI(t){return mf(t)}function $I(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=pi(t),o=Mc(e),i=[GI(o),iK(n)];if(r!=null){r===!0&&(r=Qe.utils.randomBytes(Vo));let c=pi(r);if(c.length!==Vo)throw new Error(`sign: Expected ${Vo} bytes of extra data`);i.push(c)}let s=oa(...i),a=WI(n);return{seed:s,m:a,d:o}}function QI(t,e){let{sig:r,recovery:n}=t,{der:o,recovered:i}=Object.assign({canonical:!0,der:!0},e),s=o?r.toDERRawBytes():r.toCompactRawBytes();return i?[s,n]:s}async function sK(t,e,r={}){let{seed:n,m:o,d:i}=$I(t,e,r.extraEntropy),s=new wy(qI,Lc);await s.reseed(n);let a;for(;!(a=zI(await s.generate(),o,i,r.canonical));)await s.reseed();return QI(a,r)}Qe.sign=sK;function aK(t,e,r={}){let{seed:n,m:o,d:i}=$I(t,e,r.extraEntropy),s=new wy(qI,Lc);s.reseedSync(n);let a;for(;!(a=zI(s.generateSync(),o,i,r.canonical));)s.reseedSync();return QI(a,r)}Qe.signSync=aK;var cK={strict:!0};function uK(t,e,r,n=cK){let o;try{o=jI(t),e=pi(e)}catch{return!1}let{r:i,s}=o;if(n.strict&&o.hasHighS())return!1;let a=Yw(e),c;try{c=Jw(r)}catch{return!1}let{n:u}=xt,h=xf(s,u),f=ce(a*h,u),p=ce(i*h,u),m=kt.BASE.multiplyAndAddUnsafe(c,f,p);return m?ce(m.x,u)===i:!1}Qe.verify=uK;function Ay(t){return ce(jn(t),xt.n)}var bf=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=pi(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=jn(r.subarray(0,32)),o=jn(r.subarray(32,64));return new t(n,o)}assertValidity(){let{r:e,s:r}=this;if(!my(e)||!gf(r))throw new Error("Invalid signature")}toHex(){return sa(this.r)+sa(this.s)}toRawBytes(){return aa(this.toHex())}};function fK(t){return kt.fromPrivateKey(t).toRawX()}var Sy=class{constructor(e,r,n=Qe.utils.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=pi(e);let{x:o,scalar:i}=this.getScalar(Mc(r));if(this.px=o,this.d=i,this.rand=pi(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=kt.fromPrivateKey(e),n=r.hasEvenY()?e:xt.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return mf(e^jn(r))}finalizeNonce(e){let r=ce(jn(e),xt.n);if(r===Xe)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:o,scalar:i}=this.getScalar(r);return{R:n,rx:o,k:i}}finalizeSig(e,r,n,o){return new bf(e.x,ce(r+n*o,xt.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:o}=this,i=Qe.utils.taggedHash,s=this.initNonce(r,await i(na.aux,o)),{R:a,rx:c,k:u}=this.finalizeNonce(await i(na.nonce,s,n,e)),h=Ay(await i(na.challenge,c,n,e)),f=this.finalizeSig(a,u,h,r);return await XI(f,e,n)||this.error(),f}calcSync(){let{m:e,d:r,px:n,rand:o}=this,i=Qe.utils.taggedHashSync,s=this.initNonce(r,i(na.aux,o)),{R:a,rx:c,k:u}=this.finalizeNonce(i(na.nonce,s,n,e)),h=Ay(i(na.challenge,c,n,e)),f=this.finalizeSig(a,u,h,r);return ZI(f,e,n)||this.error(),f}};async function dK(t,e,r){return new Sy(t,e,r).calc()}function lK(t,e,r){return new Sy(t,e,r).calcSync()}function YI(t,e,r){let n=t instanceof bf,o=n?t:bf.fromHex(t);return n&&o.assertValidity(),{...o,m:pi(e),P:Jw(r)}}function JI(t,e,r,n){let o=kt.BASE.multiplyAndAddUnsafe(e,Mc(r),ce(-n,xt.n));return!(!o||!o.hasEvenY()||o.x!==t)}async function XI(t,e,r){try{let{r:n,s:o,m:i,P:s}=YI(t,e,r),a=Ay(await Qe.utils.taggedHash(na.challenge,mf(n),s.toRawX(),i));return JI(n,s,o,a)}catch{return!1}}function ZI(t,e,r){try{let{r:n,s:o,m:i,P:s}=YI(t,e,r),a=Ay(Qe.utils.taggedHashSync(na.challenge,mf(n),s.toRawX(),i));return JI(n,s,o,a)}catch(n){if(n instanceof Zl)throw n;return!1}}Qe.schnorr={Signature:bf,getPublicKey:fK,sign:dK,verify:XI,signSync:lK,verifySync:ZI};kt.BASE._setWindowSize(8);var zn={node:QH,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},na={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},yy={};Qe.utils={bytesToHex:yf,hexToBytes:aa,concatBytes:oa,mod:ce,invert:xf,isValidPrivateKey(t){try{return Mc(t),!0}catch{return!1}},_bigintTo32Bytes:mf,_normalizePrivateKey:Mc,hashToPrivateKey:t=>{t=pi(t);let e=Lc+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=ce(jn(t),xt.n-Bt)+Bt;return mf(r)},randomBytes:(t=32)=>{if(zn.web)return zn.web.getRandomValues(new Uint8Array(t));if(zn.node){let{randomBytes:e}=zn.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Qe.utils.hashToPrivateKey(Qe.utils.randomBytes(Lc+8)),precompute(t=8,e=kt.BASE){let r=e===kt.BASE?e:new kt(e.x,e.y);return r._setWindowSize(t),r.multiply(Jl),r},sha256:async(...t)=>{if(zn.web){let e=await zn.web.subtle.digest("SHA-256",oa(...t));return new Uint8Array(e)}else if(zn.node){let{createHash:e}=zn.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(zn.web){let r=await zn.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=oa(...e),o=await zn.web.subtle.sign("HMAC",r,n);return new Uint8Array(o)}else if(zn.node){let{createHmac:r}=zn.node,n=r("sha256",t);return e.forEach(o=>n.update(o)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=yy[t];if(r===void 0){let n=await Qe.utils.sha256(Uint8Array.from(t,o=>o.charCodeAt(0)));r=oa(n,n),yy[t]=r}return Qe.utils.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof pf!="function")throw new Zl("sha256Sync is undefined, you need to set it");let r=yy[t];if(r===void 0){let n=pf(Uint8Array.from(t,o=>o.charCodeAt(0)));r=oa(n,n),yy[t]=r}return pf(r,...e)},_JacobianPoint:hn};Object.defineProperties(Qe.utils,{sha256Sync:{configurable:!1,get(){return pf},set(t){pf||(pf=t)}},hmacSha256Sync:{configurable:!1,get(){return Xl},set(t){Xl||(Xl=t)}}})});var Ky=P(ne=>{"use strict";d();l();Object.defineProperty(ne,"__esModule",{value:!0});var Te=xl(),hK=f4(),pK=E4(),yK=H1(),mK=Ms(),i2=I4(),Zw=C4(),g5=Bl(),s2=Iw(),y=F4(),gK=cI(),bK=SI(),xK=EI(),e5=DI(),wK=NI(),AK=Xw();function l0(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function I2(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var fa=I2(pK),t5=l0(yK),Lr=l0(mK),I=I2(g5),SK=l0(gK),vK=l0(bK),EK=l0(xK),Ly=I2(AK);fa.utils.sha512Sync=(...t)=>hK.sha512(fa.utils.concatBytes(...t));var IK=fa.utils.randomPrivateKey,r5=()=>{let t=fa.utils.randomPrivateKey(),e=Ty(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},Ty=fa.sync.getPublicKey;function n5(t){try{return fa.Point.fromHex(t,!0),!0}catch{return!1}}var k2=(t,e)=>fa.sync.sign(t,e.slice(0,32)),kK=fa.sync.verify,Me=t=>Te.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Te.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Te.Buffer.from(t),n0=class{constructor(e){Object.assign(this,e)}encode(){return Te.Buffer.from(Zw.serialize(r0,this))}static decode(e){return Zw.deserialize(r0,this,e)}static decodeUnchecked(e){return Zw.deserializeUnchecked(r0,this,e)}},a2=class extends n0{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},r0=new Map,b5,x5=32,bi=32;function TK(t){return t._bn!==void 0}var o5=1;b5=Symbol.toStringTag;var se=class t extends n0{constructor(e){if(super({}),this._bn=void 0,TK(e))this._bn=e._bn;else{if(typeof e=="string"){let r=Lr.default.decode(e);if(r.length!=bi)throw new Error("Invalid public key input");this._bn=new t5.default(r)}else this._bn=new t5.default(e);if(this._bn.byteLength()>bi)throw new Error("Invalid public key input")}}static unique(){let e=new t(o5);return o5+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Lr.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Te.Buffer);if(e.length===bi)return e;let r=Te.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[b5](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let o=Te.Buffer.concat([e.toBuffer(),Te.Buffer.from(r),n.toBuffer()]),i=i2.sha256(o);return new t(i)}static createProgramAddressSync(e,r){let n=Te.Buffer.alloc(0);e.forEach(function(i){if(i.length>x5)throw new TypeError("Max seed length exceeded");n=Te.Buffer.concat([n,Me(i)])}),n=Te.Buffer.concat([n,r.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);let o=i2.sha256(n);if(n5(o))throw new Error("Invalid seeds, address must fall off the curve");return new t(o)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,o;for(;n!=0;){try{let i=e.concat(Te.Buffer.from([n]));o=this.createProgramAddressSync(i,r)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return n5(r.toBytes())}};se.default=new se("11111111111111111111111111111111");r0.set(se,{kind:"struct",fields:[["_bn","u256"]]});var c2=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=Me(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Me(IK()),this._publicKey=Me(Ty(this._secretKey))}get publicKey(){return new se(this._publicKey)}get secretKey(){return Te.Buffer.concat([this._secretKey,this._publicKey],64)}},_K=new se("BPFLoader1111111111111111111111111111111111"),ua=1232,My=127,o0=64,i0=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(i0.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var s0=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(s0.prototype,"name",{value:"TransactionExpiredTimeoutError"});var ca=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(ca.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var Kc=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((i,s)=>{n.set(i.toBase58(),s)});let o=i=>{let s=n.get(i.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(i=>({programIdIndex:o(i.programId),accountKeyIndexes:i.keys.map(s=>o(s.pubkey)),data:i.data}))}},We=(t="publicKey")=>I.blob(32,t),PK=(t="signature")=>I.blob(64,t),Hc=(t="string")=>{let e=I.struct([I.u32("length"),I.u32("lengthPadding"),I.blob(I.offset(I.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(i,s)=>r(i,s).chars.toString(),o.encode=(i,s,a)=>{let c={chars:Te.Buffer.from(i,"utf8")};return n(c,s,a)},o.alloc=i=>I.u32().span+I.u32().span+Te.Buffer.from(i,"utf8").length,o},BK=(t="authorized")=>I.struct([We("staker"),We("withdrawer")],t),CK=(t="lockup")=>I.struct([I.ns64("unixTimestamp"),I.ns64("epoch"),We("custodian")],t),DK=(t="voteInit")=>I.struct([We("nodePubkey"),We("authorizedVoter"),We("authorizedWithdrawer"),I.u8("commission")],t),OK=(t="voteAuthorizeWithSeedArgs")=>I.struct([I.u32("voteAuthorizationType"),We("currentAuthorityDerivedKeyOwnerPubkey"),Hc("currentAuthorityDerivedKeySeed"),We("newAuthorized")],t);function w5(t,e){let r=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){let i=e[o.property];if(Array.isArray(i))return i.length*r(o.elementLayout)}else if("fields"in o)return w5({layout:o},e[o.property]);return 0},n=0;return t.layout.fields.forEach(o=>{n+=r(o)}),n}function Bn(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Wn(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function st(t,e){if(!t)throw new Error(e||"Assertion failed")}var _y=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,o=s=>{let a=s.toBase58(),c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},i=o(r);i.isSigner=!0,i.isWritable=!0;for(let s of e){o(s.programId).isInvoked=!0;for(let a of s.keys){let c=o(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];st(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),o=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{st(r.length>0,"Expected at least one writable signer key");let[c]=r[0];st(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...r.map(([c])=>new se(c)),...n.map(([c])=>new se(c)),...o.map(([c])=>new se(c)),...i.map(([c])=>new se(c))];return[s,a]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[o,i]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:o},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,r){let n=new Array,o=new Array;for(let[i,s]of this.keyMetaMap.entries())if(r(s)){let a=new se(i),c=e.findIndex(u=>u.equals(a));c>=0&&(st(c<256,"Max lookup table index exceeded"),n.push(c),o.push(a),this.keyMetaMap.delete(i))}return[n,o]}},A5="Reached end of buffer unexpectedly";function mi(t){if(t.length===0)throw new Error(A5);return t.shift()}function Cn(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(A5);return t.splice(...e)}var xi=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new se(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Lr.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Kc(this.staticAccountKeys)}static compile(e){let r=_y.compile(e.instructions,e.payerKey),[n,o]=r.getMessageComponents(),s=new Kc(o).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Lr.default.encode(a.data)}));return new t({header:n,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,i=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<i}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];Wn(r,e);let n=this.instructions.map(f=>{let{accounts:p,programIdIndex:m}=f,g=Array.from(Lr.default.decode(f.data)),x=[];Wn(x,p.length);let w=[];return Wn(w,g.length),{programIdIndex:m,keyIndicesCount:Te.Buffer.from(x),keyIndices:p,dataLength:Te.Buffer.from(w),data:g}}),o=[];Wn(o,n.length);let i=Te.Buffer.alloc(ua);Te.Buffer.from(o).copy(i);let s=o.length;n.forEach(f=>{let m=I.struct([I.u8("programIdIndex"),I.blob(f.keyIndicesCount.length,"keyIndicesCount"),I.seq(I.u8("keyIndex"),f.keyIndices.length,"keyIndices"),I.blob(f.dataLength.length,"dataLength"),I.seq(I.u8("userdatum"),f.data.length,"data")]).encode(f,i,s);s+=m}),i=i.slice(0,s);let a=I.struct([I.blob(1,"numRequiredSignatures"),I.blob(1,"numReadonlySignedAccounts"),I.blob(1,"numReadonlyUnsignedAccounts"),I.blob(r.length,"keyCount"),I.seq(We("key"),e,"keys"),We("recentBlockhash")]),c={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(r),keys:this.accountKeys.map(f=>Me(f.toBytes())),recentBlockhash:Lr.default.decode(this.recentBlockhash)},u=Te.Buffer.alloc(2048),h=a.encode(c,u);return i.copy(u,h),u.slice(0,h+i.length)}static from(e){let r=[...e],n=mi(r);if(n!==(n&My))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let o=mi(r),i=mi(r),s=Bn(r),a=[];for(let p=0;p<s;p++){let m=Cn(r,0,bi);a.push(new se(Te.Buffer.from(m)))}let c=Cn(r,0,bi),u=Bn(r),h=[];for(let p=0;p<u;p++){let m=mi(r),g=Bn(r),x=Cn(r,0,g),w=Bn(r),S=Cn(r,0,w),k=Lr.default.encode(Te.Buffer.from(S));h.push({programIdIndex:m,accounts:x,data:k})}let f={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:i},recentBlockhash:Lr.default.encode(Te.Buffer.from(c)),accountKeys:a,instructions:h};return new t(f)}},wf=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Kc(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let o=e-n,i=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return o<i}else if(e>=this.header.numRequiredSignatures){let o=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return o<s}else{let o=r-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let o=e.find(i=>i.key.equals(n.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let i of n.writableIndexes)if(i<o.state.addresses.length)r.writable.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(let i of n.readonlyIndexes)if(i<o.state.addresses.length)r.readonly.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=_y.compile(e.instructions,e.payerKey),n=new Array,o={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(let h of i){let f=r.extractTableLookup(h);if(f!==void 0){let[p,{writable:m,readonly:g}]=f;n.push(p),o.writable.push(...m),o.readonly.push(...g)}}let[s,a]=r.getMessageComponents(),u=new Kc(a,o).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:n})}serialize(){let e=Array();Wn(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();Wn(n,this.compiledInstructions.length);let o=this.serializeAddressTableLookups(),i=Array();Wn(i,this.addressTableLookups.length);let s=I.struct([I.u8("prefix"),I.struct([I.u8("numRequiredSignatures"),I.u8("numReadonlySignedAccounts"),I.u8("numReadonlyUnsignedAccounts")],"header"),I.blob(e.length,"staticAccountKeysLength"),I.seq(We(),this.staticAccountKeys.length,"staticAccountKeys"),We("recentBlockhash"),I.blob(n.length,"instructionsLength"),I.blob(r.length,"serializedInstructions"),I.blob(i.length,"addressTableLookupsLength"),I.blob(o.length,"serializedAddressTableLookups")]),a=new Uint8Array(ua),u=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(h=>h.toBytes()),recentBlockhash:Lr.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:o},a);return a.slice(0,u)}serializeInstructions(){let e=0,r=new Uint8Array(ua);for(let n of this.compiledInstructions){let o=Array();Wn(o,n.accountKeyIndexes.length);let i=Array();Wn(i,n.data.length);let s=I.struct([I.u8("programIdIndex"),I.blob(o.length,"encodedAccountKeyIndexesLength"),I.seq(I.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),I.blob(i.length,"encodedDataLength"),I.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(ua);for(let n of this.addressTableLookups){let o=Array();Wn(o,n.writableIndexes.length);let i=Array();Wn(i,n.readonlyIndexes.length);let s=I.struct([We("accountKey"),I.blob(o.length,"encodedWritableIndexesLength"),I.seq(I.u8(),n.writableIndexes.length,"writableIndexes"),I.blob(i.length,"encodedReadonlyIndexesLength"),I.seq(I.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=mi(r),o=n&My;st(n!==o,"Expected versioned message but received legacy message");let i=o;st(i===0,`Expected versioned message with version 0 but found version ${i}`);let s={numRequiredSignatures:mi(r),numReadonlySignedAccounts:mi(r),numReadonlyUnsignedAccounts:mi(r)},a=[],c=Bn(r);for(let g=0;g<c;g++)a.push(new se(Cn(r,0,bi)));let u=Lr.default.encode(Cn(r,0,bi)),h=Bn(r),f=[];for(let g=0;g<h;g++){let x=mi(r),w=Bn(r),S=Cn(r,0,w),k=Bn(r),A=new Uint8Array(Cn(r,0,k));f.push({programIdIndex:x,accountKeyIndexes:S,data:A})}let p=Bn(r),m=[];for(let g=0;g<p;g++){let x=new se(Cn(r,0,bi)),w=Bn(r),S=Cn(r,0,w),k=Bn(r),A=Cn(r,0,k);m.push({accountKey:x,writableIndexes:S,readonlyIndexes:A})}return new t({header:s,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:f,addressTableLookups:m})}},T2={deserializeMessageVersion(t){let e=t[0],r=e&My;return r===e?"legacy":r},deserialize:t=>{let e=T2.deserializeMessageVersion(t);if(e==="legacy")return xi.from(t);if(e===0)return wf.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};ne.TransactionStatus=void 0;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})(ne.TransactionStatus||(ne.TransactionStatus={}));var NK=Te.Buffer.alloc(o0).fill(0),gt=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},mt=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new gt(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<r.length;x++)if(r[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);let o=[],i=[];r.forEach(x=>{x.keys.forEach(S=>{i.push({...S})});let w=x.programId.toString();o.includes(w)||o.push(w)}),o.forEach(x=>{i.push({pubkey:new se(x),isSigner:!1,isWritable:!1})});let s=[];i.forEach(x=>{let w=x.pubkey.toString(),S=s.findIndex(k=>k.pubkey.toString()===w);S>-1?(s[S].isWritable=s[S].isWritable||x.isWritable,s[S].isSigner=s[S].isSigner||x.isSigner):s.push(x)}),s.sort(function(x,w){return x.isSigner!==w.isSigner?x.isSigner?-1:1:x.isWritable!==w.isWritable?x.isWritable?-1:1:x.pubkey.toBase58().localeCompare(w.pubkey.toBase58())});let a=s.findIndex(x=>x.pubkey.equals(n));if(a>-1){let[x]=s.splice(a,1);x.isSigner=!0,x.isWritable=!0,s.unshift(x)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let x of this.signatures){let w=s.findIndex(S=>S.pubkey.equals(x.publicKey));if(w>-1)s[w].isSigner||(s[w].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let c=0,u=0,h=0,f=[],p=[];s.forEach(({pubkey:x,isSigner:w,isWritable:S})=>{w?(f.push(x.toString()),c+=1,S||(u+=1)):(p.push(x.toString()),S||(h+=1))});let m=f.concat(p),g=r.map(x=>{let{data:w,programId:S}=x;return{programIdIndex:m.indexOf(S.toString()),accounts:x.keys.map(k=>m.indexOf(k.pubkey.toString())),data:Lr.default.encode(w)}});return g.forEach(x=>{st(x.programIdIndex>=0),x.accounts.forEach(w=>st(w>=0))}),new xi({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:h},accountKeys:m,recentBlockhash:e,instructions:g})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((o,i)=>r[i].equals(o.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let o=n.toString();return r.has(o)?!1:(r.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let i of e){let s=i.publicKey.toString();r.has(s)||(r.add(s),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));let o=this._compile();this._partialSign(o,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let i of e){let s=i.publicKey.toString();r.has(s)||(r.add(s),n.push(i))}let o=this._compile();this._partialSign(o,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(o=>{let i=k2(n,o.secretKey);this._addSignature(o.publicKey,Me(i))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){st(r.length===64);let n=this.signatures.findIndex(o=>e.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Te.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(let{signature:n,publicKey:o}of this.signatures)if(n===null){if(r)return!1}else if(!kK(n,e,o.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(n&&!this._verifySignatures(o,r))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){let{signatures:r}=this,n=[];Wn(n,r.length);let o=n.length+r.length*64+e.length,i=Te.Buffer.alloc(o);return st(r.length<256),Te.Buffer.from(n).copy(i,0),r.forEach(({signature:s},a)=>{s!==null&&(st(s.length===64,"signature has invalid length"),Te.Buffer.from(s).copy(i,n.length+a*64))}),e.copy(i,n.length+r.length*64),st(i.length<=ua,`Transaction too large: ${i.length} > ${ua}`),i}get keys(){return st(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return st(this.instructions.length===1),this.instructions[0].programId}get data(){return st(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=Bn(r),o=[];for(let i=0;i<n;i++){let s=Cn(r,0,o0);o.push(Lr.default.encode(Te.Buffer.from(s)))}return t.populate(xi.from(r),o)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((o,i)=>{let s={signature:o==Lr.default.encode(NK)?null:Lr.default.decode(o),publicKey:e.accountKeys[i]};n.signatures.push(s)}),e.instructions.forEach(o=>{let i=o.accounts.map(s=>{let a=e.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new gt({keys:i,programId:e.accountKeys[o.programIdIndex],data:Lr.default.decode(o.data)}))}),n._message=e,n._json=n.toJSON(),n}},u2=class t{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:o,recentBlockhash:i}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,u=s-a;st(u>0,"Message header is invalid");let h=e.staticAccountKeys.length-s-c;st(h>=0,"Message header is invalid");let f=e.getAccountKeys(r),p=f.get(0);if(p===void 0)throw new Error("Failed to decompile message because no account keys were found");let m=[];for(let g of o){let x=[];for(let S of g.accountKeyIndexes){let k=f.get(S);if(k===void 0)throw new Error(`Failed to find key for account key index ${S}`);let A=S<s,T;A?T=S<u:S<f.staticAccountKeys.length?T=S-s<h:T=S-f.staticAccountKeys.length<f.accountKeysFromLookups.writable.length,x.push({pubkey:k,isSigner:S<n.numRequiredSignatures,isWritable:T})}let w=f.get(g.programIdIndex);if(w===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);m.push(new gt({programId:w,data:Me(g.data),keys:x}))}return new t({payerKey:p,instructions:m,recentBlockhash:i})}compileToLegacyMessage(){return xi.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return wf.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},f2=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)st(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let o=0;o<e.header.numRequiredSignatures;o++)n.push(new Uint8Array(o0));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();Wn(r,this.signatures.length);let n=I.struct([I.blob(r.length,"encodedSignaturesLength"),I.seq(PK(),this.signatures.length,"signatures"),I.blob(e.length,"serializedMessage")]),o=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,i)}static deserialize(e){let r=[...e],n=[],o=Bn(r);for(let s=0;s<o;s++)n.push(new Uint8Array(Cn(r,0,o0)));let i=T2.deserialize(new Uint8Array(r));return new t(i,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let o of e){let i=n.findIndex(s=>s.equals(o.publicKey));st(i>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[i]=k2(r,o.secretKey)}}addSignature(e,r){st(r.byteLength===64,"Signature must be 64 bytes long");let o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));st(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=r}},yi=new se("SysvarC1ock11111111111111111111111111111111"),RK=new se("SysvarEpochSchedu1e111111111111111111111111"),UK=new se("Sysvar1nstructions1111111111111111111111111"),Ey=new se("SysvarRecentB1ockHashes11111111111111111111"),Af=new se("SysvarRent111111111111111111111111111111111"),LK=new se("SysvarRewards111111111111111111111111111111"),MK=new se("SysvarS1otHashes111111111111111111111111111"),FK=new se("SysvarS1otHistory11111111111111111111111111"),Iy=new se("SysvarStakeHistory1111111111111111111111111");async function ky(t,e,r,n){let o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},i=await t.sendTransaction(e,r,o),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(i,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${i} failed (${JSON.stringify(s)})`);return i}function Fc(t){return new Promise(e=>setTimeout(e,t))}function et(t,e){let r=t.layout.span>=0?t.layout.span:w5(t,e),n=Te.Buffer.alloc(r),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,n),n}function ht(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}var S5=I.nu64("lamportsPerSignature"),v5=I.struct([I.u32("version"),I.u32("state"),We("authorizedPubkey"),We("nonce"),I.struct([S5],"feeCalculator")]),d2=v5.span,Py=class t{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=v5.decode(Me(e),0);return new t({authorizedPubkey:new se(r.authorizedPubkey),nonce:new se(r.nonce).toString(),feeCalculator:r.feeCalculator})}},HK=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},KK=t=>e=>{let r=g5.blob(t,e),{encode:n,decode:o}=HK(r),i=r;return i.decode=(s,a)=>{let c=o(s,a);return s2.toBigIntLE(Te.Buffer.from(c))},i.encode=(s,a,c)=>{let u=s2.toBufferLE(s,t);return n(u,a,c)},i},Sf=KK(8),l2=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=I.u32("instruction").decode(e.data),o;for(let[i,s]of Object.entries(Tt))if(s.index==n){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:o}=ht(Tt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new se(o)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=ht(Tt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:o}=ht(Tt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new se(o)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=ht(Tt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:o,programId:i}=ht(Tt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new se(r),seed:n,space:o,programId:new se(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=ht(Tt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new se(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:o}=ht(Tt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new se(r),seed:n,programId:new se(o)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:o,space:i,programId:s}=ht(Tt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new se(r),seed:n,lamports:o,space:i,programId:new se(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=ht(Tt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new se(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ht(Tt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=ht(Tt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=ht(Tt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new se(r)}}static checkProgramId(e){if(!e.equals(tn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Tt=Object.freeze({Create:{index:0,layout:I.struct([I.u32("instruction"),I.ns64("lamports"),I.ns64("space"),We("programId")])},Assign:{index:1,layout:I.struct([I.u32("instruction"),We("programId")])},Transfer:{index:2,layout:I.struct([I.u32("instruction"),Sf("lamports")])},CreateWithSeed:{index:3,layout:I.struct([I.u32("instruction"),We("base"),Hc("seed"),I.ns64("lamports"),I.ns64("space"),We("programId")])},AdvanceNonceAccount:{index:4,layout:I.struct([I.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:I.struct([I.u32("instruction"),I.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:I.struct([I.u32("instruction"),We("authorized")])},AuthorizeNonceAccount:{index:7,layout:I.struct([I.u32("instruction"),We("authorized")])},Allocate:{index:8,layout:I.struct([I.u32("instruction"),I.ns64("space")])},AllocateWithSeed:{index:9,layout:I.struct([I.u32("instruction"),We("base"),Hc("seed"),I.ns64("space"),We("programId")])},AssignWithSeed:{index:10,layout:I.struct([I.u32("instruction"),We("base"),Hc("seed"),We("programId")])},TransferWithSeed:{index:11,layout:I.struct([I.u32("instruction"),Sf("lamports"),Hc("seed"),We("programId")])},UpgradeNonceAccount:{index:12,layout:I.struct([I.u32("instruction")])}}),tn=class t{constructor(){}static createAccount(e){let r=Tt.Create,n=et(r,{lamports:e.lamports,space:e.space,programId:Me(e.programId.toBuffer())});return new gt({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let o=Tt.TransferWithSeed;r=et(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:Me(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let o=Tt.Transfer;r=et(o,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new gt({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let o=Tt.AssignWithSeed;r=et(o,{base:Me(e.basePubkey.toBuffer()),seed:e.seed,programId:Me(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=Tt.Assign;r=et(o,{programId:Me(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new gt({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=Tt.CreateWithSeed,n=et(r,{base:Me(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Me(e.programId.toBuffer())}),o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new gt({keys:o,programId:this.programId,data:n})}static createNonceAccount(e){let r=new mt;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:d2,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:d2,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=Tt.InitializeNonceAccount,n=et(r,{authorized:Me(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ey,isSigner:!1,isWritable:!1},{pubkey:Af,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new gt(o)}static nonceAdvance(e){let r=Tt.AdvanceNonceAccount,n=et(r),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ey,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new gt(o)}static nonceWithdraw(e){let r=Tt.WithdrawNonceAccount,n=et(r,{lamports:e.lamports});return new gt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Ey,isSigner:!1,isWritable:!1},{pubkey:Af,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=Tt.AuthorizeNonceAccount,n=et(r,{authorized:Me(e.newAuthorizedPubkey.toBuffer())});return new gt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let o=Tt.AllocateWithSeed;r=et(o,{base:Me(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Me(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=Tt.Allocate;r=et(o,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new gt({keys:n,programId:this.programId,data:r})}};tn.programId=new se("11111111111111111111111111111111");var VK=ua-300,vf=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,o,i){{let f=await e.getMinimumBalanceForRentExemption(i.length),p=await e.getAccountInfo(n.publicKey,"confirmed"),m=null;if(p!==null){if(p.executable)return console.error("Program load failed, account is already executable"),!1;p.data.length!==i.length&&(m=m||new mt,m.add(tn.allocate({accountPubkey:n.publicKey,space:i.length}))),p.owner.equals(o)||(m=m||new mt,m.add(tn.assign({accountPubkey:n.publicKey,programId:o}))),p.lamports<f&&(m=m||new mt,m.add(tn.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:f-p.lamports})))}else m=new mt().add(tn.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:f>0?f:1,space:i.length,programId:o}));m!==null&&await ky(e,m,[r,n],{commitment:"confirmed"})}let s=I.struct([I.u32("instruction"),I.u32("offset"),I.u32("bytesLength"),I.u32("bytesLengthPadding"),I.seq(I.u8("byte"),I.offset(I.u32(),-8),"bytes")]),a=t.chunkSize,c=0,u=i,h=[];for(;u.length>0;){let f=u.slice(0,a),p=Te.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:f,bytesLength:0,bytesLengthPadding:0},p);let m=new mt().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:p});h.push(ky(e,m,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Fc(1e3/4),c+=a,u=u.slice(a)}await Promise.all(h);{let f=I.struct([I.u32("instruction")]),p=Te.Buffer.alloc(f.span);f.encode({instruction:1},p);let m=new mt().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Af,isSigner:!1,isWritable:!1}],programId:o,data:p});await ky(e,m,[r,n],{commitment:"confirmed"})}return!0}};vf.chunkSize=VK;var qK=new se("BPFLoader2111111111111111111111111111111111"),h2=class{static getMinNumSignatures(e){return vf.getMinNumSignatures(e)}static load(e,r,n,o,i){return vf.load(e,r,n,i,o)}},zK=Object.prototype.toString,jK=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function t0(t,e){var r,n,o,i,s,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return t0(t.toJSON(),e);if(c=zK.call(t),c==="[object Array]"){for(o="[",n=t.length-1,r=0;r<n;r++)o+=t0(t[r],!0)+",";return n>-1&&(o+=t0(t[r],!0)),o+"]"}else if(c==="[object Object]"){for(i=jK(t).sort(),n=i.length,o="",r=0;r<n;)s=i[r],a=t0(t[s],!1),a!==void 0&&(o&&(o+=","),o+=JSON.stringify(s)+":"+a),r++;return"{"+o+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var WK=function(t){var e=t0(t,!1);if(e!==void 0)return""+e},GK=WK,e0=32;function e2(t){let e=0;for(;t>1;)t/=2,e++;return e}function $K(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}var By=class{constructor(e,r,n,o,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=o,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=e2($K(e+e0+1))-e2(e0)-1,n=this.getSlotsInEpoch(r),o=e-(n-e0);return[r,o]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),o=this.firstNormalEpoch+n,i=r%this.slotsPerEpoch;return[o,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*e0:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+e2(e0)):this.slotsPerEpoch}},a0=class extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}},QK={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},me=class extends Error{constructor({code:e,message:r,data:n},o){super(o!=null?`${o}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}},YK=globalThis.fetch,p2=class extends vK.default{constructor(e,r,n){let o=i=>{let s=EK.default(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(o,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},JK=160,XK=64,ZK=JK/XK,eV=1e3/ZK;function tV(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}var i5=56,c0=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=tV(rV,e),n=e.length-i5;st(n>=0,"lookup table is invalid"),st(n%32===0,"lookup table is invalid");let o=n/32,{addresses:i}=I.struct([I.seq(We(),o,"addresses")]).decode(e.slice(i5));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new se(r.authority[0]):void 0,addresses:i.map(s=>new se(s))}}},rV={index:1,layout:I.struct([I.u32("typeIndex"),Sf("deactivationSlot"),I.nu64("lastExtendedSlot"),I.u8("lastExtendedStartIndex"),I.u8(),I.seq(We(),I.offset(I.u8(),-1),"authority")])},nV=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function oV(t){let e=t.match(nV);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,o,i]=e,s=t.startsWith("https:")?"wss:":"ws:",a=o==null?null:parseInt(o.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${n}${c}${i}`}var ur=y.coerce(y.instance(se),y.string(),t=>new se(t)),E5=y.tuple([y.string(),y.literal("base64")]),_2=y.coerce(y.instance(Te.Buffer),E5,t=>Te.Buffer.from(t[0],"base64")),I5=30*1e3;function iV(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function zt(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...o}=t;e=n,r=o}return{commitment:e,config:r}}function k5(t){return y.union([y.type({jsonrpc:y.literal("2.0"),id:y.string(),result:t}),y.type({jsonrpc:y.literal("2.0"),id:y.string(),error:y.type({code:y.unknown(),message:y.string(),data:y.optional(y.any())})})])}var sV=k5(y.unknown());function Ke(t){return y.coerce(k5(t),sV,e=>"error"in e?e:{...e,result:y.create(e.result,t)})}function cr(t){return Ke(y.type({context:y.type({slot:y.number()}),value:t}))}function Fy(t){return y.type({context:y.type({slot:y.number()}),value:t})}function t2(t,e){return t===0?new wf({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new se(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Lr.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new xi(e)}var aV=y.type({foundation:y.number(),foundationTerm:y.number(),initial:y.number(),taper:y.number(),terminal:y.number()}),cV=Ke(y.array(y.nullable(y.type({epoch:y.number(),effectiveSlot:y.number(),amount:y.number(),postBalance:y.number(),commission:y.optional(y.nullable(y.number()))})))),uV=y.type({total:y.number(),validator:y.number(),foundation:y.number(),epoch:y.number()}),fV=y.type({epoch:y.number(),slotIndex:y.number(),slotsInEpoch:y.number(),absoluteSlot:y.number(),blockHeight:y.optional(y.number()),transactionCount:y.optional(y.number())}),dV=y.type({slotsPerEpoch:y.number(),leaderScheduleSlotOffset:y.number(),warmup:y.boolean(),firstNormalEpoch:y.number(),firstNormalSlot:y.number()}),lV=y.record(y.string(),y.array(y.number())),qc=y.nullable(y.union([y.type({}),y.string()])),hV=y.type({err:qc}),pV=y.literal("receivedSignature"),yV=y.type({"solana-core":y.string(),"feature-set":y.optional(y.number())}),s5=cr(y.type({err:y.nullable(y.union([y.type({}),y.string()])),logs:y.nullable(y.array(y.string())),accounts:y.optional(y.nullable(y.array(y.nullable(y.type({executable:y.boolean(),owner:y.string(),lamports:y.number(),data:y.array(y.string()),rentEpoch:y.optional(y.number())}))))),unitsConsumed:y.optional(y.number()),returnData:y.optional(y.nullable(y.type({programId:y.string(),data:y.tuple([y.string(),y.literal("base64")])})))})),mV=cr(y.type({byIdentity:y.record(y.string(),y.array(y.number())),range:y.type({firstSlot:y.number(),lastSlot:y.number()})}));function gV(t,e,r,n,o,i){let s=r||YK,a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(h,f)=>{let p=await new Promise((m,g)=>{try{n(h,f,(x,w)=>m([x,w]))}catch(x){g(x)}});return await s(...p)}),new SK.default(async(h,f)=>{let p={method:"POST",body:h,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},mq)};try{let m=5,g,x=500;for(;c?g=await c(t,p):g=await s(t,p),!(g.status!==429||o===!0||(m-=1,m===0));)console.log(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${x}ms delay...`),await Fc(x),x*=2;let w=await g.text();g.ok?f(null,w):f(new Error(`${g.status} ${g.statusText}: ${w}`))}catch(m){m instanceof Error&&f(m)}},{})}function bV(t){return(e,r)=>new Promise((n,o)=>{t.request(e,r,(i,s)=>{if(i){o(i);return}n(s)})})}function xV(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let o=e.map(i=>t.request(i.methodName,i.args));t.request(o,(i,s)=>{if(i){n(i);return}r(s)})})}var wV=Ke(aV),AV=Ke(uV),SV=Ke(fV),vV=Ke(dV),EV=Ke(lV),IV=Ke(y.number()),kV=cr(y.type({total:y.number(),circulating:y.number(),nonCirculating:y.number(),nonCirculatingAccounts:y.array(ur)})),y2=y.type({amount:y.string(),uiAmount:y.nullable(y.number()),decimals:y.number(),uiAmountString:y.optional(y.string())}),TV=cr(y.array(y.type({address:ur,amount:y.string(),uiAmount:y.nullable(y.number()),decimals:y.number(),uiAmountString:y.optional(y.string())}))),_V=cr(y.array(y.type({pubkey:ur,account:y.type({executable:y.boolean(),owner:ur,lamports:y.number(),data:_2,rentEpoch:y.number()})}))),m2=y.type({program:y.string(),parsed:y.unknown(),space:y.number()}),PV=cr(y.array(y.type({pubkey:ur,account:y.type({executable:y.boolean(),owner:ur,lamports:y.number(),data:m2,rentEpoch:y.number()})}))),BV=cr(y.array(y.type({lamports:y.number(),address:ur}))),u0=y.type({executable:y.boolean(),owner:ur,lamports:y.number(),data:_2,rentEpoch:y.number()}),CV=y.type({pubkey:ur,account:u0}),DV=y.coerce(y.union([y.instance(Te.Buffer),m2]),y.union([E5,m2]),t=>Array.isArray(t)?y.create(t,_2):t),g2=y.type({executable:y.boolean(),owner:ur,lamports:y.number(),data:DV,rentEpoch:y.number()}),OV=y.type({pubkey:ur,account:g2}),NV=y.type({state:y.union([y.literal("active"),y.literal("inactive"),y.literal("activating"),y.literal("deactivating")]),active:y.number(),inactive:y.number()}),RV=Ke(y.array(y.type({signature:y.string(),slot:y.number(),err:qc,memo:y.nullable(y.string()),blockTime:y.optional(y.nullable(y.number()))}))),UV=Ke(y.array(y.type({signature:y.string(),slot:y.number(),err:qc,memo:y.nullable(y.string()),blockTime:y.optional(y.nullable(y.number()))}))),LV=y.type({subscription:y.number(),result:Fy(u0)}),MV=y.type({pubkey:ur,account:u0}),FV=y.type({subscription:y.number(),result:Fy(MV)}),HV=y.type({parent:y.number(),slot:y.number(),root:y.number()}),KV=y.type({subscription:y.number(),result:HV}),VV=y.union([y.type({type:y.union([y.literal("firstShredReceived"),y.literal("completed"),y.literal("optimisticConfirmation"),y.literal("root")]),slot:y.number(),timestamp:y.number()}),y.type({type:y.literal("createdBank"),parent:y.number(),slot:y.number(),timestamp:y.number()}),y.type({type:y.literal("frozen"),slot:y.number(),timestamp:y.number(),stats:y.type({numTransactionEntries:y.number(),numSuccessfulTransactions:y.number(),numFailedTransactions:y.number(),maxTransactionsPerEntry:y.number()})}),y.type({type:y.literal("dead"),slot:y.number(),timestamp:y.number(),err:y.string()})]),qV=y.type({subscription:y.number(),result:VV}),zV=y.type({subscription:y.number(),result:Fy(y.union([hV,pV]))}),jV=y.type({subscription:y.number(),result:y.number()}),WV=y.type({pubkey:y.string(),gossip:y.nullable(y.string()),tpu:y.nullable(y.string()),rpc:y.nullable(y.string()),version:y.nullable(y.string())}),a5=y.type({votePubkey:y.string(),nodePubkey:y.string(),activatedStake:y.number(),epochVoteAccount:y.boolean(),epochCredits:y.array(y.tuple([y.number(),y.number(),y.number()])),commission:y.number(),lastVote:y.number(),rootSlot:y.nullable(y.number())}),GV=Ke(y.type({current:y.array(a5),delinquent:y.array(a5)})),$V=y.union([y.literal("processed"),y.literal("confirmed"),y.literal("finalized")]),QV=y.type({slot:y.number(),confirmations:y.nullable(y.number()),err:qc,confirmationStatus:y.optional($V)}),YV=cr(y.array(y.nullable(QV))),JV=Ke(y.number()),T5=y.type({accountKey:ur,writableIndexes:y.array(y.number()),readonlyIndexes:y.array(y.number())}),P2=y.type({signatures:y.array(y.string()),message:y.type({accountKeys:y.array(y.string()),header:y.type({numRequiredSignatures:y.number(),numReadonlySignedAccounts:y.number(),numReadonlyUnsignedAccounts:y.number()}),instructions:y.array(y.type({accounts:y.array(y.number()),data:y.string(),programIdIndex:y.number()})),recentBlockhash:y.string(),addressTableLookups:y.optional(y.array(T5))})}),_5=y.type({pubkey:ur,signer:y.boolean(),writable:y.boolean(),source:y.optional(y.union([y.literal("transaction"),y.literal("lookupTable")]))}),P5=y.type({accountKeys:y.array(_5),signatures:y.array(y.string())}),B5=y.type({parsed:y.unknown(),program:y.string(),programId:ur}),C5=y.type({accounts:y.array(ur),data:y.string(),programId:ur}),XV=y.union([C5,B5]),ZV=y.union([y.type({parsed:y.unknown(),program:y.string(),programId:y.string()}),y.type({accounts:y.array(y.string()),data:y.string(),programId:y.string()})]),D5=y.coerce(XV,ZV,t=>"accounts"in t?y.create(t,C5):y.create(t,B5)),O5=y.type({signatures:y.array(y.string()),message:y.type({accountKeys:y.array(_5),instructions:y.array(D5),recentBlockhash:y.string(),addressTableLookups:y.optional(y.nullable(y.array(T5)))})}),Cy=y.type({accountIndex:y.number(),mint:y.string(),owner:y.optional(y.string()),uiTokenAmount:y2}),N5=y.type({writable:y.array(ur),readonly:y.array(ur)}),Hy=y.type({err:qc,fee:y.number(),innerInstructions:y.optional(y.nullable(y.array(y.type({index:y.number(),instructions:y.array(y.type({accounts:y.array(y.number()),data:y.string(),programIdIndex:y.number()}))})))),preBalances:y.array(y.number()),postBalances:y.array(y.number()),logMessages:y.optional(y.nullable(y.array(y.string()))),preTokenBalances:y.optional(y.nullable(y.array(Cy))),postTokenBalances:y.optional(y.nullable(y.array(Cy))),loadedAddresses:y.optional(N5),computeUnitsConsumed:y.optional(y.number())}),B2=y.type({err:qc,fee:y.number(),innerInstructions:y.optional(y.nullable(y.array(y.type({index:y.number(),instructions:y.array(D5)})))),preBalances:y.array(y.number()),postBalances:y.array(y.number()),logMessages:y.optional(y.nullable(y.array(y.string()))),preTokenBalances:y.optional(y.nullable(y.array(Cy))),postTokenBalances:y.optional(y.nullable(y.array(Cy))),loadedAddresses:y.optional(N5),computeUnitsConsumed:y.optional(y.number())}),kf=y.union([y.literal(0),y.literal("legacy")]),zc=y.type({pubkey:y.string(),lamports:y.number(),postBalance:y.nullable(y.number()),rewardType:y.nullable(y.string()),commission:y.optional(y.nullable(y.number()))}),eq=Ke(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),transactions:y.array(y.type({transaction:P2,meta:y.nullable(Hy),version:y.optional(kf)})),rewards:y.optional(y.array(zc)),blockTime:y.nullable(y.number()),blockHeight:y.nullable(y.number())}))),tq=Ke(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),rewards:y.optional(y.array(zc)),blockTime:y.nullable(y.number()),blockHeight:y.nullable(y.number())}))),rq=Ke(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),transactions:y.array(y.type({transaction:P5,meta:y.nullable(Hy),version:y.optional(kf)})),rewards:y.optional(y.array(zc)),blockTime:y.nullable(y.number()),blockHeight:y.nullable(y.number())}))),nq=Ke(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),transactions:y.array(y.type({transaction:O5,meta:y.nullable(B2),version:y.optional(kf)})),rewards:y.optional(y.array(zc)),blockTime:y.nullable(y.number()),blockHeight:y.nullable(y.number())}))),oq=Ke(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),transactions:y.array(y.type({transaction:P5,meta:y.nullable(B2),version:y.optional(kf)})),rewards:y.optional(y.array(zc)),blockTime:y.nullable(y.number()),blockHeight:y.nullable(y.number())}))),iq=Ke(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),rewards:y.optional(y.array(zc)),blockTime:y.nullable(y.number()),blockHeight:y.nullable(y.number())}))),sq=Ke(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),transactions:y.array(y.type({transaction:P2,meta:y.nullable(Hy)})),rewards:y.optional(y.array(zc)),blockTime:y.nullable(y.number())}))),c5=Ke(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),signatures:y.array(y.string()),blockTime:y.nullable(y.number())}))),r2=Ke(y.nullable(y.type({slot:y.number(),meta:Hy,blockTime:y.optional(y.nullable(y.number())),transaction:P2,version:y.optional(kf)}))),vy=Ke(y.nullable(y.type({slot:y.number(),transaction:O5,meta:y.nullable(B2),blockTime:y.optional(y.nullable(y.number())),version:y.optional(kf)}))),aq=cr(y.type({blockhash:y.string(),feeCalculator:y.type({lamportsPerSignature:y.number()})})),cq=cr(y.type({blockhash:y.string(),lastValidBlockHeight:y.number()})),uq=y.type({slot:y.number(),numTransactions:y.number(),numSlots:y.number(),samplePeriodSecs:y.number()}),fq=Ke(y.array(uq)),dq=cr(y.nullable(y.type({feeCalculator:y.type({lamportsPerSignature:y.number()})}))),lq=Ke(y.string()),hq=Ke(y.string()),pq=y.type({err:qc,logs:y.array(y.string()),signature:y.string()}),yq=y.type({result:Fy(pq),subscription:y.number()}),mq={"solana-client":"js/1.73.5"},b2=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let n,o,i,s,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,o=r.httpHeaders,i=r.fetch,s=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=iV(e),this._rpcWsEndpoint=n||oV(e),this._rpcClient=gV(e,o,i,s,a,c),this._rpcRequest=bV(this._rpcClient),this._rpcBatchRequest=xV(this._rpcClient),this._rpcWebSocket=new p2(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgs([e.toBase58()],n,void 0,o),s=await this._rpcRequest("getBalance",i),a=y.create(s,cr(y.number()));if("error"in a)throw new me(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=y.create(r,Ke(y.nullable(y.number())));if("error"in n)throw new me(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=y.create(e,Ke(y.number()));if("error"in r)throw new me(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=y.create(e,IV);if("error"in r)throw new me(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),o=y.create(n,kV);if("error"in o)throw new me(o.error,"failed to get supply");return o.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenSupply",n),i=y.create(o,cr(y2));if("error"in i)throw new me(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenAccountBalance",n),i=y.create(o,cr(y2));if("error"in i)throw new me(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,r,n){let{commitment:o,config:i}=zt(n),s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let a=this._buildArgs(s,o,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=y.create(c,_V);if("error"in u)throw new me(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,r,n){let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});let i=this._buildArgs(o,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",i),a=y.create(s,PV);if("error"in a)throw new me(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],o=await this._rpcRequest("getLargestAccounts",n),i=y.create(o,BV);if("error"in i)throw new me(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenLargestAccounts",n),i=y.create(o,TV);if("error"in i)throw new me(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgs([e.toBase58()],n,"base64",o),s=await this._rpcRequest("getAccountInfo",i),a=y.create(s,cr(y.nullable(u0)));if("error"in a)throw new me(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgs([e.toBase58()],n,"jsonParsed",o),s=await this._rpcRequest("getAccountInfo",i),a=y.create(s,cr(y.nullable(g2)));if("error"in a)throw new me(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:o}=zt(r),i=e.map(u=>u.toBase58()),s=this._buildArgs([i],n,"jsonParsed",o),a=await this._rpcRequest("getMultipleAccounts",s),c=y.create(a,cr(y.array(y.nullable(g2))));if("error"in c)throw new me(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:o}=zt(r),i=e.map(u=>u.toBase58()),s=this._buildArgs([i],n,"base64",o),a=await this._rpcRequest("getMultipleAccounts",s),c=y.create(a,cr(y.array(y.nullable(u0))));if("error"in c)throw new me(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:o,config:i}=zt(r),s=this._buildArgs([e.toBase58()],o,void 0,{...i,epoch:n??i?.epoch}),a=await this._rpcRequest("getStakeActivation",s),c=y.create(a,Ke(NV));if("error"in c)throw new me(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,r){let{commitment:n,config:o}=zt(r),{encoding:i,...s}=o||{},a=this._buildArgs([e.toBase58()],n,i||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),u=y.create(c,Ke(y.array(CV)));if("error"in u)throw new me(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgs([e.toBase58()],n,"jsonParsed",o),s=await this._rpcRequest("getProgramAccounts",i),a=y.create(s,Ke(y.array(OV)));if("error"in a)throw new me(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let i=e;if(i.abortSignal?.aborted)return Promise.reject(i.abortSignal.reason);n=i.signature}let o;try{o=Lr.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return st(o.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,o,i=!1,s=new Promise((c,u)=>{try{n=this.onSignature(r,(f,p)=>{n=void 0;let m={context:p,value:f};c({__type:ne.TransactionStatus.PROCESSED,response:m})},e);let h=new Promise(f=>{n==null?f():o=this._onSubscriptionStateChange(n,p=>{p==="subscribed"&&f()})});(async()=>{if(await h,i)return;let f=await this.getSignatureStatus(r);if(i||f==null)return;let{context:p,value:m}=f;if(m!=null)if(m?.err)u(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:ne.TransactionStatus.PROCESSED,response:{context:p,value:m}})}})()}catch(h){u(h)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:o}}){let i=!1,s=new Promise(f=>{let p=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await p();if(!i){for(;m<=n;)if(await Fc(1e3),i||(m=await p(),i))return;f({__type:ne.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),u=this.getCancellationPromise(r),h;try{let f=await Promise.race([u,c,s]);if(f.__type===ne.TransactionStatus.PROCESSED)h=f.response;else throw new i0(o)}finally{i=!0,a()}return h}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:o,nonceValue:i,signature:s}}){let a=!1,c=new Promise(m=>{let g=i,x=null,w=async()=>{try{let{context:S,value:k}=await this.getNonceAndContext(o,{commitment:e,minContextSlot:n});return x=S.slot,k?.nonce}catch{return g}};(async()=>{if(g=await w(),!a)for(;;){if(i!==g){m({__type:ne.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await Fc(2e3),a||(g=await w(),a))return}})()}),{abortConfirmation:u,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),f=this.getCancellationPromise(r),p;try{let m=await Promise.race([f,h,c]);if(m.__type===ne.TransactionStatus.PROCESSED)p=m.response;else{let g;for(;;){let x=await this.getSignatureStatus(s);if(x==null)break;if(x.context.slot<(m.slotInWhichNonceDidAdvance??n)){await Fc(400);continue}g=x;break}if(g?.value){let x=e||"finalized",{confirmationStatus:w}=g.value;switch(x){case"processed":case"recent":if(w!=="processed"&&w!=="confirmed"&&w!=="finalized")throw new ca(s);break;case"confirmed":case"single":case"singleGossip":if(w!=="confirmed"&&w!=="finalized")throw new ca(s);break;case"finalized":case"max":case"root":if(w!=="finalized")throw new ca(s);break;default:}p={context:g.context,value:{err:g.value.err}}}else throw new ca(s)}}finally{a=!0,u()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,o=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:ne.TransactionStatus.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),a;try{let c=await Promise.race([s,o]);if(c.__type===ne.TransactionStatus.PROCESSED)a=c.response;else throw new s0(r,c.timeoutMs/1e3)}finally{clearTimeout(n),i()}return a}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=y.create(e,Ke(y.array(WV)));if("error"in r)throw new me(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),o=y.create(n,GV);if("error"in o)throw new me(o.error,"failed to get vote accounts");return o.result}async getSlot(e){let{commitment:r,config:n}=zt(e),o=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getSlot",o),s=y.create(i,Ke(y.number()));if("error"in s)throw new me(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:r,config:n}=zt(e),o=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getSlotLeader",o),s=y.create(i,Ke(y.string()));if("error"in s)throw new me(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){let n=[e,r],o=await this._rpcRequest("getSlotLeaders",n),i=y.create(o,Ke(y.array(ur)));if("error"in i)throw new me(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,r){let{context:n,value:o}=await this.getSignatureStatuses([e],r);st(o.length===1);let i=o[0];return{context:n,value:i}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let o=await this._rpcRequest("getSignatureStatuses",n),i=y.create(o,YV);if("error"in i)throw new me(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){let{commitment:r,config:n}=zt(e),o=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getTransactionCount",o),s=y.create(i,Ke(y.number()));if("error"in s)throw new me(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),o=y.create(n,wV);if("error"in o)throw new me(o.error,"failed to get inflation");return o.result}async getInflationReward(e,r,n){let{commitment:o,config:i}=zt(n),s=this._buildArgs([e.map(u=>u.toBase58())],o,void 0,{...i,epoch:r??i?.epoch}),a=await this._rpcRequest("getInflationReward",s),c=y.create(a,cV);if("error"in c)throw new me(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=y.create(e,AV);if("error"in r)throw new me(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=zt(e),o=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getEpochInfo",o),s=y.create(i,SV);if("error"in s)throw new me(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=y.create(e,vV);if("error"in r)throw new me(r.error,"failed to get epoch schedule");let n=r.result;return new By(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=y.create(e,EV);if("error"in r)throw new me(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),o=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=y.create(o,JV);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),o=y.create(n,aq);if("error"in o)throw new me(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=y.create(r,fq);if("error"in n)throw new me(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),o=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=y.create(o,dq);if("error"in i)throw new me(i.error,"failed to get fee calculator");let{context:s,value:a}=i.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){let n=Me(e.serialize()).toString("base64"),o=this._buildArgs([n],r),i=await this._rpcRequest("getFeeForMessage",o),s=y.create(i,cr(y.nullable(y.number())));if("error"in s)throw new me(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=zt(e),o=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getLatestBlockhash",o),s=y.create(i,cq);if("error"in s)throw new me(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=y.create(e,Ke(yV));if("error"in r)throw new me(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=y.create(e,Ke(y.string()));if("error"in r)throw new me(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgsAtLeastConfirmed([e],n,void 0,o),s=await this._rpcRequest("getBlock",i);try{switch(o?.transactionDetails){case"accounts":{let a=y.create(s,rq);if("error"in a)throw a.error;return a.result}case"none":{let a=y.create(s,tq);if("error"in a)throw a.error;return a.result}default:{let a=y.create(s,eq);if("error"in a)throw a.error;let{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:h,version:f})=>({meta:h,transaction:{...u,message:t2(f,u.message)},version:f}))}:null}}}catch(a){throw new me(a,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",o),s=await this._rpcRequest("getBlock",i);try{switch(o?.transactionDetails){case"accounts":{let a=y.create(s,oq);if("error"in a)throw a.error;return a.result}case"none":{let a=y.create(s,iq);if("error"in a)throw a.error;return a.result}default:{let a=y.create(s,nq);if("error"in a)throw a.error;return a.result}}}catch(a){throw new me(a,"failed to get block")}}async getBlockHeight(e){let{commitment:r,config:n}=zt(e),o=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getBlockHeight",o),s=y.create(i,Ke(y.number()));if("error"in s)throw new me(s.error,"failed to get block height information");return s.result}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:a,...c}=e;n=a,r=c}let o=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getBlockProduction",o),s=y.create(i,mV);if("error"in s)throw new me(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgsAtLeastConfirmed([e],n,void 0,o),s=await this._rpcRequest("getTransaction",i),a=y.create(s,r2);if("error"in a)throw new me(a.error,"failed to get transaction");let c=a.result;return c&&{...c,transaction:{...c.transaction,message:t2(c.version,c.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",o),s=await this._rpcRequest("getTransaction",i),a=y.create(s,vy);if("error"in a)throw new me(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){let{commitment:n,config:o}=zt(r),i=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",o)}));return(await this._rpcBatchRequest(i)).map(c=>{let u=y.create(c,vy);if("error"in u)throw new me(u.error,"failed to get transactions");return u.result})}async getTransactions(e,r){let{commitment:n,config:o}=zt(r),i=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,o)}));return(await this._rpcBatchRequest(i)).map(c=>{let u=y.create(c,r2);if("error"in u)throw new me(u.error,"failed to get transactions");let h=u.result;return h&&{...h,transaction:{...h.transaction,message:t2(h.version,h.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),o=await this._rpcRequest("getConfirmedBlock",n),i=y.create(o,sq);if("error"in i)throw new me(i.error,"failed to get confirmed block");let s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");let a={...s,transactions:s.transactions.map(({transaction:c,meta:u})=>{let h=new xi(c.message);return{meta:u,transaction:{...c,message:h}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:mt.populate(c.message,c.signatures)}))}}async getBlocks(e,r,n){let o=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),i=await this._rpcRequest("getBlocks",o),s=y.create(i,Ke(y.array(y.number())));if("error"in s)throw new me(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",n),i=y.create(o,c5);if("error"in i)throw new me(i.error,"failed to get block");let s=i.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",n),i=y.create(o,c5);if("error"in i)throw new me(i.error,"failed to get confirmed block");let s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),o=await this._rpcRequest("getConfirmedTransaction",n),i=y.create(o,r2);if("error"in i)throw new me(i.error,"failed to get transaction");let s=i.result;if(!s)return s;let a=new xi(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:mt.populate(a,c)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",n),i=y.create(o,vy);if("error"in i)throw new me(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,r){let n=e.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let a=y.create(s,vy);if("error"in a)throw new me(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let o={},i=await this.getFirstAvailableBlock();for(;!("until"in o)&&(r--,!(r<=0||r<i));)try{let c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(o.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in o)&&(n++,!(n>s));)try{let c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(o.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),s=y.create(i,RV);if("error"in s)throw new me(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){let o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),i=await this._rpcRequest("getSignaturesForAddress",o),s=y.create(i,UV);if("error"in s)throw new me(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){let{context:n,value:o}=await this.getAccountInfoAndContext(e,r),i=null;return o!==null&&(i=new c0({key:e,state:c0.deserialize(o.data)})),{context:n,value:i}}async getNonceAndContext(e,r){let{context:n,value:o}=await this.getAccountInfoAndContext(e,r),i=null;return o!==null&&(i=Py.fromAccountData(o.data)),{context:n,value:i}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),o=y.create(n,lq);if("error"in o)throw new me(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Fc(100);let n=Date.now()-this._blockhashInfo.lastFetch>=I5;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let o=0;o<50;o++){let i=await this.getLatestBlockhash("finalized");if(n!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Fc(eV/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=zt(e),o=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",o),s=y.create(i,cr(y.number()));if("error"in s)throw new me(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){let x=e.serialize(),w=Te.Buffer.from(x).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let S=r||{};S.encoding="base64","commitment"in S||(S.commitment=this.commitment);let k=[w,S],A=await this._rpcRequest("simulateTransaction",k),T=y.create(A,s5);if("error"in T)throw new Error("failed to simulate transaction: "+T.error.message);return T.result}let o;if(e instanceof mt){let g=e;o=new mt,o.feePayer=g.feePayer,o.instructions=e.instructions,o.nonceInfo=g.nonceInfo,o.signatures=g.signatures}else o=mt.populate(e),o._message=o._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(o.nonceInfo&&i)o.sign(...i);else{let g=this._disableBlockhashCaching;for(;;){let x=await this._blockhashWithExpiryBlockHeight(g);if(o.lastValidBlockHeight=x.lastValidBlockHeight,o.recentBlockhash=x.blockhash,!i)break;if(o.sign(...i),!o.signature)throw new Error("!signature");let w=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(w)&&!this._blockhashInfo.transactionSignatures.includes(w)){this._blockhashInfo.simulatedSignatures.push(w);break}else g=!0}}let s=o._compile(),a=s.serialize(),u=o._serialize(a).toString("base64"),h={encoding:"base64",commitment:this.commitment};if(n){let g=(Array.isArray(n)?n:s.nonProgramIds()).map(x=>x.toBase58());h.accounts={encoding:"base64",addresses:g}}i&&(h.sigVerify=!0);let f=[u,h],p=await this._rpcRequest("simulateTransaction",f),m=y.create(p,s5);if("error"in m){let g;if("data"in m.error&&(g=m.error.data.logs,g&&Array.isArray(g))){let x=`
    `,w=x+g.join(x);console.error(m.error.message,w)}throw new a0("failed to simulate transaction: "+m.error.message,g)}return m.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(e.nonceInfo)e.sign(...o);else{let s=this._disableBlockhashCaching;for(;;){let a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");let c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}let i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,r){let n=Me(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},o=r&&r.skipPreflight,i=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),o&&(n.skipPreflight=o),i&&(n.preflightCommitment=i);let s=[e,n],a=await this._rpcRequest("sendTransaction",s),c=y.create(a,hq);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new a0("failed to send transaction: "+c.error.message,u)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(i=>{try{i(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){let n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};let o=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return o.add(r),()=>{o.delete(r),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let o=this._subscriptionsByHash[n];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[n],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:i,method:s}=o;try{this._setSubscription(n,{...o,state:"subscribing"});let a=await this._rpcWebSocket.call(s,i);this._setSubscription(n,{...o,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=o.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,i,a.message),!r())return;this._setSubscription(n,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:i,unsubscribeMethod:s}=o;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(n,{...o,state:"unsubscribing"}),this._setSubscription(n,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[i])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!r())return;this._setSubscription(n,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(o=>{try{o(...r)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=y.create(e,LV);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,o=GK([e.method,r]),i=this._subscriptionsByHash[o];return i===void 0?this._subscriptionsByHash[o]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[o];st(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=y.create(e,FV);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,o){let i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=y.create(e,yq);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=y.create(e,KV);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=y.create(e,qV);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,o){let i=r||this._commitment;if(i||n||o){let s={};n&&(s.encoding=n),i&&(s.commitment=i),o&&(s=Object.assign(s,o)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,r,n,o){let i=r||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,o)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=y.create(e,zV);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let o=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){r(s.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return i}onSignatureWithOptions(e,r,n){let{commitment:o,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],o,void 0,i),a=this._makeSubscription({callback:(c,u)=>{r(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=y.create(e,jV);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},Dy=class t{constructor(e){this._keypair=void 0,this._keypair=e??r5()}static generate(){return new t(r5())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let o=e.slice(0,32),i=Ty(o);for(let s=0;s<32;s++)if(n[s]!==i[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=Ty(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new se(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},is=Object.freeze({CreateLookupTable:{index:0,layout:I.struct([I.u32("instruction"),Sf("recentSlot"),I.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:I.struct([I.u32("instruction")])},ExtendLookupTable:{index:2,layout:I.struct([I.u32("instruction"),Sf(),I.seq(We(),I.offset(I.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:I.struct([I.u32("instruction")])},CloseLookupTable:{index:4,layout:I.struct([I.u32("instruction")])}}),x2=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=I.u32("instruction").decode(e.data),o;for(let[i,s]of Object.entries(is))if(s.index==n){o=i;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=ht(is.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=ht(is.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new se(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(f0.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},f0=class{constructor(){}static createLookupTable(e){let[r,n]=se.findProgramAddressSync([e.authority.toBuffer(),s2.toBufferLE(BigInt(e.recentSlot),8)],this.programId),o=is.CreateLookupTable,i=et(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:tn.programId,isSigner:!1,isWritable:!1}];return[new gt({programId:this.programId,keys:s,data:i}),r]}static freezeLookupTable(e){let r=is.FreezeLookupTable,n=et(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new gt({programId:this.programId,keys:o,data:n})}static extendLookupTable(e){let r=is.ExtendLookupTable,n=et(r,{addresses:e.addresses.map(i=>i.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:tn.programId,isSigner:!1,isWritable:!1}),new gt({programId:this.programId,keys:o,data:n})}static deactivateLookupTable(e){let r=is.DeactivateLookupTable,n=et(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new gt({programId:this.programId,keys:o,data:n})}static closeLookupTable(e){let r=is.CloseLookupTable,n=et(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new gt({programId:this.programId,keys:o,data:n})}};f0.programId=new se("AddressLookupTab1e1111111111111111111111111");var w2=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=I.u8("instruction").decode(e.data),o;for(let[i,s]of Object.entries(gi))if(s.index==n){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=ht(gi.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=ht(gi.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=ht(gi.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=ht(gi.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(d0.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},gi=Object.freeze({RequestUnits:{index:0,layout:I.struct([I.u8("instruction"),I.u32("units"),I.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:I.struct([I.u8("instruction"),I.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:I.struct([I.u8("instruction"),I.u32("units")])},SetComputeUnitPrice:{index:3,layout:I.struct([I.u8("instruction"),Sf("microLamports")])}}),d0=class{constructor(){}static requestUnits(e){let r=gi.RequestUnits,n=et(r,e);return new gt({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=gi.RequestHeapFrame,n=et(r,e);return new gt({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=gi.SetComputeUnitLimit,n=et(r,e);return new gt({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=gi.SetComputeUnitPrice,n=et(r,{microLamports:BigInt(e.microLamports)});return new gt({keys:[],programId:this.programId,data:n})}};d0.programId=new se("ComputeBudget111111111111111111111111111111");var u5=64,f5=32,d5=64,l5=I.struct([I.u8("numSignatures"),I.u8("padding"),I.u16("signatureOffset"),I.u16("signatureInstructionIndex"),I.u16("publicKeyOffset"),I.u16("publicKeyInstructionIndex"),I.u16("messageDataOffset"),I.u16("messageDataSize"),I.u16("messageInstructionIndex")]),Oy=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:o,instructionIndex:i}=e;st(r.length===f5,`Public Key must be ${f5} bytes but received ${r.length} bytes`),st(o.length===d5,`Signature must be ${d5} bytes but received ${o.length} bytes`);let s=l5.span,a=s+r.length,c=a+o.length,u=1,h=Te.Buffer.alloc(c+n.length),f=i??65535;return l5.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:f,publicKeyOffset:s,publicKeyInstructionIndex:f,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:f},h),h.fill(r,s),h.fill(o,a),h.fill(n,c),new gt({keys:[],programId:t.programId,data:h})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:o}=e;st(r.length===u5,`Private key must be ${u5} bytes but received ${r.length} bytes`);try{let i=Dy.fromSecretKey(r),s=i.publicKey.toBytes(),a=k2(n,i.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:o})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}};Oy.programId=new se("Ed25519SigVerify111111111111111111111111111");Ly.utils.hmacSha256Sync=(t,...e)=>{let r=wK.hmac.create(i2.sha256,t);return e.forEach(n=>r.update(n)),r.digest()};var gq=(t,e)=>Ly.signSync(t,e,{der:!1,recovered:!0});Ly.utils.isValidPrivateKey;var bq=Ly.getPublicKey,h5=32,n2=20,p5=64,xq=11,o2=I.struct([I.u8("numSignatures"),I.u16("signatureOffset"),I.u8("signatureInstructionIndex"),I.u16("ethAddressOffset"),I.u8("ethAddressInstructionIndex"),I.u16("messageDataOffset"),I.u16("messageDataSize"),I.u8("messageInstructionIndex"),I.blob(20,"ethAddress"),I.blob(64,"signature"),I.u8("recoveryId")]),Ny=class t{constructor(){}static publicKeyToEthAddress(e){st(e.length===p5,`Public key must be ${p5} bytes but received ${e.length} bytes`);try{return Te.Buffer.from(e5.keccak_256(Me(e))).slice(-n2)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:o,recoveryId:i,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:o,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:o,recoveryId:i,instructionIndex:s=0}=e,a;typeof r=="string"?r.startsWith("0x")?a=Te.Buffer.from(r.substr(2),"hex"):a=Te.Buffer.from(r,"hex"):a=r,st(a.length===n2,`Address must be ${n2} bytes but received ${a.length} bytes`);let c=1+xq,u=c,h=c+a.length,f=h+o.length+1,p=1,m=Te.Buffer.alloc(o2.span+n.length);return o2.encode({numSignatures:p,signatureOffset:h,signatureInstructionIndex:s,ethAddressOffset:u,ethAddressInstructionIndex:s,messageDataOffset:f,messageDataSize:n.length,messageInstructionIndex:s,signature:Me(o),ethAddress:Me(a),recoveryId:i},m),m.fill(Me(n),o2.span),new gt({keys:[],programId:t.programId,data:m})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:o}=e;st(r.length===h5,`Private key must be ${h5} bytes but received ${r.length} bytes`);try{let i=Me(r),s=bq(i,!1).slice(1),a=Te.Buffer.from(e5.keccak_256(Me(n))),[c,u]=gq(a,i);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:u,instructionIndex:o})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}};Ny.programId=new se("KeccakSecp256k11111111111111111111111111111");var R5=new se("StakeConfig11111111111111111111111111111111"),Ry=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},Vc=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};Vc.default=new Vc(0,0,se.default);var A2=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=I.u32("instruction").decode(e.data),o;for(let[i,s]of Object.entries(Ir))if(s.index==n){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=ht(Ir.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Ry(new se(r.staker),new se(r.withdrawer)),lockup:new Vc(n.unixTimestamp,n.epoch,new se(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ht(Ir.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=ht(Ir.Authorize,e.data),o={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new se(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:o,authorityOwner:i}=ht(Ir.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:o,authorityOwner:new se(i),newAuthorizedPubkey:new se(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=ht(Ir.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ht(Ir.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=ht(Ir.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ht(Ir.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Ef.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Ir=Object.freeze({Initialize:{index:0,layout:I.struct([I.u32("instruction"),BK(),CK()])},Authorize:{index:1,layout:I.struct([I.u32("instruction"),We("newAuthorized"),I.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:I.struct([I.u32("instruction")])},Split:{index:3,layout:I.struct([I.u32("instruction"),I.ns64("lamports")])},Withdraw:{index:4,layout:I.struct([I.u32("instruction"),I.ns64("lamports")])},Deactivate:{index:5,layout:I.struct([I.u32("instruction")])},Merge:{index:7,layout:I.struct([I.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:I.struct([I.u32("instruction"),We("newAuthorized"),I.u32("stakeAuthorizationType"),Hc("authoritySeed"),We("authorityOwner")])}}),wq=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Ef=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:o}=e,i=o||Vc.default,s=Ir.Initialize,a=et(s,{authorized:{staker:Me(n.staker.toBuffer()),withdrawer:Me(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Me(i.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Af,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new gt(c)}static createAccountWithSeed(e){let r=new mt;r.add(tn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:o,lockup:i}=e;return r.add(this.initialize({stakePubkey:n,authorized:o,lockup:i}))}static createAccount(e){let r=new mt;r.add(tn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:o,lockup:i}=e;return r.add(this.initialize({stakePubkey:n,authorized:o,lockup:i}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:o}=e,i=Ir.Delegate,s=et(i);return new mt().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:yi,isSigner:!1,isWritable:!1},{pubkey:Iy,isSigner:!1,isWritable:!1},{pubkey:R5,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:o,stakeAuthorizationType:i,custodianPubkey:s}=e,a=Ir.Authorize,c=et(a,{newAuthorized:Me(o.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:yi,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&u.push({pubkey:s,isSigner:!1,isWritable:!1}),new mt().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:o,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Ir.AuthorizeWithSeed,h=et(u,{newAuthorized:Me(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:o,authorityOwner:Me(i.toBuffer())}),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:yi,isSigner:!1,isWritable:!1}];return c&&f.push({pubkey:c,isSigner:!1,isWritable:!1}),new mt().add({keys:f,programId:this.programId,data:h})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,lamports:i}=e,s=Ir.Split,a=et(s,{lamports:i});return new gt({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){let r=new mt;return r.add(tn.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,basePubkey:i,seed:s,lamports:a}=e,c=new mt;return c.add(tn.allocate({accountPubkey:o,basePubkey:i,seed:s,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,lamports:a}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:o}=e,i=Ir.Merge,s=et(i);return new mt().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:yi,isSigner:!1,isWritable:!1},{pubkey:Iy,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:o,lamports:i,custodianPubkey:s}=e,a=Ir.Withdraw,c=et(a,{lamports:i}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:yi,isSigner:!1,isWritable:!1},{pubkey:Iy,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&u.push({pubkey:s,isSigner:!1,isWritable:!1}),new mt().add({keys:u,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,o=Ir.Deactivate,i=et(o);return new mt().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:yi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}};Ef.programId=new se("Stake11111111111111111111111111111111111111");Ef.space=200;var Uy=class{constructor(e,r,n,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=o}},S2=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=I.u32("instruction").decode(e.data),o;for(let[i,s]of Object.entries(ss))if(s.index==n){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=ht(ss.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Uy(new se(r.nodePubkey),new se(r.authorizedVoter),new se(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=ht(ss.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new se(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:o,voteAuthorizationType:i}}=ht(ss.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new se(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new se(o),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=ht(ss.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(If.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},ss=Object.freeze({InitializeAccount:{index:0,layout:I.struct([I.u32("instruction"),DK()])},Authorize:{index:1,layout:I.struct([I.u32("instruction"),We("newAuthorized"),I.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:I.struct([I.u32("instruction"),I.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:I.struct([I.u32("instruction"),OK()])}}),Aq=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),If=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:o}=e,i=ss.InitializeAccount,s=et(i,{voteInit:{nodePubkey:Me(o.nodePubkey.toBuffer()),authorizedVoter:Me(o.authorizedVoter.toBuffer()),authorizedWithdrawer:Me(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Af,isSigner:!1,isWritable:!1},{pubkey:yi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new gt(a)}static createAccount(e){let r=new mt;return r.add(tn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:o,voteAuthorizationType:i}=e,s=ss.Authorize,a=et(s,{newAuthorized:Me(o.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:yi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new mt().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:a}=e,c=ss.AuthorizeWithSeed,u=et(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Me(n.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:Me(i.toBuffer()),voteAuthorizationType:s.index}}),h=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:yi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new mt().add({keys:h,programId:this.programId,data:u})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:o,toPubkey:i}=e,s=ss.Withdraw,a=et(s,{lamports:o}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new mt().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}};If.programId=new se("Vote111111111111111111111111111111111111111");If.space=3731;var U5=new se("Va1idator1nfo111111111111111111111111111111"),Sq=y.type({name:y.string(),website:y.optional(y.string()),details:y.optional(y.string()),keybaseUsername:y.optional(y.string())}),v2=class t{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(Bn(r)!==2)return null;let o=[];for(let i=0;i<2;i++){let s=new se(Cn(r,0,bi)),a=mi(r)===1;o.push({publicKey:s,isSigner:a})}if(o[0].publicKey.equals(U5)&&o[1].isSigner){let i=Hc().decode(Te.Buffer.from(r)),s=JSON.parse(i);return y.assert(s,Sq),new t(o[1].publicKey,s)}return null}},vq=new se("Vote111111111111111111111111111111111111111"),Eq=I.struct([We("nodePubkey"),We("authorizedWithdrawer"),I.u8("commission"),I.nu64(),I.seq(I.struct([I.nu64("slot"),I.u32("confirmationCount")]),I.offset(I.u32(),-8),"votes"),I.u8("rootSlotValid"),I.nu64("rootSlot"),I.nu64(),I.seq(I.struct([I.nu64("epoch"),We("authorizedVoter")]),I.offset(I.u32(),-8),"authorizedVoters"),I.struct([I.seq(I.struct([We("authorizedPubkey"),I.nu64("epochOfLastAuthorizedSwitch"),I.nu64("targetEpoch")]),32,"buf"),I.nu64("idx"),I.u8("isEmpty")],"priorVoters"),I.nu64(),I.seq(I.struct([I.nu64("epoch"),I.nu64("credits"),I.nu64("prevCredits")]),I.offset(I.u32(),-8),"epochCredits"),I.struct([I.nu64("slot"),I.nu64("timestamp")],"lastTimestamp")]),E2=class t{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=Eq.decode(Me(e),4),o=n.rootSlot;return n.rootSlotValid||(o=null),new t({nodePubkey:new se(n.nodePubkey),authorizedWithdrawer:new se(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:o,authorizedVoters:n.authorizedVoters.map(Iq),priorVoters:kq(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function Iq({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new se(t)}}function y5({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new se(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function kq({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(y5),...t.slice(0,e).map(y5)]}var m5={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Tq(t,e){let r=e===!1?"http":"https";if(!t)return m5[r].devnet;let n=m5[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function _q(t,e,r,n){let o,i;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(o=r,i=n):i=r;let s=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await t.sendRawTransaction(e,s),c=i&&i.commitment,h=(await(o?t.confirmTransaction(o,c):t.confirmTransaction(a,c))).value;if(h.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(h)})`);return a}var Pq=1e9;ne.Account=c2;ne.AddressLookupTableAccount=c0;ne.AddressLookupTableInstruction=x2;ne.AddressLookupTableProgram=f0;ne.Authorized=Ry;ne.BLOCKHASH_CACHE_TIMEOUT_MS=I5;ne.BPF_LOADER_DEPRECATED_PROGRAM_ID=_K;ne.BPF_LOADER_PROGRAM_ID=qK;ne.BpfLoader=h2;ne.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=gi;ne.ComputeBudgetInstruction=w2;ne.ComputeBudgetProgram=d0;ne.Connection=b2;ne.Ed25519Program=Oy;ne.Enum=a2;ne.EpochSchedule=By;ne.FeeCalculatorLayout=S5;ne.Keypair=Dy;ne.LAMPORTS_PER_SOL=Pq;ne.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=is;ne.Loader=vf;ne.Lockup=Vc;ne.MAX_SEED_LENGTH=x5;ne.Message=xi;ne.MessageAccountKeys=Kc;ne.MessageV0=wf;ne.NONCE_ACCOUNT_LENGTH=d2;ne.NonceAccount=Py;ne.PACKET_DATA_SIZE=ua;ne.PUBLIC_KEY_LENGTH=bi;ne.PublicKey=se;ne.SIGNATURE_LENGTH_IN_BYTES=o0;ne.SOLANA_SCHEMA=r0;ne.STAKE_CONFIG_ID=R5;ne.STAKE_INSTRUCTION_LAYOUTS=Ir;ne.SYSTEM_INSTRUCTION_LAYOUTS=Tt;ne.SYSVAR_CLOCK_PUBKEY=yi;ne.SYSVAR_EPOCH_SCHEDULE_PUBKEY=RK;ne.SYSVAR_INSTRUCTIONS_PUBKEY=UK;ne.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=Ey;ne.SYSVAR_RENT_PUBKEY=Af;ne.SYSVAR_REWARDS_PUBKEY=LK;ne.SYSVAR_SLOT_HASHES_PUBKEY=MK;ne.SYSVAR_SLOT_HISTORY_PUBKEY=FK;ne.SYSVAR_STAKE_HISTORY_PUBKEY=Iy;ne.Secp256k1Program=Ny;ne.SendTransactionError=a0;ne.SolanaJSONRPCError=me;ne.SolanaJSONRPCErrorCode=QK;ne.StakeAuthorizationLayout=wq;ne.StakeInstruction=A2;ne.StakeProgram=Ef;ne.Struct=n0;ne.SystemInstruction=l2;ne.SystemProgram=tn;ne.Transaction=mt;ne.TransactionExpiredBlockheightExceededError=i0;ne.TransactionExpiredNonceInvalidError=ca;ne.TransactionExpiredTimeoutError=s0;ne.TransactionInstruction=gt;ne.TransactionMessage=u2;ne.VALIDATOR_INFO_KEY=U5;ne.VERSION_PREFIX_MASK=My;ne.VOTE_PROGRAM_ID=vq;ne.ValidatorInfo=v2;ne.VersionedMessage=T2;ne.VersionedTransaction=f2;ne.VoteAccount=E2;ne.VoteAuthorizationLayout=Aq;ne.VoteInit=Uy;ne.VoteInstruction=S2;ne.VoteProgram=If;ne.clusterApiUrl=Tq;ne.sendAndConfirmRawTransaction=_q;ne.sendAndConfirmTransaction=ky});var Vk=P(Am=>{"use strict";d();l();Object.defineProperty(Am,"__esModule",{value:!0});Am.version=void 0;Am.version="properties/5.7.0"});var mo=P(fr=>{"use strict";d();l();var dj=fr&&fr.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(h){try{u(n.next(h))}catch(f){s(f)}}function c(h){try{u(n.throw(h))}catch(f){s(f)}}function u(h){h.done?i(h.value):o(h.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},lj=fr&&fr.__generator||function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(fr,"__esModule",{value:!0});fr.Description=fr.deepCopy=fr.shallowCopy=fr.checkProperties=fr.resolveProperties=fr.getStatic=fr.defineReadOnly=void 0;var hj=fn(),pj=Vk(),Sm=new hj.Logger(pj.version);function qk(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}fr.defineReadOnly=qk;function yj(t,e){for(var r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}fr.getStatic=yj;function mj(t){return dj(this,void 0,void 0,function(){var e,r;return lj(this,function(n){switch(n.label){case 0:return e=Object.keys(t).map(function(o){var i=t[o];return Promise.resolve(i).then(function(s){return{key:o,value:s}})}),[4,Promise.all(e)];case 1:return r=n.sent(),[2,r.reduce(function(o,i){return o[i.key]=i.value,o},{})]}})})}fr.resolveProperties=mj;function gj(t,e){(!t||typeof t!="object")&&Sm.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(function(r){e[r]||Sm.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}fr.checkProperties=gj;function bj(t){var e={};for(var r in t)e[r]=t[r];return e}fr.shallowCopy=bj;var xj={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function zk(t){if(t==null||xj[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;for(var e=Object.keys(t),r=0;r<e.length;r++){var n=null;try{n=t[e[r]]}catch{continue}if(!zk(n))return!1}return!0}return Sm.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function wj(t){if(zk(t))return t;if(Array.isArray(t))return Object.freeze(t.map(function(o){return vm(o)}));if(typeof t=="object"){var e={};for(var r in t){var n=t[r];n!==void 0&&qk(e,r,vm(n))}return e}return Sm.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function vm(t){return wj(t)}fr.deepCopy=vm;var Aj=function(){function t(e){for(var r in e)this[r]=vm(e[r])}return t}();fr.Description=Aj});var Jk=P(Im=>{"use strict";d();l();Object.defineProperty(Im,"__esModule",{value:!0});Im.AddressZero=void 0;Im.AddressZero="0x0000000000000000000000000000000000000000"});var Xk=P(Tr=>{"use strict";d();l();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.MaxInt256=Tr.MinInt256=Tr.MaxUint256=Tr.WeiPerEther=Tr.Two=Tr.One=Tr.Zero=Tr.NegativeOne=void 0;var Sa=ju(),kj=Sa.BigNumber.from(-1);Tr.NegativeOne=kj;var Tj=Sa.BigNumber.from(0);Tr.Zero=Tj;var _j=Sa.BigNumber.from(1);Tr.One=_j;var Pj=Sa.BigNumber.from(2);Tr.Two=Pj;var Bj=Sa.BigNumber.from("1000000000000000000");Tr.WeiPerEther=Bj;var Cj=Sa.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Tr.MaxUint256=Cj;var Dj=Sa.BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000");Tr.MinInt256=Dj;var Oj=Sa.BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Tr.MaxInt256=Oj});var Zk=P(km=>{"use strict";d();l();Object.defineProperty(km,"__esModule",{value:!0});km.HashZero=void 0;km.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000"});var eT=P(Tm=>{"use strict";d();l();Object.defineProperty(Tm,"__esModule",{value:!0});Tm.EtherSymbol=void 0;Tm.EtherSymbol="\u039E"});var nA=P(Ht=>{"use strict";d();l();Object.defineProperty(Ht,"__esModule",{value:!0});Ht.EtherSymbol=Ht.HashZero=Ht.MaxInt256=Ht.MinInt256=Ht.MaxUint256=Ht.WeiPerEther=Ht.Two=Ht.One=Ht.Zero=Ht.NegativeOne=Ht.AddressZero=void 0;var Nj=Jk();Object.defineProperty(Ht,"AddressZero",{enumerable:!0,get:function(){return Nj.AddressZero}});var va=Xk();Object.defineProperty(Ht,"NegativeOne",{enumerable:!0,get:function(){return va.NegativeOne}});Object.defineProperty(Ht,"Zero",{enumerable:!0,get:function(){return va.Zero}});Object.defineProperty(Ht,"One",{enumerable:!0,get:function(){return va.One}});Object.defineProperty(Ht,"Two",{enumerable:!0,get:function(){return va.Two}});Object.defineProperty(Ht,"WeiPerEther",{enumerable:!0,get:function(){return va.WeiPerEther}});Object.defineProperty(Ht,"MaxUint256",{enumerable:!0,get:function(){return va.MaxUint256}});Object.defineProperty(Ht,"MinInt256",{enumerable:!0,get:function(){return va.MinInt256}});Object.defineProperty(Ht,"MaxInt256",{enumerable:!0,get:function(){return va.MaxInt256}});var Rj=Zk();Object.defineProperty(Ht,"HashZero",{enumerable:!0,get:function(){return Rj.HashZero}});var Uj=eT();Object.defineProperty(Ht,"EtherSymbol",{enumerable:!0,get:function(){return Uj.EtherSymbol}})});var tT=P(_m=>{"use strict";d();l();Object.defineProperty(_m,"__esModule",{value:!0});_m.version=void 0;_m.version="strings/5.7.0"});var Bm=P(nr=>{"use strict";d();l();Object.defineProperty(nr,"__esModule",{value:!0});nr.toUtf8CodePoints=nr.toUtf8String=nr._toUtf8String=nr._toEscapedUtf8String=nr.toUtf8Bytes=nr.Utf8ErrorFuncs=nr.Utf8ErrorReason=nr.UnicodeNormalizationForm=void 0;var rT=vr(),Lj=fn(),Mj=tT(),nT=new Lj.Logger(Mj.version),Pm;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Pm=nr.UnicodeNormalizationForm||(nr.UnicodeNormalizationForm={}));var bo;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(bo=nr.Utf8ErrorReason||(nr.Utf8ErrorReason={}));function Fj(t,e,r,n,o){return nT.throwArgumentError("invalid codepoint at offset "+e+"; "+t,"bytes",r)}function oT(t,e,r,n,o){if(t===bo.BAD_PREFIX||t===bo.UNEXPECTED_CONTINUE){for(var i=0,s=e+1;s<r.length&&r[s]>>6===2;s++)i++;return i}return t===bo.OVERRUN?r.length-e-1:0}function Hj(t,e,r,n,o){return t===bo.OVERLONG?(n.push(o),0):(n.push(65533),oT(t,e,r,n,o))}nr.Utf8ErrorFuncs=Object.freeze({error:Fj,ignore:oT,replace:Hj});function iA(t,e){e==null&&(e=nr.Utf8ErrorFuncs.error),t=(0,rT.arrayify)(t);for(var r=[],n=0;n<t.length;){var o=t[n++];if(!(o>>7)){r.push(o);continue}var i=null,s=null;if((o&224)===192)i=1,s=127;else if((o&240)===224)i=2,s=2047;else if((o&248)===240)i=3,s=65535;else{(o&192)===128?n+=e(bo.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(bo.BAD_PREFIX,n-1,t,r);continue}if(n-1+i>=t.length){n+=e(bo.OVERRUN,n-1,t,r);continue}for(var a=o&(1<<8-i-1)-1,c=0;c<i;c++){var u=t[n];if((u&192)!=128){n+=e(bo.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|u&63,n++}if(a!==null){if(a>1114111){n+=e(bo.OUT_OF_RANGE,n-1-i,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(bo.UTF16_SURROGATE,n-1-i,t,r,a);continue}if(a<=s){n+=e(bo.OVERLONG,n-1-i,t,r,a);continue}r.push(a)}}return r}function iT(t,e){e===void 0&&(e=Pm.current),e!=Pm.current&&(nT.checkNormalize(),t=t.normalize(e));for(var r=[],n=0;n<t.length;n++){var o=t.charCodeAt(n);if(o<128)r.push(o);else if(o<2048)r.push(o>>6|192),r.push(o&63|128);else if((o&64512)==55296){n++;var i=t.charCodeAt(n);if(n>=t.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");var s=65536+((o&1023)<<10)+(i&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(o>>12|224),r.push(o>>6&63|128),r.push(o&63|128)}return(0,rT.arrayify)(r)}nr.toUtf8Bytes=iT;function oA(t){var e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function Kj(t,e){return'"'+iA(t,e).map(function(r){if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?oA(r):(r-=65536,oA((r>>10&1023)+55296)+oA((r&1023)+56320))}).join("")+'"'}nr._toEscapedUtf8String=Kj;function sT(t){return t.map(function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))}).join("")}nr._toUtf8String=sT;function Vj(t,e){return sT(iA(t,e))}nr.toUtf8String=Vj;function qj(t,e){return e===void 0&&(e=Pm.current),iA(iT(t,e))}nr.toUtf8CodePoints=qj});var cT=P(Ff=>{"use strict";d();l();Object.defineProperty(Ff,"__esModule",{value:!0});Ff.parseBytes32String=Ff.formatBytes32String=void 0;var zj=nA(),sA=vr(),aT=Bm();function jj(t){var e=(0,aT.toUtf8Bytes)(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,sA.hexlify)((0,sA.concat)([e,zj.HashZero]).slice(0,32))}Ff.formatBytes32String=jj;function Wj(t){var e=(0,sA.arrayify)(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");for(var r=31;e[r-1]===0;)r--;return(0,aT.toUtf8String)(e.slice(0,r))}Ff.parseBytes32String=Wj});var hT=P(Ei=>{"use strict";d();l();Object.defineProperty(Ei,"__esModule",{value:!0});Ei.nameprep=Ei._nameprepTableC=Ei._nameprepTableB2=Ei._nameprepTableA1=void 0;var N0=Bm();function Gj(t){if(t.length%4!==0)throw new Error("bad data");for(var e=[],r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function aA(t,e){e||(e=function(o){return[parseInt(o,16)]});var r=0,n={};return t.split(",").forEach(function(o){var i=o.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])}),n}function uT(t){var e=0;return t.split(",").map(function(r){var n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");var o=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:o,h:e}})}function cA(t,e){for(var r=0,n=0;n<e.length;n++){var o=e[n];if(r+=o.l,t>=r&&t<=r+o.h&&(t-r)%(o.d||1)===0){if(o.e&&o.e.indexOf(t-r)!==-1)continue;return o}}return null}var $j=uT("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Qj="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(function(t){return parseInt(t,16)}),Yj=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Jj=aA("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Xj=aA("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Zj=aA("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Gj),eW=uT("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function tW(t){return t.reduce(function(e,r){return r.forEach(function(n){e.push(n)}),e},[])}function fT(t){return!!cA(t,$j)}Ei._nameprepTableA1=fT;function dT(t){var e=cA(t,Yj);if(e)return[t+e.s];var r=Jj[t];if(r)return r;var n=Xj[t];if(n)return[t+n[0]];var o=Zj[t];return o||null}Ei._nameprepTableB2=dT;function lT(t){return!!cA(t,eW)}Ei._nameprepTableC=lT;function rW(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();var e=(0,N0.toUtf8CodePoints)(t);e=tW(e.map(function(n){if(Qj.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];var o=dT(n);return o||[n]})),e=(0,N0.toUtf8CodePoints)((0,N0._toUtf8String)(e),N0.UnicodeNormalizationForm.NFKC),e.forEach(function(n){if(lT(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(function(n){if(fT(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});var r=(0,N0._toUtf8String)(e);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-")throw new Error("invalid hyphen");return r}Ei.nameprep=rW});var Ea=P(Xt=>{"use strict";d();l();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.nameprep=Xt.parseBytes32String=Xt.formatBytes32String=Xt.UnicodeNormalizationForm=Xt.Utf8ErrorReason=Xt.Utf8ErrorFuncs=Xt.toUtf8String=Xt.toUtf8CodePoints=Xt.toUtf8Bytes=Xt._toEscapedUtf8String=void 0;var pT=cT();Object.defineProperty(Xt,"formatBytes32String",{enumerable:!0,get:function(){return pT.formatBytes32String}});Object.defineProperty(Xt,"parseBytes32String",{enumerable:!0,get:function(){return pT.parseBytes32String}});var nW=hT();Object.defineProperty(Xt,"nameprep",{enumerable:!0,get:function(){return nW.nameprep}});var Qc=Bm();Object.defineProperty(Xt,"_toEscapedUtf8String",{enumerable:!0,get:function(){return Qc._toEscapedUtf8String}});Object.defineProperty(Xt,"toUtf8Bytes",{enumerable:!0,get:function(){return Qc.toUtf8Bytes}});Object.defineProperty(Xt,"toUtf8CodePoints",{enumerable:!0,get:function(){return Qc.toUtf8CodePoints}});Object.defineProperty(Xt,"toUtf8String",{enumerable:!0,get:function(){return Qc.toUtf8String}});Object.defineProperty(Xt,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return Qc.UnicodeNormalizationForm}});Object.defineProperty(Xt,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return Qc.Utf8ErrorFuncs}});Object.defineProperty(Xt,"Utf8ErrorReason",{enumerable:!0,get:function(){return Qc.Utf8ErrorReason}})});var uA=P(Cm=>{"use strict";d();l();Object.defineProperty(Cm,"__esModule",{value:!0});Cm.id=void 0;var oW=Fs(),iW=Ea();function sW(t){return(0,oW.keccak256)((0,iW.toUtf8Bytes)(t))}Cm.id=sW});var fA=P(Dm=>{"use strict";d();l();Object.defineProperty(Dm,"__esModule",{value:!0});Dm.version=void 0;Dm.version="hash/5.7.0"});var mT=P(Hf=>{"use strict";d();l();Object.defineProperty(Hf,"__esModule",{value:!0});Hf.encode=Hf.decode=void 0;var yT=vr();function aW(t){t=atob(t);for(var e=[],r=0;r<t.length;r++)e.push(t.charCodeAt(r));return(0,yT.arrayify)(e)}Hf.decode=aW;function cW(t){t=(0,yT.arrayify)(t);for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}Hf.encode=cW});var bT=P(Kf=>{"use strict";d();l();Object.defineProperty(Kf,"__esModule",{value:!0});Kf.encode=Kf.decode=void 0;var gT=mT();Object.defineProperty(Kf,"decode",{enumerable:!0,get:function(){return gT.decode}});Object.defineProperty(Kf,"encode",{enumerable:!0,get:function(){return gT.encode}})});var lA=P(_r=>{"use strict";d();l();Object.defineProperty(_r,"__esModule",{value:!0});_r.read_emoji_trie=_r.read_zero_terminated_array=_r.read_mapped_map=_r.read_member_array=_r.signed=_r.read_compressed_payload=_r.read_payload=_r.decode_arithmetic=void 0;function wT(t,e){e==null&&(e=1);var r=[],n=r.forEach,o=function(i,s){n.call(i,function(a){s>0&&Array.isArray(a)?o(a,s-1):r.push(a)})};return o(t,e),r}function uW(t){for(var e={},r=0;r<t.length;r++){var n=t[r];e[n[0]]=n[1]}return e}function AT(t){var e=0;function r(){return t[e++]<<8|t[e++]}for(var n=r(),o=1,i=[0,1],s=1;s<n;s++)i.push(o+=r());var a=r(),c=e;e+=a;var u=0,h=0;function f(){return u==0&&(h=h<<8|t[e++],u=8),h>>--u&1}for(var p=31,m=Math.pow(2,p),g=m>>>1,x=g>>1,w=m-1,S=0,s=0;s<p;s++)S=S<<1|f();for(var k=[],A=0,T=m;;){for(var C=Math.floor(((S-A+1)*o-1)/T),W=0,oe=n;oe-W>1;){var Y=W+oe>>>1;C<i[Y]?oe=Y:W=Y}if(W==0)break;k.push(W);for(var G=A+Math.floor(T*i[W]/o),re=A+Math.floor(T*i[W+1]/o)-1;!((G^re)&g);)S=S<<1&w|f(),G=G<<1&w,re=re<<1&w|1;for(;G&~re&x;)S=S&g|S<<1&w>>>1|f(),G=G<<1^g,re=(re^g)<<1|g|1;A=G,T=1+re-G}var Z=n-4;return k.map(function(D){switch(D-Z){case 3:return Z+65792+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return Z+256+(t[c++]<<8|t[c++]);case 1:return Z+t[c++];default:return D-1}})}_r.decode_arithmetic=AT;function ST(t){var e=0;return function(){return t[e++]}}_r.read_payload=ST;function fW(t){return ST(AT(t))}_r.read_compressed_payload=fW;function vT(t){return t&1?~t>>1:t>>1}_r.signed=vT;function dW(t,e){for(var r=Array(t),n=0;n<t;n++)r[n]=1+e();return r}function xT(t,e){for(var r=Array(t),n=0,o=-1;n<t;n++)r[n]=o+=1+e();return r}function lW(t,e){for(var r=Array(t),n=0,o=0;n<t;n++)r[n]=o+=vT(e());return r}function dA(t,e){for(var r=xT(t(),t),n=t(),o=xT(n,t),i=dW(n,t),s=0;s<n;s++)for(var a=0;a<i[s];a++)r.push(o[s]+a);return e?r.map(function(c){return e[c]}):r}_r.read_member_array=dA;function hW(t){for(var e=[];;){var r=t();if(r==0)break;e.push(pW(r,t))}for(;;){var r=t()-1;if(r<0)break;e.push(yW(r,t))}return uW(wT(e))}_r.read_mapped_map=hW;function ET(t){for(var e=[];;){var r=t();if(r==0)break;e.push(r)}return e}_r.read_zero_terminated_array=ET;function IT(t,e,r){for(var n=Array(t).fill(void 0).map(function(){return[]}),o=0;o<e;o++)lW(t,r).forEach(function(i,s){return n[s].push(i)});return n}function pW(t,e){var r=1+e(),n=e(),o=ET(e),i=IT(o.length,1+t,e);return wT(i.map(function(s,a){var c=s[0],u=s.slice(1);return Array(o[a]).fill(void 0).map(function(h,f){var p=f*n;return[c+f*r,u.map(function(m){return m+p})]})}))}function yW(t,e){var r=1+e(),n=IT(r,1+t,e);return n.map(function(o){return[o[0],o.slice(1)]})}function mW(t){var e=dA(t).sort(function(n,o){return n-o});return r();function r(){for(var n=[];;){var o=dA(t,e);if(o.length==0)break;n.push({set:new Set(o),node:r()})}n.sort(function(h,f){return f.set.size-h.set.size});var i=t(),s=i%3;i=i/3|0;var a=!!(i&1);i>>=1;var c=i==1,u=i==2;return{branches:n,valid:s,fe0f:a,save:c,check:u}}}_r.read_emoji_trie=mW});var kT=P(Om=>{"use strict";d();l();Object.defineProperty(Om,"__esModule",{value:!0});Om.getData=void 0;var gW=bT(),bW=lA();function xW(){return(0,bW.read_compressed_payload)((0,gW.decode)("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}Om.getData=xW});var BT=P(Vf=>{"use strict";d();l();Object.defineProperty(Vf,"__esModule",{value:!0});Vf.ens_normalize=Vf.ens_normalize_post_check=void 0;var wW=Ea(),AW=kT(),Nm=(0,AW.getData)(),Rm=lA(),SW=new Set((0,Rm.read_member_array)(Nm)),vW=new Set((0,Rm.read_member_array)(Nm)),EW=(0,Rm.read_mapped_map)(Nm),IW=(0,Rm.read_emoji_trie)(Nm),TT=45,_T=95;function PT(t){return(0,wW.toUtf8CodePoints)(t)}function kW(t){return t.filter(function(e){return e!=65039})}function hA(t){for(var e=0,r=t.split(".");e<r.length;e++){var n=r[e],o=PT(n);try{for(var i=o.lastIndexOf(_T)-1;i>=0;i--)if(o[i]!==_T)throw new Error("underscore only allowed at start");if(o.length>=4&&o.every(function(s){return s<128})&&o[2]===TT&&o[3]===TT)throw new Error("invalid label extension")}catch(s){throw new Error('Invalid label "'+n+'": '+s.message)}}return t}Vf.ens_normalize_post_check=hA;function TW(t){return hA(_W(t,kW))}Vf.ens_normalize=TW;function _W(t,e){for(var r=PT(t).reverse(),n=[];r.length;){var o=BW(r);if(o){n.push.apply(n,e(o));continue}var i=r.pop();if(SW.has(i)){n.push(i);continue}if(!vW.has(i)){var s=EW[i];if(s){n.push.apply(n,s);continue}throw new Error("Disallowed codepoint: 0x"+i.toString(16).toUpperCase())}}return hA(PW(String.fromCodePoint.apply(String,n)))}function PW(t){return t.normalize("NFC")}function BW(t,e){var r,n=IW,o,i,s=[],a=t.length;e&&(e.length=0);for(var c=function(){var h=t[--a];if(n=(r=n.branches.find(function(f){return f.set.has(h)}))===null||r===void 0?void 0:r.node,!n)return"break";if(n.save)i=h;else if(n.check&&h===i)return"break";s.push(h),n.fe0f&&(s.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(o=s.slice(),n.valid==2&&o.splice(1,1),e&&e.push.apply(e,t.slice(a).reverse()),t.length=a)};a;){var u=c();if(u==="break")break}return o}});var pA=P(Ii=>{"use strict";d();l();Object.defineProperty(Ii,"__esModule",{value:!0});Ii.dnsEncode=Ii.namehash=Ii.isValidName=Ii.ensNormalize=void 0;var Um=vr(),OT=Ea(),CT=Fs(),CW=fn(),DW=fA(),OW=new CW.Logger(DW.version),NW=BT(),NT=new Uint8Array(32);NT.fill(0);function DT(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function Lm(t){var e=(0,OT.toUtf8Bytes)((0,NW.ens_normalize)(t)),r=[];if(t.length===0)return r;for(var n=0,o=0;o<e.length;o++){var i=e[o];i===46&&(r.push(DT(e.slice(n,o))),n=o+1)}if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(DT(e.slice(n))),r}function RW(t){return Lm(t).map(function(e){return(0,OT.toUtf8String)(e)}).join(".")}Ii.ensNormalize=RW;function UW(t){try{return Lm(t).length!==0}catch{}return!1}Ii.isValidName=UW;function LW(t){typeof t!="string"&&OW.throwArgumentError("invalid ENS name; not a string","name",t);for(var e=NT,r=Lm(t);r.length;)e=(0,CT.keccak256)((0,Um.concat)([e,(0,CT.keccak256)(r.pop())]));return(0,Um.hexlify)(e)}Ii.namehash=LW;function MW(t){return(0,Um.hexlify)((0,Um.concat)(Lm(t).map(function(e){if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");var r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}Ii.dnsEncode=MW});var RT=P(Yc=>{"use strict";d();l();Object.defineProperty(Yc,"__esModule",{value:!0});Yc.hashMessage=Yc.messagePrefix=void 0;var FW=vr(),HW=Fs(),yA=Ea();Yc.messagePrefix=`Ethereum Signed Message:
`;function KW(t){return typeof t=="string"&&(t=(0,yA.toUtf8Bytes)(t)),(0,HW.keccak256)((0,FW.concat)([(0,yA.toUtf8Bytes)(Yc.messagePrefix),(0,yA.toUtf8Bytes)(String(t.length)),t]))}Yc.hashMessage=KW});var zT=P(Ia=>{"use strict";d();l();var VW=Ia&&Ia.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(h){try{u(n.next(h))}catch(f){s(f)}}function c(h){try{u(n.throw(h))}catch(f){s(f)}}function u(h){h.done?i(h.value):o(h.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},qW=Ia&&Ia.__generator||function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.TypedDataEncoder=void 0;var FT=yl(),Xc=ju(),Mr=vr(),qf=Fs(),Jc=mo(),zW=fn(),jW=fA(),jt=new zW.Logger(jW.version),HT=uA(),KT=new Uint8Array(32);KT.fill(0);var WW=Xc.BigNumber.from(-1),VT=Xc.BigNumber.from(0),qT=Xc.BigNumber.from(1),GW=Xc.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function $W(t){var e=(0,Mr.arrayify)(t),r=e.length%32;return r?(0,Mr.hexConcat)([e,KT.slice(r)]):(0,Mr.hexlify)(e)}var QW=(0,Mr.hexZeroPad)(qT.toHexString(),32),YW=(0,Mr.hexZeroPad)(VT.toHexString(),32),UT={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},mA=["name","version","chainId","verifyingContract","salt"];function LT(t){return function(e){return typeof e!="string"&&jt.throwArgumentError("invalid domain value for "+JSON.stringify(t),"domain."+t,e),e}}var JW={name:LT("name"),version:LT("version"),chainId:function(t){try{return Xc.BigNumber.from(t).toString()}catch{}return jt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return(0,FT.getAddress)(t).toLowerCase()}catch{}return jt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{var e=(0,Mr.arrayify)(t);if(e.length!==32)throw new Error("bad length");return(0,Mr.hexlify)(e)}catch{}return jt.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function gA(t){{var e=t.match(/^(u?)int(\d*)$/);if(e){var r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&jt.throwArgumentError("invalid numeric width","type",t);var o=GW.mask(r?n-1:n),i=r?o.add(qT).mul(WW):VT;return function(a){var c=Xc.BigNumber.from(a);return(c.lt(i)||c.gt(o))&&jt.throwArgumentError("value out-of-bounds for "+t,"value",a),(0,Mr.hexZeroPad)(c.toTwos(256).toHexString(),32)}}}{var e=t.match(/^bytes(\d+)$/);if(e){var s=parseInt(e[1]);return(s===0||s>32||e[1]!==String(s))&&jt.throwArgumentError("invalid bytes width","type",t),function(c){var u=(0,Mr.arrayify)(c);return u.length!==s&&jt.throwArgumentError("invalid length for "+t,"value",c),$W(c)}}}switch(t){case"address":return function(a){return(0,Mr.hexZeroPad)((0,FT.getAddress)(a),32)};case"bool":return function(a){return a?QW:YW};case"bytes":return function(a){return(0,qf.keccak256)(a)};case"string":return function(a){return(0,HT.id)(a)}}return null}function MT(t,e){return t+"("+e.map(function(r){var n=r.name,o=r.type;return o+" "+n}).join(",")+")"}var XW=function(){function t(e){(0,Jc.defineReadOnly)(this,"types",Object.freeze((0,Jc.deepCopy)(e))),(0,Jc.defineReadOnly)(this,"_encoderCache",{}),(0,Jc.defineReadOnly)(this,"_types",{});var r={},n={},o={};Object.keys(e).forEach(function(f){r[f]={},n[f]=[],o[f]={}});var i=function(f){var p={};e[f].forEach(function(m){p[m.name]&&jt.throwArgumentError("duplicate variable name "+JSON.stringify(m.name)+" in "+JSON.stringify(f),"types",e),p[m.name]=!0;var g=m.type.match(/^([^\x5b]*)(\x5b|$)/)[1];g===f&&jt.throwArgumentError("circular type reference to "+JSON.stringify(g),"types",e);var x=gA(g);x||(n[g]||jt.throwArgumentError("unknown type "+JSON.stringify(g),"types",e),n[g].push(f),r[f][g]=!0)})};for(var s in e)i(s);var a=Object.keys(n).filter(function(f){return n[f].length===0});a.length===0?jt.throwArgumentError("missing primary type","types",e):a.length>1&&jt.throwArgumentError("ambiguous primary types or unused types: "+a.map(function(f){return JSON.stringify(f)}).join(", "),"types",e),(0,Jc.defineReadOnly)(this,"primaryType",a[0]);function c(f,p){p[f]&&jt.throwArgumentError("circular type reference to "+JSON.stringify(f),"types",e),p[f]=!0,Object.keys(r[f]).forEach(function(m){n[m]&&(c(m,p),Object.keys(p).forEach(function(g){o[g][m]=!0}))}),delete p[f]}c(this.primaryType,{});for(var u in o){var h=Object.keys(o[u]);h.sort(),this._types[u]=MT(u,e[u])+h.map(function(f){return MT(f,e[f])}).join("")}}return t.prototype.getEncoder=function(e){var r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r},t.prototype._getEncoder=function(e){var r=this;{var n=gA(e);if(n)return n}var o=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(o){var i=o[1],s=this.getEncoder(i),a=parseInt(o[3]);return function(h){a>=0&&h.length!==a&&jt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",h);var f=h.map(s);return r._types[i]&&(f=f.map(qf.keccak256)),(0,qf.keccak256)((0,Mr.hexConcat)(f))}}var c=this.types[e];if(c){var u=(0,HT.id)(this._types[e]);return function(h){var f=c.map(function(p){var m=p.name,g=p.type,x=r.getEncoder(g)(h[m]);return r._types[g]?(0,qf.keccak256)(x):x});return f.unshift(u),(0,Mr.hexConcat)(f)}}return jt.throwArgumentError("unknown type: "+e,"type",e)},t.prototype.encodeType=function(e){var r=this._types[e];return r||jt.throwArgumentError("unknown type: "+JSON.stringify(e),"name",e),r},t.prototype.encodeData=function(e,r){return this.getEncoder(e)(r)},t.prototype.hashStruct=function(e,r){return(0,qf.keccak256)(this.encodeData(e,r))},t.prototype.encode=function(e){return this.encodeData(this.primaryType,e)},t.prototype.hash=function(e){return this.hashStruct(this.primaryType,e)},t.prototype._visit=function(e,r,n){var o=this;{var i=gA(e);if(i)return n(e,r)}var s=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(s){var a=s[1],c=parseInt(s[3]);return c>=0&&r.length!==c&&jt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(function(h){return o._visit(a,h,n)})}var u=this.types[e];return u?u.reduce(function(h,f){var p=f.name,m=f.type;return h[p]=o._visit(m,r[p],n),h},{}):jt.throwArgumentError("unknown type: "+e,"type",e)},t.prototype.visit=function(e,r){return this._visit(this.primaryType,e,r)},t.from=function(e){return new t(e)},t.getPrimaryType=function(e){return t.from(e).primaryType},t.hashStruct=function(e,r,n){return t.from(r).hashStruct(e,n)},t.hashDomain=function(e){var r=[];for(var n in e){var o=UT[n];o||jt.throwArgumentError("invalid typed-data domain key: "+JSON.stringify(n),"domain",e),r.push({name:n,type:o})}return r.sort(function(i,s){return mA.indexOf(i.name)-mA.indexOf(s.name)}),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)},t.encode=function(e,r,n){return(0,Mr.hexConcat)(["0x1901",t.hashDomain(e),t.from(r).hash(n)])},t.hash=function(e,r,n){return(0,qf.keccak256)(t.encode(e,r,n))},t.resolveNames=function(e,r,n,o){return VW(this,void 0,void 0,function(){var i,s,a,c,u,h,f,p;return qW(this,function(m){switch(m.label){case 0:e=(0,Jc.shallowCopy)(e),i={},e.verifyingContract&&!(0,Mr.isHexString)(e.verifyingContract,20)&&(i[e.verifyingContract]="0x"),s=t.from(r),s.visit(n,function(g,x){return g==="address"&&!(0,Mr.isHexString)(x,20)&&(i[x]="0x"),x}),a=[];for(c in i)a.push(c);u=0,m.label=1;case 1:return u<a.length?(h=a[u],f=i,p=h,[4,o(h)]):[3,4];case 2:f[p]=m.sent(),m.label=3;case 3:return u++,[3,1];case 4:return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=s.visit(n,function(g,x){return g==="address"&&i[x]?i[x]:x}),[2,{domain:e,value:n}]}})})},t.getPayload=function(e,r,n){t.hashDomain(e);var o={},i=[];mA.forEach(function(c){var u=e[c];u!=null&&(o[c]=JW[c](u),i.push({name:c,type:UT[c]}))});var s=t.from(r),a=(0,Jc.shallowCopy)(r);return a.EIP712Domain?jt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=i,s.encode(n),{types:a,domain:o,primaryType:s.primaryType,message:s.visit(n,function(c,u){if(c.match(/^bytes(\d*)/))return(0,Mr.hexlify)((0,Mr.arrayify)(u));if(c.match(/^u?int/))return Xc.BigNumber.from(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&jt.throwArgumentError("invalid string","value",u),u}return jt.throwArgumentError("unsupported type","type",c)})}},t}();Ia.TypedDataEncoder=XW});var xA=P(Pr=>{"use strict";d();l();Object.defineProperty(Pr,"__esModule",{value:!0});Pr._TypedDataEncoder=Pr.hashMessage=Pr.messagePrefix=Pr.ensNormalize=Pr.isValidName=Pr.namehash=Pr.dnsEncode=Pr.id=void 0;var ZW=uA();Object.defineProperty(Pr,"id",{enumerable:!0,get:function(){return ZW.id}});var bA=pA();Object.defineProperty(Pr,"dnsEncode",{enumerable:!0,get:function(){return bA.dnsEncode}});Object.defineProperty(Pr,"isValidName",{enumerable:!0,get:function(){return bA.isValidName}});Object.defineProperty(Pr,"namehash",{enumerable:!0,get:function(){return bA.namehash}});var jT=RT();Object.defineProperty(Pr,"hashMessage",{enumerable:!0,get:function(){return jT.hashMessage}});Object.defineProperty(Pr,"messagePrefix",{enumerable:!0,get:function(){return jT.messagePrefix}});var eG=pA();Object.defineProperty(Pr,"ensNormalize",{enumerable:!0,get:function(){return eG.ensNormalize}});var tG=zT();Object.defineProperty(Pr,"_TypedDataEncoder",{enumerable:!0,get:function(){return tG.TypedDataEncoder}})});var SA=P(U0=>{"use strict";d();l();Object.defineProperty(U0,"__esModule",{value:!0});U0.SupportedAlgorithm=void 0;var rG;(function(t){t.sha256="sha256",t.sha512="sha512"})(rG=U0.SupportedAlgorithm||(U0.SupportedAlgorithm={}))});var WT=P(Fm=>{"use strict";d();l();Object.defineProperty(Fm,"__esModule",{value:!0});Fm.version=void 0;Fm.version="sha2/5.7.0"});var $T=P(xo=>{"use strict";d();l();var nG=xo&&xo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xo,"__esModule",{value:!0});xo.computeHmac=xo.sha512=xo.sha256=xo.ripemd160=void 0;var L0=nG(T6()),M0=vr(),oG=SA(),GT=fn(),iG=WT(),sG=new GT.Logger(iG.version);function aG(t){return"0x"+L0.default.ripemd160().update((0,M0.arrayify)(t)).digest("hex")}xo.ripemd160=aG;function cG(t){return"0x"+L0.default.sha256().update((0,M0.arrayify)(t)).digest("hex")}xo.sha256=cG;function uG(t){return"0x"+L0.default.sha512().update((0,M0.arrayify)(t)).digest("hex")}xo.sha512=uG;function fG(t,e,r){return oG.SupportedAlgorithm[t]||sG.throwError("unsupported algorithm "+t,GT.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+L0.default.hmac(L0.default[t],(0,M0.arrayify)(e)).update((0,M0.arrayify)(r)).digest("hex")}xo.computeHmac=fG});var vA=P(wo=>{"use strict";d();l();Object.defineProperty(wo,"__esModule",{value:!0});wo.SupportedAlgorithm=wo.sha512=wo.sha256=wo.ripemd160=wo.computeHmac=void 0;var Hm=$T();Object.defineProperty(wo,"computeHmac",{enumerable:!0,get:function(){return Hm.computeHmac}});Object.defineProperty(wo,"ripemd160",{enumerable:!0,get:function(){return Hm.ripemd160}});Object.defineProperty(wo,"sha256",{enumerable:!0,get:function(){return Hm.sha256}});Object.defineProperty(wo,"sha512",{enumerable:!0,get:function(){return Hm.sha512}});var dG=SA();Object.defineProperty(wo,"SupportedAlgorithm",{enumerable:!0,get:function(){return dG.SupportedAlgorithm}})});var $A=P((GA,S_)=>{"use strict";d();l();(function(t){function e(B){return parseInt(B)===B}function r(B){if(!e(B.length))return!1;for(var N=0;N<B.length;N++)if(!e(B[N])||B[N]<0||B[N]>255)return!1;return!0}function n(B,N){if(B.buffer&&ArrayBuffer.isView(B)&&B.name==="Uint8Array")return N&&(B.slice?B=B.slice():B=Array.prototype.slice.call(B)),B;if(Array.isArray(B)){if(!r(B))throw new Error("Array contains invalid value: "+B);return new Uint8Array(B)}if(e(B.length)&&r(B))return new Uint8Array(B);throw new Error("unsupported array-like object")}function o(B){return new Uint8Array(B)}function i(B,N,X,L,M){(L!=null||M!=null)&&(B.slice?B=B.slice(L,M):B=Array.prototype.slice.call(B,L,M)),N.set(B,X)}var s=function(){function B(X){var L=[],M=0;for(X=encodeURI(X);M<X.length;){var ye=X.charCodeAt(M++);ye===37?(L.push(parseInt(X.substr(M,2),16)),M+=2):L.push(ye)}return n(L)}function N(X){for(var L=[],M=0;M<X.length;){var ye=X[M];ye<128?(L.push(String.fromCharCode(ye)),M++):ye>191&&ye<224?(L.push(String.fromCharCode((ye&31)<<6|X[M+1]&63)),M+=2):(L.push(String.fromCharCode((ye&15)<<12|(X[M+1]&63)<<6|X[M+2]&63)),M+=3)}return L.join("")}return{toBytes:B,fromBytes:N}}(),a=function(){function B(L){for(var M=[],ye=0;ye<L.length;ye+=2)M.push(parseInt(L.substr(ye,2),16));return M}var N="0123456789abcdef";function X(L){for(var M=[],ye=0;ye<L.length;ye++){var vt=L[ye];M.push(N[(vt&240)>>4]+N[vt&15])}return M.join("")}return{toBytes:B,fromBytes:X}}(),c={16:10,24:12,32:14},u=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],x=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],w=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],S=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],k=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],A=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],T=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],C=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],W=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],oe=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Y(B){for(var N=[],X=0;X<B.length;X+=4)N.push(B[X]<<24|B[X+1]<<16|B[X+2]<<8|B[X+3]);return N}var G=function(B){if(!(this instanceof G))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(B,!0)}),this._prepare()};G.prototype._prepare=function(){var B=c[this.key.length];if(B==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var N=0;N<=B;N++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var X=(B+1)*4,L=this.key.length/4,M=Y(this.key),ye,N=0;N<L;N++)ye=N>>2,this._Ke[ye][N%4]=M[N],this._Kd[B-ye][N%4]=M[N];for(var vt=0,$e=L,H;$e<X;){if(H=M[L-1],M[0]^=h[H>>16&255]<<24^h[H>>8&255]<<16^h[H&255]<<8^h[H>>24&255]^u[vt]<<24,vt+=1,L!=8)for(var N=1;N<L;N++)M[N]^=M[N-1];else{for(var N=1;N<L/2;N++)M[N]^=M[N-1];H=M[L/2-1],M[L/2]^=h[H&255]^h[H>>8&255]<<8^h[H>>16&255]<<16^h[H>>24&255]<<24;for(var N=L/2+1;N<L;N++)M[N]^=M[N-1]}for(var N=0,xe,_;N<L&&$e<X;)xe=$e>>2,_=$e%4,this._Ke[xe][_]=M[N],this._Kd[B-xe][_]=M[N++],$e++}for(var xe=1;xe<B;xe++)for(var _=0;_<4;_++)H=this._Kd[xe][_],this._Kd[xe][_]=T[H>>24&255]^C[H>>16&255]^W[H>>8&255]^oe[H&255]},G.prototype.encrypt=function(B){if(B.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var N=this._Ke.length-1,X=[0,0,0,0],L=Y(B),M=0;M<4;M++)L[M]^=this._Ke[0][M];for(var ye=1;ye<N;ye++){for(var M=0;M<4;M++)X[M]=p[L[M]>>24&255]^m[L[(M+1)%4]>>16&255]^g[L[(M+2)%4]>>8&255]^x[L[(M+3)%4]&255]^this._Ke[ye][M];L=X.slice()}for(var vt=o(16),$e,M=0;M<4;M++)$e=this._Ke[N][M],vt[4*M]=(h[L[M]>>24&255]^$e>>24)&255,vt[4*M+1]=(h[L[(M+1)%4]>>16&255]^$e>>16)&255,vt[4*M+2]=(h[L[(M+2)%4]>>8&255]^$e>>8)&255,vt[4*M+3]=(h[L[(M+3)%4]&255]^$e)&255;return vt},G.prototype.decrypt=function(B){if(B.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var N=this._Kd.length-1,X=[0,0,0,0],L=Y(B),M=0;M<4;M++)L[M]^=this._Kd[0][M];for(var ye=1;ye<N;ye++){for(var M=0;M<4;M++)X[M]=w[L[M]>>24&255]^S[L[(M+3)%4]>>16&255]^k[L[(M+2)%4]>>8&255]^A[L[(M+1)%4]&255]^this._Kd[ye][M];L=X.slice()}for(var vt=o(16),$e,M=0;M<4;M++)$e=this._Kd[N][M],vt[4*M]=(f[L[M]>>24&255]^$e>>24)&255,vt[4*M+1]=(f[L[(M+3)%4]>>16&255]^$e>>16)&255,vt[4*M+2]=(f[L[(M+2)%4]>>8&255]^$e>>8)&255,vt[4*M+3]=(f[L[(M+1)%4]&255]^$e)&255;return vt};var re=function(B){if(!(this instanceof re))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new G(B)};re.prototype.encrypt=function(B){if(B=n(B),B.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var N=o(B.length),X=o(16),L=0;L<B.length;L+=16)i(B,X,0,L,L+16),X=this._aes.encrypt(X),i(X,N,L);return N},re.prototype.decrypt=function(B){if(B=n(B),B.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var N=o(B.length),X=o(16),L=0;L<B.length;L+=16)i(B,X,0,L,L+16),X=this._aes.decrypt(X),i(X,N,L);return N};var Z=function(B,N){if(!(this instanceof Z))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!N)N=o(16);else if(N.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(N,!0),this._aes=new G(B)};Z.prototype.encrypt=function(B){if(B=n(B),B.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var N=o(B.length),X=o(16),L=0;L<B.length;L+=16){i(B,X,0,L,L+16);for(var M=0;M<16;M++)X[M]^=this._lastCipherblock[M];this._lastCipherblock=this._aes.encrypt(X),i(this._lastCipherblock,N,L)}return N},Z.prototype.decrypt=function(B){if(B=n(B),B.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var N=o(B.length),X=o(16),L=0;L<B.length;L+=16){i(B,X,0,L,L+16),X=this._aes.decrypt(X);for(var M=0;M<16;M++)N[L+M]=X[M]^this._lastCipherblock[M];i(B,this._lastCipherblock,0,L,L+16)}return N};var D=function(B,N,X){if(!(this instanceof D))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!N)N=o(16);else if(N.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");X||(X=1),this.segmentSize=X,this._shiftRegister=n(N,!0),this._aes=new G(B)};D.prototype.encrypt=function(B){if(B.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var N=n(B,!0),X,L=0;L<N.length;L+=this.segmentSize){X=this._aes.encrypt(this._shiftRegister);for(var M=0;M<this.segmentSize;M++)N[L+M]^=X[M];i(this._shiftRegister,this._shiftRegister,0,this.segmentSize),i(N,this._shiftRegister,16-this.segmentSize,L,L+this.segmentSize)}return N},D.prototype.decrypt=function(B){if(B.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var N=n(B,!0),X,L=0;L<N.length;L+=this.segmentSize){X=this._aes.encrypt(this._shiftRegister);for(var M=0;M<this.segmentSize;M++)N[L+M]^=X[M];i(this._shiftRegister,this._shiftRegister,0,this.segmentSize),i(B,this._shiftRegister,16-this.segmentSize,L,L+this.segmentSize)}return N};var O=function(B,N){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!N)N=o(16);else if(N.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(N,!0),this._lastPrecipherIndex=16,this._aes=new G(B)};O.prototype.encrypt=function(B){for(var N=n(B,!0),X=0;X<N.length;X++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),N[X]^=this._lastPrecipher[this._lastPrecipherIndex++];return N},O.prototype.decrypt=O.prototype.encrypt;var R=function(B){if(!(this instanceof R))throw Error("Counter must be instanitated with `new`");B!==0&&!B&&(B=1),typeof B=="number"?(this._counter=o(16),this.setValue(B)):this.setBytes(B)};R.prototype.setValue=function(B){if(typeof B!="number"||parseInt(B)!=B)throw new Error("invalid counter value (must be an integer)");for(var N=15;N>=0;--N)this._counter[N]=B%256,B=B>>8},R.prototype.setBytes=function(B){if(B=n(B,!0),B.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=B},R.prototype.increment=function(){for(var B=15;B>=0;B--)if(this._counter[B]===255)this._counter[B]=0;else{this._counter[B]++;break}};var Q=function(B,N){if(!(this instanceof Q))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",N instanceof R||(N=new R(N)),this._counter=N,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new G(B)};Q.prototype.encrypt=function(B){for(var N=n(B,!0),X=0;X<N.length;X++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),N[X]^=this._remainingCounter[this._remainingCounterIndex++];return N},Q.prototype.decrypt=Q.prototype.encrypt;function fe(B){B=n(B,!0);var N=16-B.length%16,X=o(B.length+N);i(B,X);for(var L=B.length;L<X.length;L++)X[L]=N;return X}function ae(B){if(B=n(B,!0),B.length<16)throw new Error("PKCS#7 invalid length");var N=B[B.length-1];if(N>16)throw new Error("PKCS#7 padding byte out of range");for(var X=B.length-N,L=0;L<N;L++)if(B[X+L]!==N)throw new Error("PKCS#7 invalid padding byte");var M=o(X);return i(B,M,0,0,X),M}var Ie={AES:G,Counter:R,ModeOfOperation:{ecb:re,cbc:Z,cfb:D,ofb:O,ctr:Q},utils:{hex:a,utf8:s},padding:{pkcs7:{pad:fe,strip:ae}},_arrayTest:{coerceArray:n,createArray:o,copyArray:i}};typeof GA<"u"?S_.exports=Ie:typeof define=="function"&&define.amd?define(Ie):(t.aesjs&&(Ie._aesjs=t.aesjs),t.aesjs=Ie)})(GA)});var B_=P((tS,P_)=>{"use strict";d();l();(function(t){function r(m){let g=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),x=1779033703,w=3144134277,S=1013904242,k=2773480762,A=1359893119,T=2600822924,C=528734635,W=1541459225,oe=new Uint32Array(64);function Y(Q){let fe=0,ae=Q.length;for(;ae>=64;){let Ie=x,B=w,N=S,X=k,L=A,M=T,ye=C,vt=W,$e,H,xe,_,F;for(H=0;H<16;H++)xe=fe+H*4,oe[H]=(Q[xe]&255)<<24|(Q[xe+1]&255)<<16|(Q[xe+2]&255)<<8|Q[xe+3]&255;for(H=16;H<64;H++)$e=oe[H-2],_=($e>>>17|$e<<15)^($e>>>19|$e<<13)^$e>>>10,$e=oe[H-15],F=($e>>>7|$e<<25)^($e>>>18|$e<<14)^$e>>>3,oe[H]=(_+oe[H-7]|0)+(F+oe[H-16]|0)|0;for(H=0;H<64;H++)_=(((L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7))+(L&M^~L&ye)|0)+(vt+(g[H]+oe[H]|0)|0)|0,F=((Ie>>>2|Ie<<30)^(Ie>>>13|Ie<<19)^(Ie>>>22|Ie<<10))+(Ie&B^Ie&N^B&N)|0,vt=ye,ye=M,M=L,L=X+_|0,X=N,N=B,B=Ie,Ie=_+F|0;x=x+Ie|0,w=w+B|0,S=S+N|0,k=k+X|0,A=A+L|0,T=T+M|0,C=C+ye|0,W=W+vt|0,fe+=64,ae-=64}}Y(m);let G,re=m.length%64,Z=m.length/536870912|0,D=m.length<<3,O=re<56?56:120,R=m.slice(m.length-re,m.length);for(R.push(128),G=re+1;G<O;G++)R.push(0);return R.push(Z>>>24&255),R.push(Z>>>16&255),R.push(Z>>>8&255),R.push(Z>>>0&255),R.push(D>>>24&255),R.push(D>>>16&255),R.push(D>>>8&255),R.push(D>>>0&255),Y(R),[x>>>24&255,x>>>16&255,x>>>8&255,x>>>0&255,w>>>24&255,w>>>16&255,w>>>8&255,w>>>0&255,S>>>24&255,S>>>16&255,S>>>8&255,S>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,A>>>24&255,A>>>16&255,A>>>8&255,A>>>0&255,T>>>24&255,T>>>16&255,T>>>8&255,T>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,W>>>24&255,W>>>16&255,W>>>8&255,W>>>0&255]}function n(m,g,x){m=m.length<=64?m:r(m);let w=64+g.length+4,S=new Array(w),k=new Array(64),A,T=[];for(A=0;A<64;A++)S[A]=54;for(A=0;A<m.length;A++)S[A]^=m[A];for(A=0;A<g.length;A++)S[64+A]=g[A];for(A=w-4;A<w;A++)S[A]=0;for(A=0;A<64;A++)k[A]=92;for(A=0;A<m.length;A++)k[A]^=m[A];function C(){for(let W=w-1;W>=w-4;W--){if(S[W]++,S[W]<=255)return;S[W]=0}}for(;x>=32;)C(),T=T.concat(r(k.concat(r(S)))),x-=32;return x>0&&(C(),T=T.concat(r(k.concat(r(S))).slice(0,x))),T}function o(m,g,x,w,S){let k;for(c(m,(2*x-1)*16,S,0,16),k=0;k<2*x;k++)a(m,k*16,S,16),s(S,w),c(S,0,m,g+k*16,16);for(k=0;k<x;k++)c(m,g+k*2*16,m,k*16,16);for(k=0;k<x;k++)c(m,g+(k*2+1)*16,m,(k+x)*16,16)}function i(m,g){return m<<g|m>>>32-g}function s(m,g){c(m,0,g,0,16);for(let x=8;x>0;x-=2)g[4]^=i(g[0]+g[12],7),g[8]^=i(g[4]+g[0],9),g[12]^=i(g[8]+g[4],13),g[0]^=i(g[12]+g[8],18),g[9]^=i(g[5]+g[1],7),g[13]^=i(g[9]+g[5],9),g[1]^=i(g[13]+g[9],13),g[5]^=i(g[1]+g[13],18),g[14]^=i(g[10]+g[6],7),g[2]^=i(g[14]+g[10],9),g[6]^=i(g[2]+g[14],13),g[10]^=i(g[6]+g[2],18),g[3]^=i(g[15]+g[11],7),g[7]^=i(g[3]+g[15],9),g[11]^=i(g[7]+g[3],13),g[15]^=i(g[11]+g[7],18),g[1]^=i(g[0]+g[3],7),g[2]^=i(g[1]+g[0],9),g[3]^=i(g[2]+g[1],13),g[0]^=i(g[3]+g[2],18),g[6]^=i(g[5]+g[4],7),g[7]^=i(g[6]+g[5],9),g[4]^=i(g[7]+g[6],13),g[5]^=i(g[4]+g[7],18),g[11]^=i(g[10]+g[9],7),g[8]^=i(g[11]+g[10],9),g[9]^=i(g[8]+g[11],13),g[10]^=i(g[9]+g[8],18),g[12]^=i(g[15]+g[14],7),g[13]^=i(g[12]+g[15],9),g[14]^=i(g[13]+g[12],13),g[15]^=i(g[14]+g[13],18);for(let x=0;x<16;++x)m[x]+=g[x]}function a(m,g,x,w){for(let S=0;S<w;S++)x[S]^=m[g+S]}function c(m,g,x,w,S){for(;S--;)x[w++]=m[g++]}function u(m){if(!m||typeof m.length!="number")return!1;for(let g=0;g<m.length;g++){let x=m[g];if(typeof x!="number"||x%1||x<0||x>=256)return!1}return!0}function h(m,g){if(typeof m!="number"||m%1)throw new Error("invalid "+g);return m}function f(m,g,x,w,S,k,A){if(x=h(x,"N"),w=h(w,"r"),S=h(S,"p"),k=h(k,"dkLen"),x===0||x&x-1)throw new Error("N must be power of 2");if(x>2147483647/128/w)throw new Error("N too large");if(w>2147483647/128/S)throw new Error("r too large");if(!u(m))throw new Error("password must be an array or buffer");if(m=Array.prototype.slice.call(m),!u(g))throw new Error("salt must be an array or buffer");g=Array.prototype.slice.call(g);let T=n(m,g,S*128*w),C=new Uint32Array(S*32*w);for(let L=0;L<C.length;L++){let M=L*4;C[L]=(T[M+3]&255)<<24|(T[M+2]&255)<<16|(T[M+1]&255)<<8|(T[M+0]&255)<<0}let W=new Uint32Array(64*w),oe=new Uint32Array(32*w*x),Y=32*w,G=new Uint32Array(16),re=new Uint32Array(16),Z=S*x*2,D=0,O=null,R=!1,Q=0,fe=0,ae,Ie,B=A?parseInt(1e3/w):4294967295,N=typeof setImmediate<"u"?setImmediate:setTimeout,X=function(){if(R)return A(new Error("cancelled"),D/Z);let L;switch(Q){case 0:Ie=fe*32*w,c(C,Ie,W,0,Y),Q=1,ae=0;case 1:L=x-ae,L>B&&(L=B);for(let ye=0;ye<L;ye++)c(W,0,oe,(ae+ye)*Y,Y),o(W,Y,w,G,re);if(ae+=L,D+=L,A){let ye=parseInt(1e3*D/Z);if(ye!==O){if(R=A(null,D/Z),R)break;O=ye}}if(ae<x)break;ae=0,Q=2;case 2:L=x-ae,L>B&&(L=B);for(let ye=0;ye<L;ye++){let vt=(2*w-1)*16,$e=W[vt]&x-1;a(oe,$e*Y,W,Y),o(W,Y,w,G,re)}if(ae+=L,D+=L,A){let ye=parseInt(1e3*D/Z);if(ye!==O){if(R=A(null,D/Z),R)break;O=ye}}if(ae<x)break;if(c(W,0,C,Ie,Y),fe++,fe<S){Q=0;break}T=[];for(let ye=0;ye<C.length;ye++)T.push(C[ye]>>0&255),T.push(C[ye]>>8&255),T.push(C[ye]>>16&255),T.push(C[ye]>>24&255);let M=n(m,T,k);return A&&A(null,1,M),M}A&&N(X)};if(!A)for(;;){let L=X();if(L!=null)return L}X()}let p={scrypt:function(m,g,x,w,S,k,A){return new Promise(function(T,C){let W=0;A&&A(0),f(m,g,x,w,S,k,function(oe,Y,G){if(oe)C(oe);else if(G)A&&W!==1&&A(1),T(new Uint8Array(G));else if(A&&Y!==W)return W=Y,A(Y)})})},syncScrypt:function(m,g,x,w,S,k){return new Uint8Array(f(m,g,x,w,S,k))}};typeof tS<"u"?P_.exports=p:typeof define=="function"&&define.amd?define(p):t&&(t.scrypt&&(t._scrypt=t.scrypt),t.scrypt=p)})(tS)});var gd=P(md=>{"use strict";d();l();Object.defineProperty(md,"__esModule",{value:!0});md.bech32m=md.bech32=void 0;var Vg="qpzry9x8gf2tvdw0s3jn54khce6mua7l",QP={};for(let t=0;t<Vg.length;t++){let e=Vg.charAt(t);QP[e]=t}function yd(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function $P(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=yd(e)^n>>5}e=yd(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=yd(e)^n&31}return e}function pv(t,e,r,n){let o=0,i=0,s=(1<<r)-1,a=[];for(let c=0;c<t.length;++c)for(o=o<<e|t[c],i+=e;i>=r;)i-=r,a.push(o>>i&s);if(n)i>0&&a.push(o<<r-i&s);else{if(i>=e)return"Excess padding";if(o<<r-i&s)return"Non-zero padding"}return a}function xY(t){return pv(t,8,5,!0)}function wY(t){let e=pv(t,5,8,!1);if(Array.isArray(e))return e}function AY(t){let e=pv(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function YP(t){let e;t==="bech32"?e=1:e=734539939;function r(s,a,c){if(c=c||90,s.length+7+a.length>c)throw new TypeError("Exceeds length limit");s=s.toLowerCase();let u=$P(s);if(typeof u=="string")throw new Error(u);let h=s+"1";for(let f=0;f<a.length;++f){let p=a[f];if(p>>5)throw new Error("Non 5-bit word");u=yd(u)^p,h+=Vg.charAt(p)}for(let f=0;f<6;++f)u=yd(u);u^=e;for(let f=0;f<6;++f){let p=u>>(5-f)*5&31;h+=Vg.charAt(p)}return h}function n(s,a){if(a=a||90,s.length<8)return s+" too short";if(s.length>a)return"Exceeds length limit";let c=s.toLowerCase(),u=s.toUpperCase();if(s!==c&&s!==u)return"Mixed-case string "+s;s=c;let h=s.lastIndexOf("1");if(h===-1)return"No separator character for "+s;if(h===0)return"Missing prefix for "+s;let f=s.slice(0,h),p=s.slice(h+1);if(p.length<6)return"Data too short";let m=$P(f);if(typeof m=="string")return m;let g=[];for(let x=0;x<p.length;++x){let w=p.charAt(x),S=QP[w];if(S===void 0)return"Unknown character "+w;m=yd(m)^S,!(x+6>=p.length)&&g.push(S)}return m!==e?"Invalid checksum for "+s:{prefix:f,words:g}}function o(s,a){let c=n(s,a);if(typeof c=="object")return c}function i(s,a){let c=n(s,a);if(typeof c=="object")return c;throw new Error(c)}return{decodeUnsafe:o,decode:i,encode:r,toWords:xY,fromWordsUnsafe:wY,fromWords:AY}}md.bech32=YP("bech32");md.bech32m=YP("bech32m")});var n7=P(mn=>{"use strict";d();l();Object.defineProperty(mn,"__esModule",{value:!0});mn.output=mn.exists=mn.hash=mn.bytes=mn.bool=mn.number=void 0;function $g(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}mn.number=$g;function ZP(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}mn.bool=ZP;function vv(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}mn.bytes=vv;function e7(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");$g(t.outputLen),$g(t.blockLen)}mn.hash=e7;function t7(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}mn.exists=t7;function r7(t,e){vv(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}mn.output=r7;var DY={number:$g,bool:ZP,bytes:vv,hash:e7,exists:t7,output:r7};mn.default=DY});var o7=P(Qg=>{"use strict";d();l();Object.defineProperty(Qg,"__esModule",{value:!0});Qg.crypto=void 0;Qg.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var kv=P(qe=>{"use strict";d();l();Object.defineProperty(qe,"__esModule",{value:!0});qe.randomBytes=qe.wrapConstructorWithOpts=qe.wrapConstructor=qe.checkOpts=qe.Hash=qe.concatBytes=qe.toBytes=qe.utf8ToBytes=qe.asyncLoop=qe.nextTick=qe.hexToBytes=qe.bytesToHex=qe.isLE=qe.rotr=qe.createView=qe.u32=qe.u8=void 0;var Yg=o7(),OY=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);qe.u8=OY;var NY=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));qe.u32=NY;var RY=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);qe.createView=RY;var UY=(t,e)=>t<<32-e|t>>>e;qe.rotr=UY;qe.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!qe.isLE)throw new Error("Non little-endian hardware is not supported");var LY=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function MY(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=LY[t[r]];return e}qe.bytesToHex=MY;function FY(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}qe.hexToBytes=FY;var HY=async()=>{};qe.nextTick=HY;async function KY(t,e,r){let n=Date.now();for(let o=0;o<t;o++){r(o);let i=Date.now()-n;i>=0&&i<e||(await(0,qe.nextTick)(),n+=i)}}qe.asyncLoop=KY;function i7(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}qe.utf8ToBytes=i7;function Iv(t){if(typeof t=="string"&&(t=i7(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}qe.toBytes=Iv;function VY(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}qe.concatBytes=VY;var Ev=class{clone(){return this._cloneInto()}};qe.Hash=Ev;var qY=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function zY(t,e){if(e!==void 0&&(typeof e!="object"||!qY(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}qe.checkOpts=zY;function jY(t){let e=n=>t().update(Iv(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}qe.wrapConstructor=jY;function WY(t){let e=(n,o)=>t(o).update(Iv(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}qe.wrapConstructorWithOpts=WY;function GY(t=32){if(Yg.crypto.web)return Yg.crypto.web.getRandomValues(new Uint8Array(t));if(Yg.crypto.node)return new Uint8Array(Yg.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}qe.randomBytes=GY});var s7=P(Jg=>{"use strict";d();l();Object.defineProperty(Jg,"__esModule",{value:!0});Jg.SHA2=void 0;var Tv=n7(),th=kv();function $Y(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var _v=class extends th.Hash{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,th.createView)(this.buffer)}update(e){Tv.default.exists(this);let{view:r,buffer:n,blockLen:o}=this;e=(0,th.toBytes)(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=(0,th.createView)(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tv.default.exists(this),Tv.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;$Y(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=(0,th.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};Jg.SHA2=_v});var a7=P(xd=>{"use strict";d();l();Object.defineProperty(xd,"__esModule",{value:!0});xd.sha224=xd.sha256=void 0;var QY=s7(),To=kv(),YY=(t,e,r)=>t&e^~t&r,JY=(t,e,r)=>t&e^t&r^e&r,XY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Qa=new Uint32Array(64),Xg=class extends QY.SHA2{constructor(){super(64,32,8,!1),this.A=$a[0]|0,this.B=$a[1]|0,this.C=$a[2]|0,this.D=$a[3]|0,this.E=$a[4]|0,this.F=$a[5]|0,this.G=$a[6]|0,this.H=$a[7]|0}get(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)Qa[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Qa[f-15],m=Qa[f-2],g=(0,To.rotr)(p,7)^(0,To.rotr)(p,18)^p>>>3,x=(0,To.rotr)(m,17)^(0,To.rotr)(m,19)^m>>>10;Qa[f]=x+Qa[f-7]+g+Qa[f-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){let p=(0,To.rotr)(a,6)^(0,To.rotr)(a,11)^(0,To.rotr)(a,25),m=h+p+YY(a,c,u)+XY[f]+Qa[f]|0,x=((0,To.rotr)(n,2)^(0,To.rotr)(n,13)^(0,To.rotr)(n,22))+JY(n,o,i)|0;h=u,u=c,c=a,a=s+m|0,s=i,i=o,o=n,n=m+x|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(n,o,i,s,a,c,u,h)}roundClean(){Qa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Pv=class extends Xg{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};xd.sha256=(0,To.wrapConstructor)(()=>new Xg);xd.sha224=(0,To.wrapConstructor)(()=>new Pv)});var u7=P((cEe,c7)=>{"use strict";d();l();function ZY(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,x=0,w=0,S=m.length;w!==S&&m[w]===0;)w++,g++;for(var k=(S-w)*u+1>>>0,A=new Uint8Array(k);w!==S;){for(var T=m[w],C=0,W=k-1;(T!==0||C<x)&&W!==-1;W--,C++)T+=256*A[W]>>>0,A[W]=T%s>>>0,T=T/s>>>0;if(T!==0)throw new Error("Non-zero carry");x=C,w++}for(var oe=k-x;oe!==k&&A[oe]===0;)oe++;for(var Y=a.repeat(g);oe<k;++oe)Y+=t.charAt(A[oe]);return Y}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var g=0,x=0,w=0;m[g]===a;)x++,g++;for(var S=(m.length-g)*c+1>>>0,k=new Uint8Array(S);m[g];){var A=e[m.charCodeAt(g)];if(A===255)return;for(var T=0,C=S-1;(A!==0||T<w)&&C!==-1;C--,T++)A+=s*k[C]>>>0,k[C]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");w=T,g++}for(var W=S-w;W!==S&&k[W]===0;)W++;for(var oe=new Uint8Array(x+(S-W)),Y=x;W!==S;)oe[Y++]=k[W++];return oe}function p(m){var g=f(m);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:h,decodeUnsafe:f,decode:p}}c7.exports=ZY});var d7=P((dEe,f7)=>{d();l();var eJ=u7(),tJ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";f7.exports=eJ(tJ)});var h7=P((pEe,l7)=>{"use strict";d();l();var Bv=d7();l7.exports=function(t){function e(i){var s=Uint8Array.from(i),a=t(s),c=s.length+4,u=new Uint8Array(c);return u.set(s,0),u.set(a.subarray(0,4),s.length),Bv.encode(u,c)}function r(i){var s=i.slice(0,-4),a=i.slice(-4),c=t(s);if(!(a[0]^c[0]|a[1]^c[1]|a[2]^c[2]|a[3]^c[3]))return s}function n(i){var s=Bv.decodeUnsafe(i);if(s)return r(s)}function o(i){var s=Bv.decode(i),a=r(s,t);if(!a)throw new Error("Invalid checksum");return a}return{encode:e,decode:o,decodeUnsafe:n}}});var wd=P((gEe,y7)=>{"use strict";d();l();var{sha256:p7}=a7(),rJ=h7();function nJ(t){return p7(p7(t))}y7.exports=rJ(nJ)});var g7=P((wEe,m7)=>{"use strict";d();l();var Cv=Ms(),oJ=k6().Buffer;m7.exports=function(t){function e(i){var s=t(i);return Cv.encode(oJ.concat([i,s],i.length+4))}function r(i){var s=i.slice(0,-4),a=i.slice(-4),c=t(s);if(!(a[0]^c[0]|a[1]^c[1]|a[2]^c[2]|a[3]^c[3]))return s}function n(i){var s=Cv.decodeUnsafe(i);if(s)return r(s)}function o(i){var s=Cv.decode(i),a=r(s,t);if(!a)throw new Error("Invalid checksum");return a}return{encode:e,decode:o,decodeUnsafe:n}}});var w7=P((vEe,x7)=>{"use strict";d();l();var b7=aU(),iJ=g7();function sJ(t){var e=b7("sha256").update(t).digest();return b7("sha256").update(e).digest()}x7.exports=iJ(sJ)});var Nv=P((kEe,S7)=>{d();l();var Dv=w7();function A7(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}function Ov(t,e,r){var n=new Buffer(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}function aJ(t,e){return A7(Dv.decode(t),e)}function cJ(t,e,r){return typeof t=="number"?Dv.encode(Ov(t,e,r)):Dv.encode(Ov(t.version,t.privateKey,t.compressed))}S7.exports={decode:aJ,decodeRaw:A7,encode:cJ,encodeRaw:Ov}});var Lv=P(gn=>{"use strict";d();l();Object.defineProperty(gn,"__esModule",{value:!0});gn.output=gn.exists=gn.hash=gn.bytes=gn.bool=gn.number=void 0;function tb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}gn.number=tb;function P7(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}gn.bool=P7;function Uv(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}gn.bytes=Uv;function B7(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");tb(t.outputLen),tb(t.blockLen)}gn.hash=B7;function C7(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}gn.exists=C7;function D7(t,e){Uv(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}gn.output=D7;var pJ={number:tb,bool:P7,bytes:Uv,hash:B7,exists:C7,output:D7};gn.default=pJ});var O7=P(rb=>{"use strict";d();l();Object.defineProperty(rb,"__esModule",{value:!0});rb.crypto=void 0;rb.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var ob=P(Fe=>{"use strict";d();l();Object.defineProperty(Fe,"__esModule",{value:!0});Fe.randomBytes=Fe.wrapXOFConstructorWithOpts=Fe.wrapConstructorWithOpts=Fe.wrapConstructor=Fe.checkOpts=Fe.Hash=Fe.concatBytes=Fe.toBytes=Fe.utf8ToBytes=Fe.asyncLoop=Fe.nextTick=Fe.hexToBytes=Fe.bytesToHex=Fe.isLE=Fe.rotr=Fe.createView=Fe.u32=Fe.u8=void 0;var Mv=O7(),Hv=t=>t instanceof Uint8Array,yJ=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Fe.u8=yJ;var mJ=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Fe.u32=mJ;var gJ=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Fe.createView=gJ;var bJ=(t,e)=>t<<32-e|t>>>e;Fe.rotr=bJ;Fe.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Fe.isLE)throw new Error("Non little-endian hardware is not supported");var xJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wJ(t){if(!Hv(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=xJ[t[r]];return e}Fe.bytesToHex=wJ;function AJ(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let o=n*2,i=t.slice(o,o+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}Fe.hexToBytes=AJ;var SJ=async()=>{};Fe.nextTick=SJ;async function vJ(t,e,r){let n=Date.now();for(let o=0;o<t;o++){r(o);let i=Date.now()-n;i>=0&&i<e||(await(0,Fe.nextTick)(),n+=i)}}Fe.asyncLoop=vJ;function N7(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}Fe.utf8ToBytes=N7;function nb(t){if(typeof t=="string"&&(t=N7(t)),!Hv(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}Fe.toBytes=nb;function EJ(...t){let e=new Uint8Array(t.reduce((n,o)=>n+o.length,0)),r=0;return t.forEach(n=>{if(!Hv(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}Fe.concatBytes=EJ;var Fv=class{clone(){return this._cloneInto()}};Fe.Hash=Fv;var IJ=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function kJ(t,e){if(e!==void 0&&(typeof e!="object"||!IJ(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}Fe.checkOpts=kJ;function TJ(t){let e=n=>t().update(nb(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Fe.wrapConstructor=TJ;function _J(t){let e=(n,o)=>t(o).update(nb(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Fe.wrapConstructorWithOpts=_J;function PJ(t){let e=(n,o)=>t(o).update(nb(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Fe.wrapXOFConstructorWithOpts=PJ;function BJ(t=32){if(Mv.crypto&&typeof Mv.crypto.getRandomValues=="function")return Mv.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}Fe.randomBytes=BJ});var U7=P(lu=>{"use strict";d();l();Object.defineProperty(lu,"__esModule",{value:!0});lu.hmac=lu.HMAC=void 0;var ib=Lv(),R7=ob(),nh=class extends R7.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,ib.default.hash(e);let n=(0,R7.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return ib.default.exists(this),this.iHash.update(e),this}digestInto(e){ib.default.exists(this),ib.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};lu.HMAC=nh;var CJ=(t,e,r)=>new nh(t,e).update(r).digest();lu.hmac=CJ;lu.hmac.create=(t,e)=>new nh(t,e)});var L7=P(sb=>{"use strict";d();l();Object.defineProperty(sb,"__esModule",{value:!0});sb.SHA2=void 0;var Kv=Lv(),oh=ob();function DJ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var Vv=class extends oh.Hash{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,oh.createView)(this.buffer)}update(e){Kv.default.exists(this);let{view:r,buffer:n,blockLen:o}=this;e=(0,oh.toBytes)(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=(0,oh.createView)(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Kv.default.exists(this),Kv.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;DJ(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=(0,oh.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};sb.SHA2=Vv});var M7=P(Ad=>{"use strict";d();l();Object.defineProperty(Ad,"__esModule",{value:!0});Ad.sha224=Ad.sha256=void 0;var OJ=L7(),_o=ob(),NJ=(t,e,r)=>t&e^~t&r,RJ=(t,e,r)=>t&e^t&r^e&r,UJ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ya=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ja=new Uint32Array(64),ab=class extends OJ.SHA2{constructor(){super(64,32,8,!1),this.A=Ya[0]|0,this.B=Ya[1]|0,this.C=Ya[2]|0,this.D=Ya[3]|0,this.E=Ya[4]|0,this.F=Ya[5]|0,this.G=Ya[6]|0,this.H=Ya[7]|0}get(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)Ja[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Ja[f-15],m=Ja[f-2],g=(0,_o.rotr)(p,7)^(0,_o.rotr)(p,18)^p>>>3,x=(0,_o.rotr)(m,17)^(0,_o.rotr)(m,19)^m>>>10;Ja[f]=x+Ja[f-7]+g+Ja[f-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){let p=(0,_o.rotr)(a,6)^(0,_o.rotr)(a,11)^(0,_o.rotr)(a,25),m=h+p+NJ(a,c,u)+UJ[f]+Ja[f]|0,x=((0,_o.rotr)(n,2)^(0,_o.rotr)(n,13)^(0,_o.rotr)(n,22))+RJ(n,o,i)|0;h=u,u=c,c=a,a=s+m|0,s=i,i=o,o=n,n=m+x|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(n,o,i,s,a,c,u,h)}roundClean(){Ja.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},qv=class extends ab{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Ad.sha256=(0,_o.wrapConstructor)(()=>new ab);Ad.sha224=(0,_o.wrapConstructor)(()=>new qv)});var Yv=P(dr=>{"use strict";d();l();var LJ=Xw(),MJ=U7(),F7=M7();function FJ(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var dt=FJ(LJ);dt.utils.hmacSha256Sync=(t,...e)=>MJ.hmac(F7.sha256,t,dt.utils.concatBytes(...e));dt.utils.sha256Sync=(...t)=>F7.sha256(dt.utils.concatBytes(...t));var Wv=dt.utils._normalizePrivateKey,HJ=32,KJ=32,zv=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),VJ=32;function jv(t,e){for(let r=0;r<32;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function ih(t){return!(!(t instanceof Uint8Array)||t.length!==KJ||jv(t,zv)>=0)}function H7(t){return t instanceof Uint8Array&&t.length===64&&jv(t.subarray(0,32),zv)<0&&jv(t.subarray(32,64),zv)<0}function cb(t){return t instanceof Uint8Array&&t.length===HJ}function K7(t){return t===void 0||t instanceof Uint8Array&&t.length===VJ}function V7(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function qJ(t){return V7(dt.utils.bytesToHex(t))}function Gv(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>=0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private scalar");e=V7(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private scalar");e=qJ(t)}else throw new TypeError("Expected valid private scalar");if(e<0)throw new Error("Expected private scalar >= 0");return e}var zJ=(t,e)=>{let r=Wv(t),n=Gv(e),o=dt.utils._bigintTo32Bytes(dt.utils.mod(r+n,dt.CURVE.n));return dt.utils.isValidPrivateKey(o)?o:null},jJ=(t,e)=>{let r=Wv(t),n=Gv(e),o=dt.utils._bigintTo32Bytes(dt.utils.mod(r-n,dt.CURVE.n));return dt.utils.isValidPrivateKey(o)?o:null},WJ=t=>{let e=Wv(t),r=dt.utils._bigintTo32Bytes(dt.CURVE.n-e);return dt.utils.isValidPrivateKey(r)?r:null},q7=(t,e,r)=>{let n=dt.Point.fromHex(t),o=Gv(e),i=dt.Point.BASE.multiplyAndAddUnsafe(n,o,1n);if(!i)throw new Error("Tweaked point at infinity");return i.toRawBytes(r)},GJ=(t,e,r)=>{let n=dt.Point.fromHex(t),o=typeof e=="string"?e:dt.utils.bytesToHex(e),i=BigInt(`0x${o}`);return n.multiply(i).toRawBytes(r)};function sh(t,e){return t===void 0?e!==void 0?z7(e):!0:!!t}function hu(t){try{return t()}catch{return null}}function $v(t,e){if(t.length===32!==e)return!1;try{return!!dt.Point.fromHex(t)}catch{return!1}}function Xa(t){return $v(t,!1)}function z7(t){return $v(t,!1)&&t.length===33}function Za(t){return dt.utils.isValidPrivateKey(t)}function Qv(t){return $v(t,!0)}function $J(t,e){if(!Qv(t))throw new Error("Expected Point");if(!ih(e))throw new Error("Expected Tweak");return hu(()=>{let r=q7(t,e,!0);return{parity:r[0]%2===1?1:0,xOnlyPubkey:r.slice(1)}})}function j7(t){if(!Xa(t))throw new Error("Expected Point");return t.slice(1,33)}function W7(t,e){if(!Za(t))throw new Error("Expected Private");return hu(()=>dt.getPublicKey(t,sh(e)))}function QJ(t){if(!Za(t))throw new Error("Expected Private");return j7(W7(t))}function YJ(t,e){if(!Xa(t))throw new Error("Expected Point");return dt.Point.fromHex(t).toRawBytes(sh(e,t))}function JJ(t,e,r){if(!Xa(t))throw new Error("Expected Point");if(!ih(e))throw new Error("Expected Tweak");return hu(()=>GJ(t,e,sh(r,t)))}function XJ(t,e,r){if(!Xa(t)||!Xa(e))throw new Error("Expected Point");return hu(()=>{let n=dt.Point.fromHex(t),o=dt.Point.fromHex(e);return n.equals(o.negate())?null:n.add(o).toRawBytes(sh(r,t))})}function ZJ(t,e,r){if(!Xa(t))throw new Error("Expected Point");if(!ih(e))throw new Error("Expected Tweak");return hu(()=>q7(t,e,sh(r,t)))}function eX(t,e){if(Za(t)===!1)throw new Error("Expected Private");if(ih(e)===!1)throw new Error("Expected Tweak");return hu(()=>zJ(t,e))}function tX(t,e){if(Za(t)===!1)throw new Error("Expected Private");if(ih(e)===!1)throw new Error("Expected Tweak");return hu(()=>jJ(t,e))}function rX(t){if(Za(t)===!1)throw new Error("Expected Private");return WJ(t)}function nX(t,e,r){if(!Za(e))throw new Error("Expected Private");if(!cb(t))throw new Error("Expected Scalar");if(!K7(r))throw new Error("Expected Extra Data (32 bytes)");return dt.signSync(t,e,{der:!1,extraEntropy:r})}function oX(t,e,r=Buffer.alloc(32,0)){if(!Za(e))throw new Error("Expected Private");if(!cb(t))throw new Error("Expected Scalar");if(!K7(r))throw new Error("Expected Extra Data (32 bytes)");return dt.schnorr.signSync(t,e,r)}function iX(t,e,r,n){if(!Xa(e))throw new Error("Expected Point");if(!H7(r))throw new Error("Expected Signature");if(!cb(t))throw new Error("Expected Scalar");return dt.verify(r,t,e,{strict:n})}function sX(t,e,r){if(!Qv(e))throw new Error("Expected Point");if(!H7(r))throw new Error("Expected Signature");if(!cb(t))throw new Error("Expected Scalar");return dt.schnorr.verifySync(r,t,e)}dr.isPoint=Xa;dr.isPointCompressed=z7;dr.isPrivate=Za;dr.isXOnlyPoint=Qv;dr.pointAdd=XJ;dr.pointAddScalar=ZJ;dr.pointCompress=YJ;dr.pointFromScalar=W7;dr.pointMultiply=JJ;dr.privateAdd=eX;dr.privateNegate=rX;dr.privateSub=tX;dr.sign=nX;dr.signSchnorr=oX;dr.verify=iX;dr.verifySchnorr=sX;dr.xOnlyPointAddTweak=$J;dr.xOnlyPointFromPoint=j7;dr.xOnlyPointFromScalar=QJ});var Po=P(tc=>{"use strict";d();l();Object.defineProperty(tc,"__esModule",{value:!0});tc.testnet=tc.regtest=tc.bitcoin=void 0;tc.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};tc.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};tc.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var Xv=P(rc=>{"use strict";d();l();Object.defineProperty(rc,"__esModule",{value:!0});rc.encode=rc.decode=rc.check=void 0;function yX(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}rc.check=yX;function mX(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}rc.decode=mX;function gX(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let o=Buffer.allocUnsafe(6+r+n);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=t.length,t.copy(o,4),o[4+r]=2,o[5+r]=e.length,e.copy(o,6+r),o}rc.encode=gX});var fb=P(Sd=>{"use strict";d();l();Object.defineProperty(Sd,"__esModule",{value:!0});Sd.REVERSE_OPS=Sd.OPS=void 0;var Zv={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};Sd.OPS=Zv;var Z7={};Sd.REVERSE_OPS=Z7;for(let t of Object.keys(Zv)){let e=Zv[t];Z7[e]=t}});var t9=P(oc=>{"use strict";d();l();Object.defineProperty(oc,"__esModule",{value:!0});oc.decode=oc.encode=oc.encodingLength=void 0;var nc=fb();function e9(t){return t<nc.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}oc.encodingLength=e9;function bX(t,e,r){let n=e9(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(nc.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(nc.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(nc.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}oc.encode=bX;function xX(t,e){let r=t.readUInt8(e),n,o;if(r<nc.OPS.OP_PUSHDATA1)n=r,o=1;else if(r===nc.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),o=2}else if(r===nc.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),o=3}else{if(e+5>t.length)return null;if(r!==nc.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),o=5}return{opcode:r,number:n,size:o}}oc.decode=xX});var r9=P(vd=>{"use strict";d();l();Object.defineProperty(vd,"__esModule",{value:!0});vd.encode=vd.decode=void 0;function wX(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&!(t[n-1]&127)&&(n<=1||!(t[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){let i=t.readUInt32LE(0),s=t.readUInt8(4);return s&128?-((s&-129)*4294967296+i):s*4294967296+i}let o=0;for(let i=0;i<n;++i)o|=t[i]<<8*i;return t[n-1]&128?-(o&~(128<<8*(n-1))):o}vd.decode=wX;function AX(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function SX(t){let e=Math.abs(t),r=AX(e),n=Buffer.allocUnsafe(r),o=t<0;for(let i=0;i<r;++i)n.writeUInt8(e&255,i),e>>=8;return n[r-1]&128?n.writeUInt8(o?128:0,r-1):o&&(n[r-1]|=128),n}vd.encode=SX});var db=P((z3e,n9)=>{d();l();var ch={Array:function(t){return t!=null&&t.constructor===Array},Boolean:function(t){return typeof t=="boolean"},Function:function(t){return typeof t=="function"},Nil:function(t){return t==null},Number:function(t){return typeof t=="number"},Object:function(t){return typeof t=="object"},String:function(t){return typeof t=="string"},"":function(){return!0}};ch.Null=ch.Nil;for(eE in ch)ch[eE].toJSON=function(t){return t}.bind(null,eE);var eE;n9.exports=ch});var nE=P((G3e,s9)=>{d();l();var pu=db();function o9(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function tE(t){return pu.Nil(t)?"":o9(t.constructor)}function vX(t){return pu.Function(t)?"":pu.String(t)?JSON.stringify(t):t&&pu.Object(t)?"":t}function rE(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}function lb(t){return pu.Function(t)?t.toJSON?t.toJSON():o9(t):pu.Array(t)?"Array":t&&pu.Object(t)?"Object":t!==void 0?t:""}function i9(t,e,r){var n=vX(e);return"Expected "+lb(t)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}function bs(t,e,r){r=r||tE(e),this.message=i9(t,e,r),rE(this,bs),this.__type=t,this.__value=e,this.__valueTypeName=r}bs.prototype=Object.create(Error.prototype);bs.prototype.constructor=bs;function EX(t,e,r,n,o){var i='" of type ';return e==="key"&&(i='" with key type '),i9('property "'+lb(r)+i+lb(t),n,o)}function Ed(t,e,r,n,o){t?(o=o||tE(n),this.message=EX(t,r,e,n,o)):this.message='Unexpected property "'+e+'"',rE(this,bs),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=o}Ed.prototype=Object.create(Error.prototype);Ed.prototype.constructor=bs;function IX(t,e){return new bs(t,{},e)}function kX(t,e,r){return t instanceof Ed?(e=e+"."+t.__property,t=new Ed(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof bs&&(t=new Ed(t.__type,e,r,t.__value,t.__valueTypeName)),rE(t),t}s9.exports={TfTypeError:bs,TfPropertyTypeError:Ed,tfCustomError:IX,tfSubError:kX,tfJSON:lb,getValueTypeName:tE}});var f9=P((Y3e,u9)=>{d();l();var aE=db(),TX=nE();function a9(t){return Buffer.isBuffer(t)}function c9(t){return typeof t=="string"&&/^([0-9a-f]{2})+$/i.test(t)}function hb(t,e){var r=t.toJSON();function n(o){if(!t(o))return!1;if(o.length===e)return!0;throw TX.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+o.length+")")}return n.toJSON=function(){return r},n}var _X=hb.bind(null,aE.Array),PX=hb.bind(null,a9),BX=hb.bind(null,c9),CX=hb.bind(null,aE.String);function DX(t,e,r){r=r||aE.Number;function n(o,i){return r(o,i)&&o>t&&o<e}return n.toJSON=function(){return`${r.toJSON()} between [${t}, ${e}]`},n}var iE=Math.pow(2,53)-1;function OX(t){return typeof t=="number"&&isFinite(t)}function NX(t){return t<<24>>24===t}function RX(t){return t<<16>>16===t}function UX(t){return(t|0)===t}function LX(t){return typeof t=="number"&&t>=-iE&&t<=iE&&Math.floor(t)===t}function MX(t){return(t&255)===t}function FX(t){return(t&65535)===t}function HX(t){return t>>>0===t}function KX(t){return typeof t=="number"&&t>=0&&t<=iE&&Math.floor(t)===t}var sE={ArrayN:_X,Buffer:a9,BufferN:PX,Finite:OX,Hex:c9,HexN:BX,Int8:NX,Int16:RX,Int32:UX,Int53:LX,Range:DX,StringN:CX,UInt8:MX,UInt16:FX,UInt32:HX,UInt53:KX};for(oE in sE)sE[oE].toJSON=function(t){return t}.bind(null,oE);var oE;u9.exports=sE});var y9=P((Z3e,p9)=>{d();l();var fh=nE(),Kr=db(),xs=fh.tfJSON,l9=fh.TfTypeError,h9=fh.TfPropertyTypeError,uh=fh.tfSubError,VX=fh.getValueTypeName,ws={arrayOf:function(e,r){e=Oi(e),r=r||{};function n(o,i){return!Kr.Array(o)||Kr.Nil(o)||r.minLength!==void 0&&o.length<r.minLength||r.maxLength!==void 0&&o.length>r.maxLength||r.length!==void 0&&o.length!==r.length?!1:o.every(function(s,a){try{return bn(e,s,i)}catch(c){throw uh(c,a)}})}return n.toJSON=function(){var o="["+xs(e)+"]";return r.length!==void 0?o+="{"+r.length+"}":(r.minLength!==void 0||r.maxLength!==void 0)&&(o+="{"+(r.minLength===void 0?0:r.minLength)+","+(r.maxLength===void 0?1/0:r.maxLength)+"}"),o},n},maybe:function t(e){e=Oi(e);function r(n,o){return Kr.Nil(n)||e(n,o,t)}return r.toJSON=function(){return"?"+xs(e)},r},map:function(e,r){e=Oi(e),r&&(r=Oi(r));function n(o,i){if(!Kr.Object(o)||Kr.Nil(o))return!1;for(var s in o){try{r&&bn(r,s,i)}catch(c){throw uh(c,s,"key")}try{var a=o[s];bn(e,a,i)}catch(c){throw uh(c,s)}}return!0}return r?n.toJSON=function(){return"{"+xs(r)+": "+xs(e)+"}"}:n.toJSON=function(){return"{"+xs(e)+"}"},n},object:function(e){var r={};for(var n in e)r[n]=Oi(e[n]);function o(i,s){if(!Kr.Object(i)||Kr.Nil(i))return!1;var a;try{for(a in r){var c=r[a],u=i[a];bn(c,u,s)}}catch(h){throw uh(h,a)}if(s){for(a in i)if(!r[a])throw new h9(void 0,a)}return!0}return o.toJSON=function(){return xs(r)},o},anyOf:function(){var e=[].slice.call(arguments).map(Oi);function r(n,o){return e.some(function(i){try{return bn(i,n,o)}catch{return!1}})}return r.toJSON=function(){return e.map(xs).join("|")},r},allOf:function(){var e=[].slice.call(arguments).map(Oi);function r(n,o){return e.every(function(i){try{return bn(i,n,o)}catch{return!1}})}return r.toJSON=function(){return e.map(xs).join(" & ")},r},quacksLike:function(e){function r(n){return e===VX(n)}return r.toJSON=function(){return e},r},tuple:function(){var e=[].slice.call(arguments).map(Oi);function r(n,o){return Kr.Nil(n)||Kr.Nil(n.length)||o&&n.length!==e.length?!1:e.every(function(i,s){try{return bn(i,n[s],o)}catch(a){throw uh(a,s)}})}return r.toJSON=function(){return"("+e.map(xs).join(", ")+")"},r},value:function(e){function r(n){return n===e}return r.toJSON=function(){return e},r}};ws.oneOf=ws.anyOf;function Oi(t){if(Kr.String(t))return t[0]==="?"?ws.maybe(t.slice(1)):Kr[t]||ws.quacksLike(t);if(t&&Kr.Object(t)){if(Kr.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return ws.arrayOf(t[0])}return ws.object(t)}else if(Kr.Function(t))return t;return ws.value(t)}function bn(t,e,r,n){if(Kr.Function(t)){if(t(e,r))return!0;throw new l9(n||t,e)}return bn(Oi(t),e,r)}for(As in Kr)bn[As]=Kr[As];var As;for(As in ws)bn[As]=ws[As];var d9=f9();for(As in d9)bn[As]=d9[As];bn.compile=Oi;bn.TfTypeError=l9;bn.TfPropertyTypeError=h9;p9.exports=bn});var Vr=P(te=>{"use strict";d();l();Object.defineProperty(te,"__esModule",{value:!0});te.oneOf=te.Null=te.BufferN=te.Function=te.UInt32=te.UInt8=te.tuple=te.maybe=te.Hex=te.Buffer=te.String=te.Boolean=te.Array=te.Number=te.Hash256bit=te.Hash160bit=te.Buffer256bit=te.isTaptree=te.isTapleaf=te.TAPLEAF_VERSION_MASK=te.Network=te.ECPoint=te.Satoshi=te.Signer=te.BIP32Path=te.UInt31=te.isPoint=te.typeforce=void 0;var pb=Hn();te.typeforce=y9();var m9=pb.Buffer.alloc(32,0),g9=pb.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function qX(t){if(!pb.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(m9)===0||r.compare(g9)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(m9)===0||n.compare(g9)>=0?!1:e===4&&t.length===65}te.isPoint=qX;var zX=Math.pow(2,31)-1;function jX(t){return te.typeforce.UInt32(t)&&t<=zX}te.UInt31=jX;function b9(t){return te.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}te.BIP32Path=b9;b9.toJSON=()=>"BIP32 derivation path";function WX(t){return(te.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}te.Signer=WX;var GX=21*1e14;function $X(t){return te.typeforce.UInt53(t)&&t<=GX}te.Satoshi=$X;te.ECPoint=te.typeforce.quacksLike("Point");te.Network=te.typeforce.compile({messagePrefix:te.typeforce.oneOf(te.typeforce.Buffer,te.typeforce.String),bip32:{public:te.typeforce.UInt32,private:te.typeforce.UInt32},pubKeyHash:te.typeforce.UInt8,scriptHash:te.typeforce.UInt8,wif:te.typeforce.UInt8});te.TAPLEAF_VERSION_MASK=254;function x9(t){return!t||!("output"in t)||!pb.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&te.TAPLEAF_VERSION_MASK)===t.version:!0}te.isTapleaf=x9;function w9(t){return(0,te.Array)(t)?t.length!==2?!1:t.every(e=>w9(e)):x9(t)}te.isTaptree=w9;te.Buffer256bit=te.typeforce.BufferN(32);te.Hash160bit=te.typeforce.BufferN(20);te.Hash256bit=te.typeforce.BufferN(32);te.Number=te.typeforce.Number;te.Array=te.typeforce.Array;te.Boolean=te.typeforce.Boolean;te.String=te.typeforce.String;te.Buffer=te.typeforce.Buffer;te.Hex=te.typeforce.Hex;te.maybe=te.typeforce.maybe;te.tuple=te.typeforce.tuple;te.UInt8=te.typeforce.UInt8;te.UInt32=te.typeforce.UInt32;te.Function=te.typeforce.Function;te.BufferN=te.typeforce.BufferN;te.Null=te.typeforce.Null;te.oneOf=te.typeforce.oneOf});var I9=P(kd=>{"use strict";d();l();Object.defineProperty(kd,"__esModule",{value:!0});kd.encode=kd.decode=void 0;var{Buffer:Id}=Hn(),E9=Xv(),cE=Vr(),{typeforce:QX}=cE,A9=Id.alloc(1,0);function S9(t){let e=0;for(;t[e]===0;)++e;return e===t.length?A9:(t=t.slice(e),t[0]&128?Id.concat([A9,t],1+t.length):t)}function v9(t){t[0]===0&&(t=t.slice(1));let e=Id.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}function YX(t){let e=t.readUInt8(t.length-1),r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=E9.decode(t.slice(0,-1)),o=v9(n.r),i=v9(n.s);return{signature:Id.concat([o,i],64),hashType:e}}kd.decode=YX;function JX(t,e){QX({signature:cE.BufferN(64),hashType:cE.UInt8},{signature:t,hashType:e});let r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=Id.allocUnsafe(1);n.writeUInt8(e,0);let o=S9(t.slice(0,32)),i=S9(t.slice(32,64));return Id.concat([E9.encode(o,i),n])}kd.encode=JX});var xn=P(wt=>{"use strict";d();l();Object.defineProperty(wt,"__esModule",{value:!0});wt.signature=wt.number=wt.isCanonicalScriptSignature=wt.isDefinedHashType=wt.isCanonicalPubKey=wt.toStack=wt.fromASM=wt.toASM=wt.decompile=wt.compile=wt.countNonPushOnlyOPs=wt.isPushOnly=wt.OPS=void 0;var XX=Xv(),Rn=fb();Object.defineProperty(wt,"OPS",{enumerable:!0,get:function(){return Rn.OPS}});var uE=t9(),k9=r9(),ZX=I9(),Ni=Vr(),{typeforce:dh}=Ni,T9=Rn.OPS.OP_RESERVED;function eZ(t){return Ni.Number(t)&&(t===Rn.OPS.OP_0||t>=Rn.OPS.OP_1&&t<=Rn.OPS.OP_16||t===Rn.OPS.OP_1NEGATE)}function _9(t){return Ni.Buffer(t)||eZ(t)}function P9(t){return Ni.Array(t)&&t.every(_9)}wt.isPushOnly=P9;function tZ(t){return t.length-t.filter(_9).length}wt.countNonPushOnlyOPs=tZ;function yb(t){if(t.length===0)return Rn.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return T9+t[0];if(t[0]===129)return Rn.OPS.OP_1NEGATE}}function B9(t){return Buffer.isBuffer(t)}function rZ(t){return Ni.Array(t)}function mb(t){return Buffer.isBuffer(t)}function C9(t){if(B9(t))return t;dh(Ni.Array,t);let e=t.reduce((o,i)=>mb(i)?i.length===1&&yb(i)!==void 0?o+1:o+uE.encodingLength(i.length)+i.length:o+1,0),r=Buffer.allocUnsafe(e),n=0;if(t.forEach(o=>{if(mb(o)){let i=yb(o);if(i!==void 0){r.writeUInt8(i,n),n+=1;return}n+=uE.encode(r,o.length,n),o.copy(r,n),n+=o.length}else r.writeUInt8(o,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}wt.compile=C9;function fE(t){if(rZ(t))return t;dh(Ni.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>Rn.OPS.OP_0&&n<=Rn.OPS.OP_PUSHDATA4){let o=uE.decode(t,r);if(o===null||(r+=o.size,r+o.number>t.length))return null;let i=t.slice(r,r+o.number);r+=o.number;let s=yb(i);s!==void 0?e.push(s):e.push(i)}else e.push(n),r+=1}return e}wt.decompile=fE;function nZ(t){return B9(t)&&(t=fE(t)),t.map(e=>{if(mb(e)){let r=yb(e);if(r===void 0)return e.toString("hex");e=r}return Rn.REVERSE_OPS[e]}).join(" ")}wt.toASM=nZ;function oZ(t){return dh(Ni.String,t),C9(t.split(" ").map(e=>Rn.OPS[e]!==void 0?Rn.OPS[e]:(dh(Ni.Hex,e),Buffer.from(e,"hex"))))}wt.fromASM=oZ;function iZ(t){return t=fE(t),dh(P9,t),t.map(e=>mb(e)?e:e===Rn.OPS.OP_0?Buffer.allocUnsafe(0):k9.encode(e-T9))}wt.toStack=iZ;function sZ(t){return Ni.isPoint(t)}wt.isCanonicalPubKey=sZ;function D9(t){let e=t&-129;return e>0&&e<4}wt.isDefinedHashType=D9;function aZ(t){return!Buffer.isBuffer(t)||!D9(t[t.length-1])?!1:XX.check(t.slice(0,-1))}wt.isCanonicalScriptSignature=aZ;wt.number=k9;wt.signature=ZX});var Ss=P(Td=>{"use strict";d();l();Object.defineProperty(Td,"__esModule",{value:!0});Td.value=Td.prop=void 0;function cZ(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}Td.prop=cZ;function uZ(t){let e;return()=>(e!==void 0||(e=t()),e)}Td.value=uZ});var R9=P(bb=>{"use strict";d();l();Object.defineProperty(bb,"__esModule",{value:!0});bb.p2data=void 0;var fZ=Po(),gb=xn(),vs=Vr(),O9=Ss(),N9=gb.OPS;function dZ(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function lZ(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,vs.typeforce)({network:vs.typeforce.maybe(vs.typeforce.Object),output:vs.typeforce.maybe(vs.typeforce.Buffer),data:vs.typeforce.maybe(vs.typeforce.arrayOf(vs.typeforce.Buffer))},t);let n={name:"embed",network:t.network||fZ.bitcoin};if(O9.prop(n,"output",()=>{if(t.data)return gb.compile([N9.OP_RETURN].concat(t.data))}),O9.prop(n,"data",()=>{if(t.output)return gb.decompile(t.output).slice(1)}),e.validate&&t.output){let o=gb.decompile(t.output);if(o[0]!==N9.OP_RETURN)throw new TypeError("Output is invalid");if(!o.slice(1).every(vs.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!dZ(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}bb.p2data=lZ});var L9=P(wb=>{"use strict";d();l();Object.defineProperty(wb,"__esModule",{value:!0});wb.p2ms=void 0;var hZ=Po(),_d=xn(),br=Vr(),ic=Ss(),Pd=_d.OPS,xb=Pd.OP_RESERVED;function U9(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function pZ(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(c){return _d.isCanonicalScriptSignature(c)||(e.allowIncomplete&&c===Pd.OP_0)!==void 0}(0,br.typeforce)({network:br.typeforce.maybe(br.typeforce.Object),m:br.typeforce.maybe(br.typeforce.Number),n:br.typeforce.maybe(br.typeforce.Number),output:br.typeforce.maybe(br.typeforce.Buffer),pubkeys:br.typeforce.maybe(br.typeforce.arrayOf(br.isPoint)),signatures:br.typeforce.maybe(br.typeforce.arrayOf(r)),input:br.typeforce.maybe(br.typeforce.Buffer)},t);let o={network:t.network||hZ.bitcoin},i=[],s=!1;function a(c){s||(s=!0,i=_d.decompile(c),o.m=i[0]-xb,o.n=i[i.length-2]-xb,o.pubkeys=i.slice(1,-2))}if(ic.prop(o,"output",()=>{if(t.m&&o.n&&t.pubkeys)return _d.compile([].concat(xb+t.m,t.pubkeys,xb+o.n,Pd.OP_CHECKMULTISIG))}),ic.prop(o,"m",()=>{if(o.output)return a(o.output),o.m}),ic.prop(o,"n",()=>{if(o.pubkeys)return o.pubkeys.length}),ic.prop(o,"pubkeys",()=>{if(t.output)return a(t.output),o.pubkeys}),ic.prop(o,"signatures",()=>{if(t.input)return _d.decompile(t.input).slice(1)}),ic.prop(o,"input",()=>{if(t.signatures)return _d.compile([Pd.OP_0].concat(t.signatures))}),ic.prop(o,"witness",()=>{if(o.input)return[]}),ic.prop(o,"name",()=>{if(!(!o.m||!o.n))return`p2ms(${o.m} of ${o.n})`}),e.validate){if(t.output){if(a(t.output),!br.typeforce.Number(i[0]))throw new TypeError("Output is invalid");if(!br.typeforce.Number(i[i.length-2]))throw new TypeError("Output is invalid");if(i[i.length-1]!==Pd.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(o.m<=0||o.n>16||o.m>o.n||o.n!==i.length-3)throw new TypeError("Output is invalid");if(!o.pubkeys.every(c=>(0,br.isPoint)(c)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==o.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==o.n)throw new TypeError("n mismatch");if(t.pubkeys&&!U9(t.pubkeys,o.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(o.n=t.pubkeys.length,o.n<o.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<o.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>o.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==Pd.OP_0)throw new TypeError("Input is invalid");if(o.signatures.length===0||!o.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!U9(t.signatures,o.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(o,t)}wb.p2ms=pZ});var F9=P(Ab=>{"use strict";d();l();Object.defineProperty(Ab,"__esModule",{value:!0});Ab.p2pk=void 0;var yZ=Po(),Cd=xn(),ei=Vr(),Bd=Ss(),M9=Cd.OPS;function mZ(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,ei.typeforce)({network:ei.typeforce.maybe(ei.typeforce.Object),output:ei.typeforce.maybe(ei.typeforce.Buffer),pubkey:ei.typeforce.maybe(ei.isPoint),signature:ei.typeforce.maybe(Cd.isCanonicalScriptSignature),input:ei.typeforce.maybe(ei.typeforce.Buffer)},t);let r=Bd.value(()=>Cd.decompile(t.input)),o={name:"p2pk",network:t.network||yZ.bitcoin};if(Bd.prop(o,"output",()=>{if(t.pubkey)return Cd.compile([t.pubkey,M9.OP_CHECKSIG])}),Bd.prop(o,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),Bd.prop(o,"signature",()=>{if(t.input)return r()[0]}),Bd.prop(o,"input",()=>{if(t.signature)return Cd.compile([t.signature])}),Bd.prop(o,"witness",()=>{if(o.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==M9.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,ei.isPoint)(o.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(o.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(o.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!Cd.isCanonicalScriptSignature(o.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(o,t)}Ab.p2pk=mZ});var z9=P(wn=>{"use strict";d();l();Object.defineProperty(wn,"__esModule",{value:!0});wn.output=wn.exists=wn.hash=wn.bytes=wn.bool=wn.number=void 0;function Sb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}wn.number=Sb;function H9(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}wn.bool=H9;function dE(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}wn.bytes=dE;function K9(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Sb(t.outputLen),Sb(t.blockLen)}wn.hash=K9;function V9(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}wn.exists=V9;function q9(t,e){dE(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}wn.output=q9;var gZ={number:Sb,bool:H9,bytes:dE,hash:K9,exists:V9,output:q9};wn.default=gZ});var j9=P(vb=>{"use strict";d();l();Object.defineProperty(vb,"__esModule",{value:!0});vb.crypto=void 0;vb.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var lh=P(ze=>{"use strict";d();l();Object.defineProperty(ze,"__esModule",{value:!0});ze.randomBytes=ze.wrapConstructorWithOpts=ze.wrapConstructor=ze.checkOpts=ze.Hash=ze.concatBytes=ze.toBytes=ze.utf8ToBytes=ze.asyncLoop=ze.nextTick=ze.hexToBytes=ze.bytesToHex=ze.isLE=ze.rotr=ze.createView=ze.u32=ze.u8=void 0;var Eb=j9(),bZ=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);ze.u8=bZ;var xZ=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));ze.u32=xZ;var wZ=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);ze.createView=wZ;var AZ=(t,e)=>t<<32-e|t>>>e;ze.rotr=AZ;ze.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ze.isLE)throw new Error("Non little-endian hardware is not supported");var SZ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vZ(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=SZ[t[r]];return e}ze.bytesToHex=vZ;function EZ(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}ze.hexToBytes=EZ;var IZ=async()=>{};ze.nextTick=IZ;async function kZ(t,e,r){let n=Date.now();for(let o=0;o<t;o++){r(o);let i=Date.now()-n;i>=0&&i<e||(await(0,ze.nextTick)(),n+=i)}}ze.asyncLoop=kZ;function W9(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}ze.utf8ToBytes=W9;function hE(t){if(typeof t=="string"&&(t=W9(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}ze.toBytes=hE;function TZ(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}ze.concatBytes=TZ;var lE=class{clone(){return this._cloneInto()}};ze.Hash=lE;var _Z=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function PZ(t,e){if(e!==void 0&&(typeof e!="object"||!_Z(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}ze.checkOpts=PZ;function BZ(t){let e=n=>t().update(hE(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}ze.wrapConstructor=BZ;function CZ(t){let e=(n,o)=>t(o).update(hE(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}ze.wrapConstructorWithOpts=CZ;function DZ(t=32){if(Eb.crypto.web)return Eb.crypto.web.getRandomValues(new Uint8Array(t));if(Eb.crypto.node)return new Uint8Array(Eb.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}ze.randomBytes=DZ});var kb=P(Ib=>{"use strict";d();l();Object.defineProperty(Ib,"__esModule",{value:!0});Ib.SHA2=void 0;var pE=z9(),hh=lh();function OZ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var yE=class extends hh.Hash{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,hh.createView)(this.buffer)}update(e){pE.default.exists(this);let{view:r,buffer:n,blockLen:o}=this;e=(0,hh.toBytes)(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=(0,hh.createView)(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){pE.default.exists(this),pE.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;OZ(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=(0,hh.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};Ib.SHA2=yE});var Y9=P(Dd=>{"use strict";d();l();Object.defineProperty(Dd,"__esModule",{value:!0});Dd.ripemd160=Dd.RIPEMD160=void 0;var NZ=kb(),RZ=lh(),UZ=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),$9=Uint8Array.from({length:16},(t,e)=>e),LZ=$9.map(t=>(9*t+5)%16),mE=[$9],gE=[LZ];for(let t=0;t<4;t++)for(let e of[mE,gE])e.push(e[t].map(r=>UZ[r]));var Q9=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),MZ=mE.map((t,e)=>t.map(r=>Q9[e][r])),FZ=gE.map((t,e)=>t.map(r=>Q9[e][r])),HZ=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),KZ=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Tb=(t,e)=>t<<e|t>>>32-e;function G9(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var _b=new Uint32Array(16),Pb=class extends NZ.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:o,h4:i}=this;return[e,r,n,o,i]}set(e,r,n,o,i){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=o|0,this.h4=i|0}process(e,r){for(let m=0;m<16;m++,r+=4)_b[m]=e.getUint32(r,!0);let n=this.h0|0,o=n,i=this.h1|0,s=i,a=this.h2|0,c=a,u=this.h3|0,h=u,f=this.h4|0,p=f;for(let m=0;m<5;m++){let g=4-m,x=HZ[m],w=KZ[m],S=mE[m],k=gE[m],A=MZ[m],T=FZ[m];for(let C=0;C<16;C++){let W=Tb(n+G9(m,i,a,u)+_b[S[C]]+x,A[C])+f|0;n=f,f=u,u=Tb(a,10)|0,a=i,i=W}for(let C=0;C<16;C++){let W=Tb(o+G9(g,s,c,h)+_b[k[C]]+w,T[C])+p|0;o=p,p=h,h=Tb(c,10)|0,c=s,s=W}}this.set(this.h1+a+h|0,this.h2+u+p|0,this.h3+f+o|0,this.h4+n+s|0,this.h0+i+c|0)}roundClean(){_b.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};Dd.RIPEMD160=Pb;Dd.ripemd160=(0,RZ.wrapConstructor)(()=>new Pb)});var J9=P(Bb=>{"use strict";d();l();Object.defineProperty(Bb,"__esModule",{value:!0});Bb.sha1=void 0;var VZ=kb(),qZ=lh(),bE=(t,e)=>t<<e|t>>>32-e>>>0,zZ=(t,e,r)=>t&e^~t&r,jZ=(t,e,r)=>t&e^t&r^e&r,ph=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),sc=new Uint32Array(80),xE=class extends VZ.SHA2{constructor(){super(64,20,8,!1),this.A=ph[0]|0,this.B=ph[1]|0,this.C=ph[2]|0,this.D=ph[3]|0,this.E=ph[4]|0}get(){let{A:e,B:r,C:n,D:o,E:i}=this;return[e,r,n,o,i]}set(e,r,n,o,i){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0}process(e,r){for(let c=0;c<16;c++,r+=4)sc[c]=e.getUint32(r,!1);for(let c=16;c<80;c++)sc[c]=bE(sc[c-3]^sc[c-8]^sc[c-14]^sc[c-16],1);let{A:n,B:o,C:i,D:s,E:a}=this;for(let c=0;c<80;c++){let u,h;c<20?(u=zZ(o,i,s),h=1518500249):c<40?(u=o^i^s,h=1859775393):c<60?(u=jZ(o,i,s),h=2400959708):(u=o^i^s,h=3395469782);let f=bE(n,5)+u+a+h+sc[c]|0;a=s,s=i,i=bE(o,30),o=n,n=f}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,this.set(n,o,i,s,a)}roundClean(){sc.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}};Bb.sha1=(0,qZ.wrapConstructor)(()=>new xE)});var X9=P(Od=>{"use strict";d();l();Object.defineProperty(Od,"__esModule",{value:!0});Od.sha224=Od.sha256=void 0;var WZ=kb(),Bo=lh(),GZ=(t,e,r)=>t&e^~t&r,$Z=(t,e,r)=>t&e^t&r^e&r,QZ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ac=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cc=new Uint32Array(64),Cb=class extends WZ.SHA2{constructor(){super(64,32,8,!1),this.A=ac[0]|0,this.B=ac[1]|0,this.C=ac[2]|0,this.D=ac[3]|0,this.E=ac[4]|0,this.F=ac[5]|0,this.G=ac[6]|0,this.H=ac[7]|0}get(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)cc[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=cc[f-15],m=cc[f-2],g=(0,Bo.rotr)(p,7)^(0,Bo.rotr)(p,18)^p>>>3,x=(0,Bo.rotr)(m,17)^(0,Bo.rotr)(m,19)^m>>>10;cc[f]=x+cc[f-7]+g+cc[f-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){let p=(0,Bo.rotr)(a,6)^(0,Bo.rotr)(a,11)^(0,Bo.rotr)(a,25),m=h+p+GZ(a,c,u)+QZ[f]+cc[f]|0,x=((0,Bo.rotr)(n,2)^(0,Bo.rotr)(n,13)^(0,Bo.rotr)(n,22))+$Z(n,o,i)|0;h=u,u=c,c=a,a=s+m|0,s=i,i=o,o=n,n=m+x|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(n,o,i,s,a,c,u,h)}roundClean(){cc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},wE=class extends Cb{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Od.sha256=(0,Bo.wrapConstructor)(()=>new Cb);Od.sha224=(0,Bo.wrapConstructor)(()=>new wE)});var Ri=P(xr=>{"use strict";d();l();Object.defineProperty(xr,"__esModule",{value:!0});xr.taggedHash=xr.TAGGED_HASH_PREFIXES=xr.TAGS=xr.hash256=xr.hash160=xr.sha256=xr.sha1=xr.ripemd160=void 0;var{Buffer:An}=Hn(),Z9=Y9(),YZ=J9(),Db=X9();function JZ(t){return An.from((0,Z9.ripemd160)(Uint8Array.from(t)))}xr.ripemd160=JZ;function XZ(t){return An.from((0,YZ.sha1)(Uint8Array.from(t)))}xr.sha1=XZ;function eB(t){return An.from((0,Db.sha256)(Uint8Array.from(t)))}xr.sha256=eB;function ZZ(t){return An.from((0,Z9.ripemd160)((0,Db.sha256)(Uint8Array.from(t))))}xr.hash160=ZZ;function eee(t){return An.from((0,Db.sha256)((0,Db.sha256)(Uint8Array.from(t))))}xr.hash256=eee;xr.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"];xr.TAGGED_HASH_PREFIXES={"BIP0340/challenge":An.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":An.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":An.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:An.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:An.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:An.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:An.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":An.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":An.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function tee(t,e){return eB(An.concat([xr.TAGGED_HASH_PREFIXES[t],e]))}xr.taggedHash=tee});var rB=P(Ob=>{"use strict";d();l();Object.defineProperty(Ob,"__esModule",{value:!0});Ob.p2pkh=void 0;var AE=Ri(),ree=Po(),Nd=xn(),Sn=Vr(),Es=Ss(),tB=wd(),uc=Nd.OPS;function nee(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Sn.typeforce)({network:Sn.typeforce.maybe(Sn.typeforce.Object),address:Sn.typeforce.maybe(Sn.typeforce.String),hash:Sn.typeforce.maybe(Sn.typeforce.BufferN(20)),output:Sn.typeforce.maybe(Sn.typeforce.BufferN(25)),pubkey:Sn.typeforce.maybe(Sn.isPoint),signature:Sn.typeforce.maybe(Nd.isCanonicalScriptSignature),input:Sn.typeforce.maybe(Sn.typeforce.Buffer)},t);let r=Es.value(()=>{let s=Buffer.from(tB.decode(t.address)),a=s.readUInt8(0),c=s.slice(1);return{version:a,hash:c}}),n=Es.value(()=>Nd.decompile(t.input)),o=t.network||ree.bitcoin,i={name:"p2pkh",network:o};if(Es.prop(i,"address",()=>{if(!i.hash)return;let s=Buffer.allocUnsafe(21);return s.writeUInt8(o.pubKeyHash,0),i.hash.copy(s,1),tB.encode(s)}),Es.prop(i,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||i.pubkey)return AE.hash160(t.pubkey||i.pubkey)}),Es.prop(i,"output",()=>{if(i.hash)return Nd.compile([uc.OP_DUP,uc.OP_HASH160,i.hash,uc.OP_EQUALVERIFY,uc.OP_CHECKSIG])}),Es.prop(i,"pubkey",()=>{if(t.input)return n()[1]}),Es.prop(i,"signature",()=>{if(t.input)return n()[0]}),Es.prop(i,"input",()=>{if(t.pubkey&&t.signature)return Nd.compile([t.signature,t.pubkey])}),Es.prop(i,"witness",()=>{if(i.input)return[]}),e.validate){let s=Buffer.from([]);if(t.address){if(r().version!==o.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");s=r().hash}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==uc.OP_DUP||t.output[1]!==uc.OP_HASH160||t.output[2]!==20||t.output[23]!==uc.OP_EQUALVERIFY||t.output[24]!==uc.OP_CHECKSIG)throw new TypeError("Output is invalid");let a=t.output.slice(3,23);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");s=a}if(t.pubkey){let a=AE.hash160(t.pubkey);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");s=a}if(t.input){let a=n();if(a.length!==2)throw new TypeError("Input is invalid");if(!Nd.isCanonicalScriptSignature(a[0]))throw new TypeError("Input has invalid signature");if(!(0,Sn.isPoint)(a[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(a[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(a[1]))throw new TypeError("Pubkey mismatch");let c=AE.hash160(a[1]);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}Ob.p2pkh=nee});var iB=P(Nb=>{"use strict";d();l();Object.defineProperty(Nb,"__esModule",{value:!0});Nb.p2sh=void 0;var nB=Ri(),oee=Po(),Li=xn(),Kt=Vr(),Ui=Ss(),oB=wd(),yh=Li.OPS;function iee(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function see(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Kt.typeforce)({network:Kt.typeforce.maybe(Kt.typeforce.Object),address:Kt.typeforce.maybe(Kt.typeforce.String),hash:Kt.typeforce.maybe(Kt.typeforce.BufferN(20)),output:Kt.typeforce.maybe(Kt.typeforce.BufferN(23)),redeem:Kt.typeforce.maybe({network:Kt.typeforce.maybe(Kt.typeforce.Object),output:Kt.typeforce.maybe(Kt.typeforce.Buffer),input:Kt.typeforce.maybe(Kt.typeforce.Buffer),witness:Kt.typeforce.maybe(Kt.typeforce.arrayOf(Kt.typeforce.Buffer))}),input:Kt.typeforce.maybe(Kt.typeforce.Buffer),witness:Kt.typeforce.maybe(Kt.typeforce.arrayOf(Kt.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||oee.bitcoin);let n={network:r},o=Ui.value(()=>{let a=Buffer.from(oB.decode(t.address)),c=a.readUInt8(0),u=a.slice(1);return{version:c,hash:u}}),i=Ui.value(()=>Li.decompile(t.input)),s=Ui.value(()=>{let a=i(),c=a[a.length-1];return{network:r,output:c===yh.OP_FALSE?Buffer.from([]):c,input:Li.compile(a.slice(0,-1)),witness:t.witness||[]}});if(Ui.prop(n,"address",()=>{if(!n.hash)return;let a=Buffer.allocUnsafe(21);return a.writeUInt8(n.network.scriptHash,0),n.hash.copy(a,1),oB.encode(a)}),Ui.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return o().hash;if(n.redeem&&n.redeem.output)return nB.hash160(n.redeem.output)}),Ui.prop(n,"output",()=>{if(n.hash)return Li.compile([yh.OP_HASH160,n.hash,yh.OP_EQUAL])}),Ui.prop(n,"redeem",()=>{if(t.input)return s()}),Ui.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return Li.compile([].concat(Li.decompile(t.redeem.input),t.redeem.output))}),Ui.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),Ui.prop(n,"name",()=>{let a=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&a.push(n.redeem.name),a.join("-")}),e.validate){let a=Buffer.from([]);if(t.address){if(o().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(o().hash.length!==20)throw new TypeError("Invalid address");a=o().hash}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==yh.OP_HASH160||t.output[1]!==20||t.output[22]!==yh.OP_EQUAL)throw new TypeError("Output is invalid");let u=t.output.slice(2,22);if(a.length>0&&!a.equals(u))throw new TypeError("Hash mismatch");a=u}let c=u=>{if(u.output){let h=Li.decompile(u.output);if(!h||h.length<1)throw new TypeError("Redeem.output too short");if(u.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(Li.countNonPushOnlyOPs(h)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let f=nB.hash160(u.output);if(a.length>0&&!a.equals(f))throw new TypeError("Hash mismatch");a=f}if(u.input){let h=u.input.length>0,f=u.witness&&u.witness.length>0;if(!h&&!f)throw new TypeError("Empty input");if(h&&f)throw new TypeError("Input and witness provided");if(h){let p=Li.decompile(u.input);if(!Li.isPushOnly(p))throw new TypeError("Non push-only scriptSig")}}};if(t.input){let u=i();if(!u||u.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(s().output))throw new TypeError("Input is invalid");c(s())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let u=s();if(t.redeem.output&&!t.redeem.output.equals(u.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(u.input))throw new TypeError("Redeem.input mismatch")}c(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!iee(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}Nb.p2sh=see});var aB=P(Lb=>{"use strict";d();l();Object.defineProperty(Lb,"__esModule",{value:!0});Lb.p2wpkh=void 0;var{Buffer:vE}=Hn(),SE=Ri(),aee=Po(),Ub=xn(),wr=Vr(),fc=Ss(),Rb=gd(),sB=Ub.OPS,cee=vE.alloc(0);function uee(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,wr.typeforce)({address:wr.typeforce.maybe(wr.typeforce.String),hash:wr.typeforce.maybe(wr.typeforce.BufferN(20)),input:wr.typeforce.maybe(wr.typeforce.BufferN(0)),network:wr.typeforce.maybe(wr.typeforce.Object),output:wr.typeforce.maybe(wr.typeforce.BufferN(22)),pubkey:wr.typeforce.maybe(wr.isPoint),signature:wr.typeforce.maybe(Ub.isCanonicalScriptSignature),witness:wr.typeforce.maybe(wr.typeforce.arrayOf(wr.typeforce.Buffer))},t);let r=fc.value(()=>{let i=Rb.bech32.decode(t.address),s=i.words.shift(),a=Rb.bech32.fromWords(i.words);return{version:s,prefix:i.prefix,data:vE.from(a)}}),n=t.network||aee.bitcoin,o={name:"p2wpkh",network:n};if(fc.prop(o,"address",()=>{if(!o.hash)return;let i=Rb.bech32.toWords(o.hash);return i.unshift(0),Rb.bech32.encode(n.bech32,i)}),fc.prop(o,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||o.pubkey)return SE.hash160(t.pubkey||o.pubkey)}),fc.prop(o,"output",()=>{if(o.hash)return Ub.compile([sB.OP_0,o.hash])}),fc.prop(o,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.witness)return t.witness[1]}),fc.prop(o,"signature",()=>{if(t.witness)return t.witness[0]}),fc.prop(o,"input",()=>{if(o.witness)return cee}),fc.prop(o,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),e.validate){let i=vE.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");i=r().data}if(t.hash){if(i.length>0&&!i.equals(t.hash))throw new TypeError("Hash mismatch");i=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==sB.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(i.length>0&&!i.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");i=t.output.slice(2)}if(t.pubkey){let s=SE.hash160(t.pubkey);if(i.length>0&&!i.equals(s))throw new TypeError("Hash mismatch");if(i=s,!(0,wr.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!Ub.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,wr.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let s=SE.hash160(t.witness[1]);if(i.length>0&&!i.equals(s))throw new TypeError("Hash mismatch")}}return Object.assign(o,t)}Lb.p2wpkh=uee});var fB=P(Kb=>{"use strict";d();l();Object.defineProperty(Kb,"__esModule",{value:!0});Kb.p2wsh=void 0;var{Buffer:Hb}=Hn(),cB=Ri(),fee=Po(),ks=xn(),Nt=Vr(),Is=Ss(),Mb=gd(),uB=ks.OPS,EE=Hb.alloc(0);function dee(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function Fb(t){return!!(Hb.isBuffer(t)&&t.length===65&&t[0]===4&&(0,Nt.isPoint)(t))}function lee(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Nt.typeforce)({network:Nt.typeforce.maybe(Nt.typeforce.Object),address:Nt.typeforce.maybe(Nt.typeforce.String),hash:Nt.typeforce.maybe(Nt.typeforce.BufferN(32)),output:Nt.typeforce.maybe(Nt.typeforce.BufferN(34)),redeem:Nt.typeforce.maybe({input:Nt.typeforce.maybe(Nt.typeforce.Buffer),network:Nt.typeforce.maybe(Nt.typeforce.Object),output:Nt.typeforce.maybe(Nt.typeforce.Buffer),witness:Nt.typeforce.maybe(Nt.typeforce.arrayOf(Nt.typeforce.Buffer))}),input:Nt.typeforce.maybe(Nt.typeforce.BufferN(0)),witness:Nt.typeforce.maybe(Nt.typeforce.arrayOf(Nt.typeforce.Buffer))},t);let r=Is.value(()=>{let s=Mb.bech32.decode(t.address),a=s.words.shift(),c=Mb.bech32.fromWords(s.words);return{version:a,prefix:s.prefix,data:Hb.from(c)}}),n=Is.value(()=>ks.decompile(t.redeem.input)),o=t.network;o||(o=t.redeem&&t.redeem.network||fee.bitcoin);let i={network:o};if(Is.prop(i,"address",()=>{if(!i.hash)return;let s=Mb.bech32.toWords(i.hash);return s.unshift(0),Mb.bech32.encode(o.bech32,s)}),Is.prop(i,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(i.redeem&&i.redeem.output)return cB.sha256(i.redeem.output)}),Is.prop(i,"output",()=>{if(i.hash)return ks.compile([uB.OP_0,i.hash])}),Is.prop(i,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:EE,witness:t.witness.slice(0,-1)}}),Is.prop(i,"input",()=>{if(i.witness)return EE}),Is.prop(i,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let s=ks.toStack(n());return i.redeem=Object.assign({witness:s},t.redeem),i.redeem.input=EE,[].concat(s,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),Is.prop(i,"name",()=>{let s=["p2wsh"];return i.redeem!==void 0&&i.redeem.name!==void 0&&s.push(i.redeem.name),s.join("-")}),e.validate){let s=Hb.from([]);if(t.address){if(r().prefix!==o.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==uB.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let a=t.output.slice(2);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");s=a}if(t.redeem){if(t.redeem.network&&t.redeem.network!==o)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){let a=ks.decompile(t.redeem.output);if(!a||a.length<1)throw new TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(ks.countNonPushOnlyOPs(a)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let c=cB.sha256(t.redeem.output);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch");s=c}if(t.redeem.input&&!ks.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!dee(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(Fb)||t.redeem.output&&(ks.decompile(t.redeem.output)||[]).some(Fb))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let a=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(a))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(Fb)||(ks.decompile(a)||[]).some(Fb))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(i,t)}Kb.p2wsh=lee});var Vb=P(Rd=>{"use strict";d();l();Object.defineProperty(Rd,"__esModule",{value:!0});Rd.getEccLib=Rd.initEccLib=void 0;var mh={};function hee(t){t?t!==mh.eccLib&&(yee(t),mh.eccLib=t):mh.eccLib=t}Rd.initEccLib=hee;function pee(){if(!mh.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return mh.eccLib}Rd.getEccLib=pee;var Ts=t=>Buffer.from(t,"hex");function yee(t){Co(typeof t.isXOnlyPoint=="function"),Co(t.isXOnlyPoint(Ts("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Co(t.isXOnlyPoint(Ts("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),Co(t.isXOnlyPoint(Ts("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),Co(t.isXOnlyPoint(Ts("0000000000000000000000000000000000000000000000000000000000000001"))),Co(!t.isXOnlyPoint(Ts("0000000000000000000000000000000000000000000000000000000000000000"))),Co(!t.isXOnlyPoint(Ts("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),Co(typeof t.xOnlyPointAddTweak=="function"),mee.forEach(e=>{let r=t.xOnlyPointAddTweak(Ts(e.pubkey),Ts(e.tweak));e.result===null?Co(r===null):(Co(r!==null),Co(r.parity===e.parity),Co(Buffer.from(r.xOnlyPubkey).equals(Ts(e.result))))})}function Co(t){if(!t)throw new Error("ecc library invalid")}var mee=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]});var hB=P((c6e,lB)=>{"use strict";d();l();var IE=k6().Buffer,gee=9007199254740991;function kE(t){if(t<0||t>gee||t%1!==0)throw new RangeError("value out of range")}function gh(t,e,r){if(kE(t),e||(e=IE.allocUnsafe(dB(t))),!IE.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),gh.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),gh.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),gh.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),gh.bytes=9),e}function bh(t,e){if(!IE.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return bh.bytes=1,r;if(r===253)return bh.bytes=3,t.readUInt16LE(e+1);if(r===254)return bh.bytes=5,t.readUInt32LE(e+1);bh.bytes=9;var n=t.readUInt32LE(e+1),o=t.readUInt32LE(e+5),i=o*4294967296+n;return kE(i),i}function dB(t){return kE(t),t<253?1:t<=65535?3:t<=4294967295?5:9}lB.exports={encode:gh,decode:bh,encodingLength:dB}});var wh=P(sn=>{"use strict";d();l();Object.defineProperty(sn,"__esModule",{value:!0});sn.BufferReader=sn.BufferWriter=sn.cloneBuffer=sn.reverseBuffer=sn.writeUInt64LE=sn.readUInt64LE=sn.varuint=void 0;var yu=Vr(),{typeforce:pB}=yu,xh=hB();sn.varuint=xh;function yB(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function mB(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,yB(n+r,9007199254740991),n+r}sn.readUInt64LE=mB;function gB(t,e,r){return yB(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}sn.writeUInt64LE=gB;function bee(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}sn.reverseBuffer=bee;function xee(t){let e=Buffer.allocUnsafe(t.length);return t.copy(e),e}sn.cloneBuffer=xee;var TE=class t{static withCapacity(e){return new t(Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,pB(yu.tuple(yu.Buffer,yu.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=gB(this.buffer,e,this.offset)}writeVarInt(e){xh.encode(e,this.buffer,this.offset),this.offset+=xh.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};sn.BufferWriter=TE;var _E=class{constructor(e,r=0){this.buffer=e,this.offset=r,pB(yu.tuple(yu.Buffer,yu.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=mB(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=xh.decode(this.buffer,this.offset);return this.offset+=xh.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};sn.BufferReader=_E});var qb=P(Ar=>{"use strict";d();l();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.tweakKey=Ar.tapTweakHash=Ar.tapleafHash=Ar.findScriptPath=Ar.toHashTree=Ar.rootHashFromPath=Ar.MAX_TAPTREE_DEPTH=Ar.LEAF_VERSION_TAPSCRIPT=void 0;var dc=Hn(),wee=Vb(),DE=Ri(),bB=wh(),Aee=Vr();Ar.LEAF_VERSION_TAPSCRIPT=192;Ar.MAX_TAPTREE_DEPTH=128;var See=t=>"left"in t&&"right"in t;function vee(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let o=0;o<r;o++){let i=t.slice(33+32*o,65+32*o);n.compare(i)<0?n=CE(n,i):n=CE(i,n)}return n}Ar.rootHashFromPath=vee;function PE(t){if((0,Aee.isTapleaf)(t))return{hash:xB(t)};let e=[PE(t[0]),PE(t[1])];e.sort((o,i)=>o.hash.compare(i.hash));let[r,n]=e;return{hash:CE(r.hash,n.hash),left:r,right:n}}Ar.toHashTree=PE;function BE(t,e){if(See(t)){let r=BE(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=BE(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}Ar.findScriptPath=BE;function xB(t){let e=t.version||Ar.LEAF_VERSION_TAPSCRIPT;return DE.taggedHash("TapLeaf",dc.Buffer.concat([dc.Buffer.from([e]),Iee(t.output)]))}Ar.tapleafHash=xB;function wB(t,e){return DE.taggedHash("TapTweak",dc.Buffer.concat(e?[t,e]:[t]))}Ar.tapTweakHash=wB;function Eee(t,e){if(!dc.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=wB(t,e),n=(0,wee.getEccLib)().xOnlyPointAddTweak(t,r);return!n||n.xOnlyPubkey===null?null:{parity:n.parity,x:dc.Buffer.from(n.xOnlyPubkey)}}Ar.tweakKey=Eee;function CE(t,e){return DE.taggedHash("TapBranch",dc.Buffer.concat([t,e]))}function Iee(t){let e=bB.varuint.encodingLength(t.length),r=dc.Buffer.allocUnsafe(e);return bB.varuint.encode(t.length,r),dc.Buffer.concat([r,t])}});var EB=P(Wb=>{"use strict";d();l();Object.defineProperty(Wb,"__esModule",{value:!0});Wb.p2tr=void 0;var zb=Hn(),kee=Po(),OE=xn(),Ge=Vr(),AB=Vb(),Un=qb(),Do=Ss(),jb=gd(),SB=OE.OPS,vB=1,Tee=80;function _ee(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ge.typeforce)({address:Ge.typeforce.maybe(Ge.typeforce.String),input:Ge.typeforce.maybe(Ge.typeforce.BufferN(0)),network:Ge.typeforce.maybe(Ge.typeforce.Object),output:Ge.typeforce.maybe(Ge.typeforce.BufferN(34)),internalPubkey:Ge.typeforce.maybe(Ge.typeforce.BufferN(32)),hash:Ge.typeforce.maybe(Ge.typeforce.BufferN(32)),pubkey:Ge.typeforce.maybe(Ge.typeforce.BufferN(32)),signature:Ge.typeforce.maybe(Ge.typeforce.anyOf(Ge.typeforce.BufferN(64),Ge.typeforce.BufferN(65))),witness:Ge.typeforce.maybe(Ge.typeforce.arrayOf(Ge.typeforce.Buffer)),scriptTree:Ge.typeforce.maybe(Ge.isTaptree),redeem:Ge.typeforce.maybe({output:Ge.typeforce.maybe(Ge.typeforce.Buffer),redeemVersion:Ge.typeforce.maybe(Ge.typeforce.Number),witness:Ge.typeforce.maybe(Ge.typeforce.arrayOf(Ge.typeforce.Buffer))}),redeemVersion:Ge.typeforce.maybe(Ge.typeforce.Number)},t);let r=Do.value(()=>{let a=jb.bech32m.decode(t.address),c=a.words.shift(),u=jb.bech32m.fromWords(a.words);return{version:c,prefix:a.prefix,data:zb.Buffer.from(u)}}),n=Do.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===Tee?t.witness.slice(0,-1):t.witness.slice()}),o=Do.value(()=>{if(t.scriptTree)return(0,Un.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),i=t.network||kee.bitcoin,s={name:"p2tr",network:i};if(Do.prop(s,"address",()=>{if(!s.pubkey)return;let a=jb.bech32m.toWords(s.pubkey);return a.unshift(vB),jb.bech32m.encode(i.bech32,a)}),Do.prop(s,"hash",()=>{let a=o();if(a)return a.hash;let c=n();if(c&&c.length>1){let u=c[c.length-1],h=u[0]&Ge.TAPLEAF_VERSION_MASK,f=c[c.length-2],p=(0,Un.tapleafHash)({output:f,version:h});return(0,Un.rootHashFromPath)(u,p)}return null}),Do.prop(s,"output",()=>{if(s.pubkey)return OE.compile([SB.OP_1,s.pubkey])}),Do.prop(s,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:Un.LEAF_VERSION_TAPSCRIPT),Do.prop(s,"redeem",()=>{let a=n();if(!(!a||a.length<2))return{output:a[a.length-2],witness:a.slice(0,-2),redeemVersion:a[a.length-1][0]&Ge.TAPLEAF_VERSION_MASK}}),Do.prop(s,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.internalPubkey){let a=(0,Un.tweakKey)(s.internalPubkey,s.hash);if(a)return a.x}}),Do.prop(s,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let a=n();if(a&&a.length>1)return a[a.length-1].slice(1,33)}),Do.prop(s,"signature",()=>{if(t.signature)return t.signature;let a=n();if(!(!a||a.length!==1))return a[0]}),Do.prop(s,"witness",()=>{if(t.witness)return t.witness;let a=o();if(a&&t.redeem&&t.redeem.output&&t.internalPubkey){let c=(0,Un.tapleafHash)({output:t.redeem.output,version:s.redeemVersion}),u=(0,Un.findScriptPath)(a,c);if(!u)return;let h=(0,Un.tweakKey)(t.internalPubkey,a.hash);if(!h)return;let f=zb.Buffer.concat([zb.Buffer.from([s.redeemVersion|h.parity]),t.internalPubkey].concat(u));return[t.redeem.output,f]}if(t.signature)return[t.signature]}),e.validate){let a=zb.Buffer.from([]);if(t.address){if(i&&i.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==vB)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");a=r().data}if(t.pubkey){if(a.length>0&&!a.equals(t.pubkey))throw new TypeError("Pubkey mismatch");a=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==SB.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(a.length>0&&!a.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");a=t.output.slice(2)}if(t.internalPubkey){let h=(0,Un.tweakKey)(t.internalPubkey,s.hash);if(a.length>0&&!a.equals(h.x))throw new TypeError("Pubkey mismatch");a=h.x}if(a&&a.length&&!(0,AB.getEccLib)().isXOnlyPoint(a))throw new TypeError("Invalid pubkey for p2tr");let c=o();if(t.hash&&c&&!t.hash.equals(c.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&c){let h=(0,Un.tapleafHash)({output:t.redeem.output,version:s.redeemVersion});if(!(0,Un.findScriptPath)(c,h))throw new TypeError("Redeem script not in tree")}let u=n();if(t.redeem&&s.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==s.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(OE.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(s.redeem.output&&!t.redeem.output.equals(s.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&s.redeem.witness&&!Pee(t.redeem.witness,s.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(u&&u.length)if(u.length===1){if(t.signature&&!t.signature.equals(u[0]))throw new TypeError("Signature mismatch")}else{let h=u[u.length-1];if(h.length<33)throw new TypeError(`The control-block length is too small. Got ${h.length}, expected min 33.`);if((h.length-33)%32!==0)throw new TypeError(`The control-block length of ${h.length} is incorrect!`);let f=(h.length-33)/32;if(f>128)throw new TypeError(`The script path is too long. Got ${f}, expected max 128.`);let p=h.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(p))throw new TypeError("Internal pubkey mismatch");if(!(0,AB.getEccLib)().isXOnlyPoint(p))throw new TypeError("Invalid internalPubkey for p2tr witness");let m=h[0]&Ge.TAPLEAF_VERSION_MASK,g=u[u.length-2],x=(0,Un.tapleafHash)({output:g,version:m}),w=(0,Un.rootHashFromPath)(h,x),S=(0,Un.tweakKey)(p,w);if(!S)throw new TypeError("Invalid outputKey for p2tr witness");if(a.length&&!a.equals(S.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(S.parity!==(h[0]&1))throw new Error("Incorrect parity")}}return Object.assign(s,t)}Wb.p2tr=_ee;function Pee(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}});var Ud=P(Dr=>{"use strict";d();l();Object.defineProperty(Dr,"__esModule",{value:!0});Dr.p2tr=Dr.p2wsh=Dr.p2wpkh=Dr.p2sh=Dr.p2pkh=Dr.p2pk=Dr.p2ms=Dr.embed=void 0;var Bee=R9();Object.defineProperty(Dr,"embed",{enumerable:!0,get:function(){return Bee.p2data}});var Cee=L9();Object.defineProperty(Dr,"p2ms",{enumerable:!0,get:function(){return Cee.p2ms}});var Dee=F9();Object.defineProperty(Dr,"p2pk",{enumerable:!0,get:function(){return Dee.p2pk}});var Oee=rB();Object.defineProperty(Dr,"p2pkh",{enumerable:!0,get:function(){return Oee.p2pkh}});var Nee=iB();Object.defineProperty(Dr,"p2sh",{enumerable:!0,get:function(){return Nee.p2sh}});var Ree=aB();Object.defineProperty(Dr,"p2wpkh",{enumerable:!0,get:function(){return Ree.p2wpkh}});var Uee=fB();Object.defineProperty(Dr,"p2wsh",{enumerable:!0,get:function(){return Uee.p2wsh}});var Lee=EB();Object.defineProperty(Dr,"p2tr",{enumerable:!0,get:function(){return Lee.p2tr}})});var NE=P(Ln=>{"use strict";d();l();Object.defineProperty(Ln,"__esModule",{value:!0});Ln.toOutputScript=Ln.fromOutputScript=Ln.toBech32=Ln.toBase58Check=Ln.fromBech32=Ln.fromBase58Check=void 0;var IB=Po(),Mi=Ud(),kB=xn(),Gb=Vr(),Ld=gd(),TB=wd(),_B=40,PB=2,BB=16,CB=2,DB=80,OB="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function Mee(t,e){let r=t.slice(2);if(r.length<PB||r.length>_B)throw new TypeError("Invalid program length for segwit address");let n=t[0]-DB;if(n<CB||n>BB)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(OB),UB(r,n,e.bech32)}function NB(t){let e=Buffer.from(TB.decode(t));if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}Ln.fromBase58Check=NB;function RB(t){let e,r;try{e=Ld.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=Ld.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=Ld.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:Buffer.from(n)}}Ln.fromBech32=RB;function Fee(t,e){(0,Gb.typeforce)((0,Gb.tuple)(Gb.Hash160bit,Gb.UInt8),arguments);let r=Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),TB.encode(r)}Ln.toBase58Check=Fee;function UB(t,e,r){let n=Ld.bech32.toWords(t);return n.unshift(e),e===0?Ld.bech32.encode(r,n):Ld.bech32m.encode(r,n)}Ln.toBech32=UB;function Hee(t,e){e=e||IB.bitcoin;try{return Mi.p2pkh({output:t,network:e}).address}catch{}try{return Mi.p2sh({output:t,network:e}).address}catch{}try{return Mi.p2wpkh({output:t,network:e}).address}catch{}try{return Mi.p2wsh({output:t,network:e}).address}catch{}try{return Mi.p2tr({output:t,network:e}).address}catch{}try{return Mee(t,e)}catch{}throw new Error(kB.toASM(t)+" has no matching Address")}Ln.fromOutputScript=Hee;function Kee(t,e){e=e||IB.bitcoin;let r,n;try{r=NB(t)}catch{}if(r){if(r.version===e.pubKeyHash)return Mi.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return Mi.p2sh({hash:r.hash}).output}else{try{n=RB(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return Mi.p2wpkh({hash:n.data}).output;if(n.data.length===32)return Mi.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return Mi.p2tr({pubkey:n.data}).output}else if(n.version>=CB&&n.version<=BB&&n.data.length>=PB&&n.data.length<=_B)return console.warn(OB),kB.compile([n.version+DB,n.data])}}throw new Error(t+" has no matching Script")}Ln.toOutputScript=Kee});var LB=P($b=>{"use strict";d();l();Object.defineProperty($b,"__esModule",{value:!0});$b.fastMerkleRoot=void 0;function Vee(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if(typeof e!="function")throw TypeError("Expected digest Function");let r=t.length,n=t.concat();for(;r>1;){let o=0;for(let i=0;i<r;i+=2,++o){let s=n[i],a=i+1===r?s:n[i+1],c=Buffer.concat([s,a]);n[o]=e(c)}r=o}return n[0]}$b.fastMerkleRoot=Vee});var Md=P(Qb=>{"use strict";d();l();Object.defineProperty(Qb,"__esModule",{value:!0});Qb.Transaction=void 0;var{Buffer:an}=Hn(),lr=wh(),vn=Ri(),MB=xn(),qee=xn(),rt=Vr(),{typeforce:Fi}=rt;function Hi(t){let e=t.length;return lr.varuint.encodingLength(e)+e}function zee(t){let e=t.length;return lr.varuint.encodingLength(e)+t.reduce((r,n)=>r+Hi(n),0)}var lc=an.allocUnsafe(0),FB=[],RE=an.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),HB=an.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),jee=an.from("ffffffffffffffff","hex"),Wee={script:lc,valueBuffer:jee};function Gee(t){return t.value!==void 0}var eo=class t{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new lr.BufferReader(e),o=new t;o.version=n.readInt32();let i=n.readUInt8(),s=n.readUInt8(),a=!1;i===t.ADVANCED_TRANSACTION_MARKER&&s===t.ADVANCED_TRANSACTION_FLAG?a=!0:n.offset-=2;let c=n.readVarInt();for(let h=0;h<c;++h)o.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:FB});let u=n.readVarInt();for(let h=0;h<u;++h)o.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(a){for(let h=0;h<c;++h)o.ins[h].witness=n.readVector();if(!o.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(o.locktime=n.readUInt32(),r)return o;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return o}static fromHex(e){return t.fromBuffer(an.from(e,"hex"),!1)}static isCoinbaseHash(e){Fi(rt.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&t.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,o){return Fi(rt.tuple(rt.Hash256bit,rt.UInt32,rt.maybe(rt.UInt32),rt.maybe(rt.Buffer)),arguments),rt.Null(n)&&(n=t.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:o||lc,sequence:n,witness:FB})-1}addOutput(e,r){return Fi(rt.tuple(rt.Buffer,rt.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+lr.varuint.encodingLength(this.ins.length)+lr.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,o)=>n+40+Hi(o.script),0)+this.outs.reduce((n,o)=>n+8+Hi(o.script),0)+(r?this.ins.reduce((n,o)=>n+zee(o.witness),0):0)}clone(){let e=new t;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(Fi(rt.tuple(rt.UInt32,rt.Buffer,rt.Number),arguments),e>=this.ins.length)return HB;let o=MB.compile(MB.decompile(r).filter(a=>a!==qee.OPS.OP_CODESEPARATOR)),i=this.clone();if((n&31)===t.SIGHASH_NONE)i.outs=[],i.ins.forEach((a,c)=>{c!==e&&(a.sequence=0)});else if((n&31)===t.SIGHASH_SINGLE){if(e>=this.outs.length)return HB;i.outs.length=e+1;for(let a=0;a<e;a++)i.outs[a]=Wee;i.ins.forEach((a,c)=>{c!==e&&(a.sequence=0)})}n&t.SIGHASH_ANYONECANPAY?(i.ins=[i.ins[e]],i.ins[0].script=o):(i.ins.forEach(a=>{a.script=lc}),i.ins[e].script=o);let s=an.allocUnsafe(i.byteLength(!1)+4);return s.writeInt32LE(n,s.length-4),i.__toBuffer(s,0,!1),vn.hash256(s)}hashForWitnessV1(e,r,n,o,i,s){if(Fi(rt.tuple(rt.UInt32,Fi.arrayOf(rt.Buffer),Fi.arrayOf(rt.Satoshi),rt.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let a=o===t.SIGHASH_DEFAULT?t.SIGHASH_ALL:o&t.SIGHASH_OUTPUT_MASK,u=(o&t.SIGHASH_INPUT_MASK)===t.SIGHASH_ANYONECANPAY,h=a===t.SIGHASH_NONE,f=a===t.SIGHASH_SINGLE,p=lc,m=lc,g=lc,x=lc,w=lc;if(!u){let T=lr.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(C=>{T.writeSlice(C.hash),T.writeUInt32(C.index)}),p=vn.sha256(T.end()),T=lr.BufferWriter.withCapacity(8*this.ins.length),n.forEach(C=>T.writeUInt64(C)),m=vn.sha256(T.end()),T=lr.BufferWriter.withCapacity(r.map(Hi).reduce((C,W)=>C+W)),r.forEach(C=>T.writeVarSlice(C)),g=vn.sha256(T.end()),T=lr.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(C=>T.writeUInt32(C.sequence)),x=vn.sha256(T.end())}if(h||f){if(f&&e<this.outs.length){let T=this.outs[e],C=lr.BufferWriter.withCapacity(8+Hi(T.script));C.writeUInt64(T.value),C.writeVarSlice(T.script),w=vn.sha256(C.end())}}else{let T=this.outs.map(W=>8+Hi(W.script)).reduce((W,oe)=>W+oe),C=lr.BufferWriter.withCapacity(T);this.outs.forEach(W=>{C.writeUInt64(W.value),C.writeVarSlice(W.script)}),w=vn.sha256(C.end())}let S=(i?2:0)+(s?1:0),k=174-(u?49:0)-(h?32:0)+(s?32:0)+(i?37:0),A=lr.BufferWriter.withCapacity(k);if(A.writeUInt8(o),A.writeInt32(this.version),A.writeUInt32(this.locktime),A.writeSlice(p),A.writeSlice(m),A.writeSlice(g),A.writeSlice(x),h||f||A.writeSlice(w),A.writeUInt8(S),u){let T=this.ins[e];A.writeSlice(T.hash),A.writeUInt32(T.index),A.writeUInt64(n[e]),A.writeVarSlice(r[e]),A.writeUInt32(T.sequence)}else A.writeUInt32(e);if(s){let T=lr.BufferWriter.withCapacity(Hi(s));T.writeVarSlice(s),A.writeSlice(vn.sha256(T.end()))}return f&&A.writeSlice(w),i&&(A.writeSlice(i),A.writeUInt8(0),A.writeUInt32(4294967295)),vn.taggedHash("TapSighash",an.concat([an.from([0]),A.end()]))}hashForWitnessV0(e,r,n,o){Fi(rt.tuple(rt.UInt32,rt.Buffer,rt.Satoshi,rt.UInt32),arguments);let i=an.from([]),s,a=RE,c=RE,u=RE;if(o&t.SIGHASH_ANYONECANPAY||(i=an.allocUnsafe(36*this.ins.length),s=new lr.BufferWriter(i,0),this.ins.forEach(f=>{s.writeSlice(f.hash),s.writeUInt32(f.index)}),c=vn.hash256(i)),!(o&t.SIGHASH_ANYONECANPAY)&&(o&31)!==t.SIGHASH_SINGLE&&(o&31)!==t.SIGHASH_NONE&&(i=an.allocUnsafe(4*this.ins.length),s=new lr.BufferWriter(i,0),this.ins.forEach(f=>{s.writeUInt32(f.sequence)}),u=vn.hash256(i)),(o&31)!==t.SIGHASH_SINGLE&&(o&31)!==t.SIGHASH_NONE){let f=this.outs.reduce((p,m)=>p+8+Hi(m.script),0);i=an.allocUnsafe(f),s=new lr.BufferWriter(i,0),this.outs.forEach(p=>{s.writeUInt64(p.value),s.writeVarSlice(p.script)}),a=vn.hash256(i)}else if((o&31)===t.SIGHASH_SINGLE&&e<this.outs.length){let f=this.outs[e];i=an.allocUnsafe(8+Hi(f.script)),s=new lr.BufferWriter(i,0),s.writeUInt64(f.value),s.writeVarSlice(f.script),a=vn.hash256(i)}i=an.allocUnsafe(156+Hi(r)),s=new lr.BufferWriter(i,0);let h=this.ins[e];return s.writeInt32(this.version),s.writeSlice(c),s.writeSlice(u),s.writeSlice(h.hash),s.writeUInt32(h.index),s.writeVarSlice(r),s.writeUInt64(n),s.writeUInt32(h.sequence),s.writeSlice(a),s.writeUInt32(this.locktime),s.writeUInt32(o),vn.hash256(i)}getHash(e){return e&&this.isCoinbase()?an.alloc(32,0):vn.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,lr.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){Fi(rt.tuple(rt.Number,rt.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){Fi(rt.tuple(rt.Number,[rt.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=an.allocUnsafe(this.byteLength(n)));let o=new lr.BufferWriter(e,r||0);o.writeInt32(this.version);let i=n&&this.hasWitnesses();return i&&(o.writeUInt8(t.ADVANCED_TRANSACTION_MARKER),o.writeUInt8(t.ADVANCED_TRANSACTION_FLAG)),o.writeVarInt(this.ins.length),this.ins.forEach(s=>{o.writeSlice(s.hash),o.writeUInt32(s.index),o.writeVarSlice(s.script),o.writeUInt32(s.sequence)}),o.writeVarInt(this.outs.length),this.outs.forEach(s=>{Gee(s)?o.writeUInt64(s.value):o.writeSlice(s.valueBuffer),o.writeVarSlice(s.script)}),i&&this.ins.forEach(s=>{o.writeVector(s.witness)}),o.writeUInt32(this.locktime),r!==void 0?e.slice(r,o.offset):e}};Qb.Transaction=eo;eo.DEFAULT_SEQUENCE=4294967295;eo.SIGHASH_DEFAULT=0;eo.SIGHASH_ALL=1;eo.SIGHASH_NONE=2;eo.SIGHASH_SINGLE=3;eo.SIGHASH_ANYONECANPAY=128;eo.SIGHASH_OUTPUT_MASK=3;eo.SIGHASH_INPUT_MASK=128;eo.ADVANCED_TRANSACTION_MARKER=0;eo.ADVANCED_TRANSACTION_FLAG=1});var zB=P(Yb=>{"use strict";d();l();Object.defineProperty(Yb,"__esModule",{value:!0});Yb.Block=void 0;var mu=wh(),UE=Ri(),$ee=LB(),Qee=Md(),qB=Vr(),{typeforce:Yee}=qB,LE=new TypeError("Cannot compute merkle root for zero transactions"),KB=new TypeError("Cannot compute witness commit for non-segwit block"),ME=class t{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");let r=new mu.BufferReader(e),n=new t;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),e.length===80)return n;let o=()=>{let a=Qee.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=a.byteLength(),a},i=r.readVarInt();n.transactions=[];for(let a=0;a<i;++a){let c=o();n.transactions.push(c)}let s=n.getWitnessCommit();return s&&(n.witnessCommit=s),n}static fromHex(e){return t.fromBuffer(Buffer.from(e,"hex"))}static calculateTarget(e){let r=((e&4278190080)>>24)-3,n=e&8388607,o=Buffer.alloc(32,0);return o.writeUIntBE(n,29-r,3),o}static calculateMerkleRoot(e,r){if(Yee([{getHash:qB.Function}],e),e.length===0)throw LE;if(r&&!VB(e))throw KB;let n=e.map(i=>i.getHash(r)),o=(0,$ee.fastMerkleRoot)(n,UE.hash256);return r?UE.hash256(Buffer.concat([o,e[0].ins[0].witness[0]])):o}getWitnessCommit(){if(!VB(this.transactions))return null;let e=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(e.length===0)return null;let r=e[e.length-1];return r instanceof Buffer&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return Jee(this.transactions)}weight(){let e=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return e*3+r}byteLength(e,r=!0){return e||!this.transactions?80:80+mu.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((n,o)=>n+o.byteLength(r),0)}getHash(){return UE.hash256(this.toBuffer(!0))}getId(){return(0,mu.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){let r=Buffer.allocUnsafe(this.byteLength(e)),n=new mu.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),e||!this.transactions||(mu.varuint.encode(this.transactions.length,r,n.offset),n.offset+=mu.varuint.encode.bytes,this.transactions.forEach(o=>{let i=o.byteLength();o.toBuffer(r,n.offset),n.offset+=i})),r}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){let e=this.hasWitnessCommit();return!e&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(e?this.__checkWitnessCommit():!0)}checkProofOfWork(){let e=(0,mu.reverseBuffer)(this.getHash()),r=t.calculateTarget(this.bits);return e.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw LE;let e=t.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(e)===0}__checkWitnessCommit(){if(!this.transactions)throw LE;if(!this.hasWitnessCommit())throw KB;let e=t.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(e)===0}};Yb.Block=ME;function VB(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}function Jee(t){return t instanceof Array&&t.some(e=>typeof e=="object"&&e.ins instanceof Array&&e.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}});var Or=P(ti=>{"use strict";d();l();Object.defineProperty(ti,"__esModule",{value:!0});var Xee;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(Xee=ti.GlobalTypes||(ti.GlobalTypes={}));ti.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var Zee;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(Zee=ti.InputTypes||(ti.InputTypes={}));ti.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var ete;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(ete=ti.OutputTypes||(ti.OutputTypes={}));ti.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var WB=P(gu=>{"use strict";d();l();Object.defineProperty(gu,"__esModule",{value:!0});var jB=Or(),tte=t=>[...Array(t).keys()];function rte(t){if(t.key[0]!==jB.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of tte(t.value.length/4-1)){let o=t.value.readUInt32LE(n*4+4),i=!!(o&2147483648),s=o&2147483647;r.path+="/"+s.toString(10)+(i?"'":"")}return r}gu.decode=rte;function nte(t){let e=Buffer.from([jB.GlobalTypes.GLOBAL_XPUB]),r=Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),o=Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(o,0);let i=4;return n.slice(1).forEach(s=>{let a=s.slice(-1)==="'",c=2147483647&parseInt(a?s.slice(0,-1):s,10);a&&(c+=2147483648),o.writeUInt32LE(c,i),i+=4}),{key:r,value:o}}gu.encode=nte;gu.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function ote(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}gu.check=ote;function ite(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(o=>o.extendedPubkey.equals(e.extendedPubkey)).length===0)}gu.canAddToArray=ite});var GB=P(FE=>{"use strict";d();l();Object.defineProperty(FE,"__esModule",{value:!0});var ste=Or();function ate(t){return{key:Buffer.from([ste.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}FE.encode=ate});var QB=P(bu=>{"use strict";d();l();Object.defineProperty(bu,"__esModule",{value:!0});var $B=Or();function cte(t){if(t.key[0]!==$B.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}bu.decode=cte;function ute(t){return{key:Buffer.from([$B.InputTypes.FINAL_SCRIPTSIG]),value:t}}bu.encode=ute;bu.expected="Buffer";function fte(t){return Buffer.isBuffer(t)}bu.check=fte;function dte(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}bu.canAdd=dte});var JB=P(xu=>{"use strict";d();l();Object.defineProperty(xu,"__esModule",{value:!0});var YB=Or();function lte(t){if(t.key[0]!==YB.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}xu.decode=lte;function hte(t){return{key:Buffer.from([YB.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}xu.encode=hte;xu.expected="Buffer";function pte(t){return Buffer.isBuffer(t)}xu.check=pte;function yte(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}xu.canAdd=yte});var ZB=P(wu=>{"use strict";d();l();Object.defineProperty(wu,"__esModule",{value:!0});var XB=Or();function mte(t){if(t.key[0]!==XB.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}wu.decode=mte;function gte(t){return{key:Buffer.from([XB.InputTypes.NON_WITNESS_UTXO]),value:t}}wu.encode=gte;wu.expected="Buffer";function bte(t){return Buffer.isBuffer(t)}wu.check=bte;function xte(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}wu.canAdd=xte});var tC=P(Au=>{"use strict";d();l();Object.defineProperty(Au,"__esModule",{value:!0});var eC=Or();function wte(t){if(t.key[0]!==eC.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}Au.decode=wte;function Ate(t){let e=Buffer.from([eC.InputTypes.PARTIAL_SIG]);return{key:Buffer.concat([e,t.pubkey]),value:t.signature}}Au.encode=Ate;Au.expected="{ pubkey: Buffer; signature: Buffer; }";function Ste(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&vte(t.signature)}Au.check=Ste;function vte(t){if(!Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}function Ete(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(o=>o.pubkey.equals(e.pubkey)).length===0)}Au.canAddToArray=Ete});var nC=P(Su=>{"use strict";d();l();Object.defineProperty(Su,"__esModule",{value:!0});var rC=Or();function Ite(t){if(t.key[0]!==rC.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}Su.decode=Ite;function kte(t){return{key:Buffer.from([rC.InputTypes.POR_COMMITMENT]),value:Buffer.from(t,"utf8")}}Su.encode=kte;Su.expected="string";function Tte(t){return typeof t=="string"}Su.check=Tte;function _te(t,e){return!!t&&!!e&&t.porCommitment===void 0}Su.canAdd=_te});var iC=P(vu=>{"use strict";d();l();Object.defineProperty(vu,"__esModule",{value:!0});var oC=Or();function Pte(t){if(t.key[0]!==oC.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}vu.decode=Pte;function Bte(t){let e=Buffer.from([oC.InputTypes.SIGHASH_TYPE]),r=Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}vu.encode=Bte;vu.expected="number";function Cte(t){return typeof t=="number"}vu.check=Cte;function Dte(t,e){return!!t&&!!e&&t.sighashType===void 0}vu.canAdd=Dte});var cC=P(Eu=>{"use strict";d();l();Object.defineProperty(Eu,"__esModule",{value:!0});var sC=Or();function Ote(t){if(t.key[0]!==sC.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!aC(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}Eu.decode=Ote;function Nte(t){return{key:Buffer.from([sC.InputTypes.TAP_KEY_SIG]),value:t}}Eu.encode=Nte;Eu.expected="Buffer";function aC(t){return Buffer.isBuffer(t)&&(t.length===64||t.length===65)}Eu.check=aC;function Rte(t,e){return!!t&&!!e&&t.tapKeySig===void 0}Eu.canAdd=Rte});var fC=P(Iu=>{"use strict";d();l();Object.defineProperty(Iu,"__esModule",{value:!0});var uC=Or();function Ute(t){if(t.key[0]!==uC.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}Iu.decode=Ute;function Lte(t){let e=Buffer.from([uC.InputTypes.TAP_LEAF_SCRIPT]),r=Buffer.from([t.leafVersion]);return{key:Buffer.concat([e,t.controlBlock]),value:Buffer.concat([t.script,r])}}Iu.encode=Lte;Iu.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function Mte(t){return Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&Buffer.isBuffer(t.script)}Iu.check=Mte;function Fte(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(o=>o.controlBlock.equals(e.controlBlock)).length===0)}Iu.canAddToArray=Fte});var hC=P(ku=>{"use strict";d();l();Object.defineProperty(ku,"__esModule",{value:!0});var dC=Or();function Hte(t){if(t.key[0]!==dC.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!lC(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}ku.decode=Hte;function Kte(t){return{key:Buffer.from([dC.InputTypes.TAP_MERKLE_ROOT]),value:t}}ku.encode=Kte;ku.expected="Buffer";function lC(t){return Buffer.isBuffer(t)&&t.length===32}ku.check=lC;function Vte(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}ku.canAdd=Vte});var yC=P(Tu=>{"use strict";d();l();Object.defineProperty(Tu,"__esModule",{value:!0});var pC=Or();function qte(t){if(t.key[0]!==pC.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}Tu.decode=qte;function zte(t){let e=Buffer.from([pC.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}Tu.encode=zte;Tu.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function jte(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.leafHash)&&Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}Tu.check=jte;function Wte(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(o=>o.pubkey.equals(e.pubkey)&&o.leafHash.equals(e.leafHash)).length===0)}Tu.canAddToArray=Wte});var hc=P(vh=>{"use strict";d();l();Object.defineProperty(vh,"__esModule",{value:!0});var Gte=9007199254740991;function HE(t){if(t<0||t>Gte||t%1!==0)throw new RangeError("value out of range")}function Ah(t,e,r){if(HE(t),e||(e=Buffer.allocUnsafe(mC(t))),!Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(Ah,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(Ah,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(Ah,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(Ah,{bytes:9})),e}vh.encode=Ah;function Sh(t,e){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(Sh,{bytes:1}),r;if(r===253)return Object.assign(Sh,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(Sh,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(Sh,{bytes:9});let n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5)*4294967296+n;return HE(i),i}}vh.decode=Sh;function mC(t){return HE(t),t<253?1:t<=65535?3:t<=4294967295?5:9}vh.encodingLength=mC});var Xb=P(pc=>{"use strict";d();l();Object.defineProperty(pc,"__esModule",{value:!0});var Jb=hc();pc.range=t=>[...Array(t).keys()];function $te(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}pc.reverseBuffer=$te;function Qte(t){let e=t.map(gC);return e.push(Buffer.from([0])),Buffer.concat(e)}pc.keyValsToBuffer=Qte;function gC(t){let e=t.key.length,r=t.value.length,n=Jb.encodingLength(e),o=Jb.encodingLength(r),i=Buffer.allocUnsafe(n+e+o+r);return Jb.encode(e,i,0),t.key.copy(i,n),Jb.encode(r,i,n+e),t.value.copy(i,n+e+o),i}pc.keyValToBuffer=gC;function bC(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function Yte(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,bC(n+r,9007199254740991),n+r}pc.readUInt64LE=Yte;function Jte(t,e,r){return bC(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}pc.writeUInt64LE=Jte});var AC=P(_u=>{"use strict";d();l();Object.defineProperty(_u,"__esModule",{value:!0});var xC=Or(),wC=Xb(),Zb=hc();function Xte(t){if(t.key[0]!==xC.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=wC.readUInt64LE(t.value,0),r=8,n=Zb.decode(t.value,r);r+=Zb.encodingLength(n);let o=t.value.slice(r);if(o.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:o,value:e}}_u.decode=Xte;function Zte(t){let{script:e,value:r}=t,n=Zb.encodingLength(e.length),o=Buffer.allocUnsafe(8+n+e.length);return wC.writeUInt64LE(o,r,0),Zb.encode(e.length,o,8),e.copy(o,8+n),{key:Buffer.from([xC.InputTypes.WITNESS_UTXO]),value:o}}_u.encode=Zte;_u.expected="{ script: Buffer; value: number; }";function ere(t){return Buffer.isBuffer(t.script)&&typeof t.value=="number"}_u.check=ere;function tre(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}_u.canAdd=tre});var vC=P(Pu=>{"use strict";d();l();Object.defineProperty(Pu,"__esModule",{value:!0});var SC=Or(),KE=hc();function rre(t){if(t.key[0]!==SC.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],o=t.value[e++],i=KE.decode(t.value,e);e+=KE.encodingLength(i),r.push({depth:n,leafVersion:o,script:t.value.slice(e,e+i)}),e+=i}return{leaves:r}}Pu.decode=rre;function nre(t){let e=Buffer.from([SC.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[Buffer.of(n.depth,n.leafVersion),KE.encode(n.script.length),n.script]));return{key:e,value:Buffer.concat(r)}}Pu.encode=nre;Pu.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function ore(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&Buffer.isBuffer(e.script))}Pu.check=ore;function ire(t,e){return!!t&&!!e&&t.tapTree===void 0}Pu.canAdd=ire});var qE=P(VE=>{"use strict";d();l();Object.defineProperty(VE,"__esModule",{value:!0});var sre=t=>[...Array(t).keys()],are=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function cre(t,e=are){function r(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+a.key.toString("hex"));let c=a.key.slice(1);if(!e(c))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+a.key.toString("hex"));if(a.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let u={masterFingerprint:a.value.slice(0,4),pubkey:c,path:"m"};for(let h of sre(a.value.length/4-1)){let f=a.value.readUInt32LE(h*4+4),p=!!(f&2147483648),m=f&2147483647;u.path+="/"+m.toString(10)+(p?"'":"")}return u}function n(a){let c=Buffer.from([t]),u=Buffer.concat([c,a.pubkey]),h=a.path.split("/"),f=Buffer.allocUnsafe(h.length*4);a.masterFingerprint.copy(f,0);let p=4;return h.slice(1).forEach(m=>{let g=m.slice(-1)==="'",x=2147483647&parseInt(g?m.slice(0,-1):m,10);g&&(x+=2147483648),f.writeUInt32LE(x,p),p+=4}),{key:u,value:f}}let o="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function i(a){return Buffer.isBuffer(a.pubkey)&&Buffer.isBuffer(a.masterFingerprint)&&typeof a.path=="string"&&e(a.pubkey)&&a.masterFingerprint.length===4}function s(a,c,u){let h=c.pubkey.toString("hex");return u.has(h)?!1:(u.add(h),a.filter(f=>f.pubkey.equals(c.pubkey)).length===0)}return{decode:r,encode:n,check:i,expected:o,canAddToArray:s}}VE.makeConverter=cre});var EC=P(zE=>{"use strict";d();l();Object.defineProperty(zE,"__esModule",{value:!0});function ure(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}zE.makeChecker=ure});var IC=P(jE=>{"use strict";d();l();Object.defineProperty(jE,"__esModule",{value:!0});function fre(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function o(s){return Buffer.isBuffer(s)}function i(s,a){return!!s&&!!a&&s.redeemScript===void 0}return{decode:e,encode:r,check:o,expected:n,canAdd:i}}jE.makeConverter=fre});var kC=P(WE=>{"use strict";d();l();Object.defineProperty(WE,"__esModule",{value:!0});var ex=hc(),dre=qE(),lre=t=>t.length===32;function hre(t){let e=dre.makeConverter(t,lre);function r(s){let a=ex.decode(s.value),c=ex.encodingLength(a),u=e.decode({key:s.key,value:s.value.slice(c+a*32)}),h=new Array(a);for(let f=0,p=c;f<a;f++,p+=32)h[f]=s.value.slice(p,p+32);return Object.assign({},u,{leafHashes:h})}function n(s){let a=e.encode(s),c=ex.encodingLength(s.leafHashes.length),u=Buffer.allocUnsafe(c);ex.encode(s.leafHashes.length,u);let h=Buffer.concat([u,...s.leafHashes,a.value]);return Object.assign({},a,{value:h})}let o="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function i(s){return Array.isArray(s.leafHashes)&&s.leafHashes.every(a=>Buffer.isBuffer(a)&&a.length===32)&&e.check(s)}return{decode:r,encode:n,check:i,expected:o,canAddToArray:e.canAddToArray}}WE.makeConverter=hre});var TC=P(GE=>{"use strict";d();l();Object.defineProperty(GE,"__esModule",{value:!0});function pre(t){function e(s){if(s.key[0]!==t||s.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+s.key.toString("hex"));if(s.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function o(s){return Buffer.isBuffer(s)&&s.length===32}function i(s,a){return!!s&&!!a&&s.tapInternalKey===void 0}return{decode:e,encode:r,check:o,expected:n,canAdd:i}}GE.makeConverter=pre});var _C=P($E=>{"use strict";d();l();Object.defineProperty($E,"__esModule",{value:!0});function yre(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function o(s){return Buffer.isBuffer(s)}function i(s,a){return!!s&&!!a&&s.witnessScript===void 0}return{decode:e,encode:r,check:o,expected:n,canAdd:i}}$E.makeConverter=yre});var tx=P(Eh=>{"use strict";d();l();Object.defineProperty(Eh,"__esModule",{value:!0});var to=Or(),mre=WB(),gre=GB(),bre=QB(),xre=JB(),wre=ZB(),Are=tC(),Sre=nC(),vre=iC(),Ere=cC(),Ire=fC(),kre=hC(),Tre=yC(),_re=AC(),Pre=vC(),PC=qE(),QE=EC(),BC=IC(),CC=kC(),DC=TC(),OC=_C(),Bre={unsignedTx:gre,globalXpub:mre,checkPubkey:QE.makeChecker([])};Eh.globals=Bre;var Cre={nonWitnessUtxo:wre,partialSig:Are,sighashType:vre,finalScriptSig:bre,finalScriptWitness:xre,porCommitment:Sre,witnessUtxo:_re,bip32Derivation:PC.makeConverter(to.InputTypes.BIP32_DERIVATION),redeemScript:BC.makeConverter(to.InputTypes.REDEEM_SCRIPT),witnessScript:OC.makeConverter(to.InputTypes.WITNESS_SCRIPT),checkPubkey:QE.makeChecker([to.InputTypes.PARTIAL_SIG,to.InputTypes.BIP32_DERIVATION]),tapKeySig:Ere,tapScriptSig:Tre,tapLeafScript:Ire,tapBip32Derivation:CC.makeConverter(to.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:DC.makeConverter(to.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:kre};Eh.inputs=Cre;var Dre={bip32Derivation:PC.makeConverter(to.OutputTypes.BIP32_DERIVATION),redeemScript:BC.makeConverter(to.OutputTypes.REDEEM_SCRIPT),witnessScript:OC.makeConverter(to.OutputTypes.WITNESS_SCRIPT),checkPubkey:QE.makeChecker([to.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:CC.makeConverter(to.OutputTypes.TAP_BIP32_DERIVATION),tapTree:Pre,tapInternalKey:DC.makeConverter(to.OutputTypes.TAP_INTERNAL_KEY)};Eh.outputs=Dre});var UC=P(Ih=>{"use strict";d();l();Object.defineProperty(Ih,"__esModule",{value:!0});var Rt=tx(),rx=Xb(),NC=hc(),Ue=Or();function Ore(t,e){let r=0;function n(){let w=NC.decode(t,r);r+=NC.encodingLength(w);let S=t.slice(r,r+w);return r+=w,S}function o(){let w=t.readUInt32BE(r);return r+=4,w}function i(){let w=t.readUInt8(r);return r+=1,w}function s(){let w=n(),S=n();return{key:w,value:S}}function a(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let w=t.readUInt8(r)===0;return w&&r++,w}if(o()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(i()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let c=[],u={};for(;!a();){let w=s(),S=w.key.toString("hex");if(u[S])throw new Error("Format Error: Keys must be unique for global keymap: key "+S);u[S]=1,c.push(w)}let h=c.filter(w=>w.key[0]===Ue.GlobalTypes.UNSIGNED_TX);if(h.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let f=e(h[0].value),{inputCount:p,outputCount:m}=f.getInputOutputCounts(),g=[],x=[];for(let w of rx.range(p)){let S={},k=[];for(;!a();){let A=s(),T=A.key.toString("hex");if(S[T])throw new Error("Format Error: Keys must be unique for each input: input index "+w+" key "+T);S[T]=1,k.push(A)}g.push(k)}for(let w of rx.range(m)){let S={},k=[];for(;!a();){let A=s(),T=A.key.toString("hex");if(S[T])throw new Error("Format Error: Keys must be unique for each output: output index "+w+" key "+T);S[T]=1,k.push(A)}x.push(k)}return RC(f,{globalMapKeyVals:c,inputKeyVals:g,outputKeyVals:x})}Ih.psbtFromBuffer=Ore;function qr(t,e,r){if(!e.equals(Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}Ih.checkKeyBuffer=qr;function RC(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let o={unsignedTx:t},i=0;for(let h of e)switch(h.key[0]){case Ue.GlobalTypes.UNSIGNED_TX:if(qr("global",h.key,Ue.GlobalTypes.UNSIGNED_TX),i>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");i++;break;case Ue.GlobalTypes.GLOBAL_XPUB:o.globalXpub===void 0&&(o.globalXpub=[]),o.globalXpub.push(Rt.globals.globalXpub.decode(h));break;default:o.unknownKeyVals||(o.unknownKeyVals=[]),o.unknownKeyVals.push(h)}let s=r.length,a=n.length,c=[],u=[];for(let h of rx.range(s)){let f={};for(let p of r[h])switch(Rt.inputs.checkPubkey(p),p.key[0]){case Ue.InputTypes.NON_WITNESS_UTXO:if(qr("input",p.key,Ue.InputTypes.NON_WITNESS_UTXO),f.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");f.nonWitnessUtxo=Rt.inputs.nonWitnessUtxo.decode(p);break;case Ue.InputTypes.WITNESS_UTXO:if(qr("input",p.key,Ue.InputTypes.WITNESS_UTXO),f.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");f.witnessUtxo=Rt.inputs.witnessUtxo.decode(p);break;case Ue.InputTypes.PARTIAL_SIG:f.partialSig===void 0&&(f.partialSig=[]),f.partialSig.push(Rt.inputs.partialSig.decode(p));break;case Ue.InputTypes.SIGHASH_TYPE:if(qr("input",p.key,Ue.InputTypes.SIGHASH_TYPE),f.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");f.sighashType=Rt.inputs.sighashType.decode(p);break;case Ue.InputTypes.REDEEM_SCRIPT:if(qr("input",p.key,Ue.InputTypes.REDEEM_SCRIPT),f.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");f.redeemScript=Rt.inputs.redeemScript.decode(p);break;case Ue.InputTypes.WITNESS_SCRIPT:if(qr("input",p.key,Ue.InputTypes.WITNESS_SCRIPT),f.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");f.witnessScript=Rt.inputs.witnessScript.decode(p);break;case Ue.InputTypes.BIP32_DERIVATION:f.bip32Derivation===void 0&&(f.bip32Derivation=[]),f.bip32Derivation.push(Rt.inputs.bip32Derivation.decode(p));break;case Ue.InputTypes.FINAL_SCRIPTSIG:qr("input",p.key,Ue.InputTypes.FINAL_SCRIPTSIG),f.finalScriptSig=Rt.inputs.finalScriptSig.decode(p);break;case Ue.InputTypes.FINAL_SCRIPTWITNESS:qr("input",p.key,Ue.InputTypes.FINAL_SCRIPTWITNESS),f.finalScriptWitness=Rt.inputs.finalScriptWitness.decode(p);break;case Ue.InputTypes.POR_COMMITMENT:qr("input",p.key,Ue.InputTypes.POR_COMMITMENT),f.porCommitment=Rt.inputs.porCommitment.decode(p);break;case Ue.InputTypes.TAP_KEY_SIG:qr("input",p.key,Ue.InputTypes.TAP_KEY_SIG),f.tapKeySig=Rt.inputs.tapKeySig.decode(p);break;case Ue.InputTypes.TAP_SCRIPT_SIG:f.tapScriptSig===void 0&&(f.tapScriptSig=[]),f.tapScriptSig.push(Rt.inputs.tapScriptSig.decode(p));break;case Ue.InputTypes.TAP_LEAF_SCRIPT:f.tapLeafScript===void 0&&(f.tapLeafScript=[]),f.tapLeafScript.push(Rt.inputs.tapLeafScript.decode(p));break;case Ue.InputTypes.TAP_BIP32_DERIVATION:f.tapBip32Derivation===void 0&&(f.tapBip32Derivation=[]),f.tapBip32Derivation.push(Rt.inputs.tapBip32Derivation.decode(p));break;case Ue.InputTypes.TAP_INTERNAL_KEY:qr("input",p.key,Ue.InputTypes.TAP_INTERNAL_KEY),f.tapInternalKey=Rt.inputs.tapInternalKey.decode(p);break;case Ue.InputTypes.TAP_MERKLE_ROOT:qr("input",p.key,Ue.InputTypes.TAP_MERKLE_ROOT),f.tapMerkleRoot=Rt.inputs.tapMerkleRoot.decode(p);break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(p)}c.push(f)}for(let h of rx.range(a)){let f={};for(let p of n[h])switch(Rt.outputs.checkPubkey(p),p.key[0]){case Ue.OutputTypes.REDEEM_SCRIPT:if(qr("output",p.key,Ue.OutputTypes.REDEEM_SCRIPT),f.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");f.redeemScript=Rt.outputs.redeemScript.decode(p);break;case Ue.OutputTypes.WITNESS_SCRIPT:if(qr("output",p.key,Ue.OutputTypes.WITNESS_SCRIPT),f.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");f.witnessScript=Rt.outputs.witnessScript.decode(p);break;case Ue.OutputTypes.BIP32_DERIVATION:f.bip32Derivation===void 0&&(f.bip32Derivation=[]),f.bip32Derivation.push(Rt.outputs.bip32Derivation.decode(p));break;case Ue.OutputTypes.TAP_INTERNAL_KEY:qr("output",p.key,Ue.OutputTypes.TAP_INTERNAL_KEY),f.tapInternalKey=Rt.outputs.tapInternalKey.decode(p);break;case Ue.OutputTypes.TAP_TREE:qr("output",p.key,Ue.OutputTypes.TAP_TREE),f.tapTree=Rt.outputs.tapTree.decode(p);break;case Ue.OutputTypes.TAP_BIP32_DERIVATION:f.tapBip32Derivation===void 0&&(f.tapBip32Derivation=[]),f.tapBip32Derivation.push(Rt.outputs.tapBip32Derivation.decode(p));break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(p)}u.push(f)}return{globalMap:o,inputs:c,outputs:u}}Ih.psbtFromKeyVals=RC});var FC=P(nx=>{"use strict";d();l();Object.defineProperty(nx,"__esModule",{value:!0});var YE=tx(),LC=Xb();function Nre({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:o,outputKeyVals:i}=MC({globalMap:t,inputs:e,outputs:r}),s=LC.keyValsToBuffer(n),a=f=>f.length===0?[Buffer.from([0])]:f.map(LC.keyValsToBuffer),c=a(o),u=a(i),h=Buffer.allocUnsafe(5);return h.writeUIntBE(482972169471,0,5),Buffer.concat([h,s].concat(c,u))}nx.psbtToBuffer=Nre;var Rre=(t,e)=>t.key.compare(e.key);function JE(t,e){let r=new Set,n=Object.entries(t).reduce((i,[s,a])=>{if(s==="unknownKeyVals")return i;let c=e[s];if(c===void 0)return i;let u=(Array.isArray(a)?a:[a]).map(c.encode);return u.map(f=>f.key.toString("hex")).forEach(f=>{if(r.has(f))throw new Error("Serialize Error: Duplicate key: "+f);r.add(f)}),i.concat(u)},[]),o=t.unknownKeyVals?t.unknownKeyVals.filter(i=>!r.has(i.key.toString("hex"))):[];return n.concat(o).sort(Rre)}function MC({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:JE(t,YE.globals),inputKeyVals:e.map(n=>JE(n,YE.inputs)),outputKeyVals:r.map(n=>JE(n,YE.outputs))}}nx.psbtToKeyVals=MC});var XE=P(ox=>{"use strict";d();l();function HC(t){for(var e in t)ox.hasOwnProperty(e)||(ox[e]=t[e])}Object.defineProperty(ox,"__esModule",{value:!0});HC(UC());HC(FC())});var VC=P(t3=>{"use strict";d();l();Object.defineProperty(t3,"__esModule",{value:!0});var ZE=XE();function Ure(t){let e=t[0],r=ZE.psbtToKeyVals(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let o=KC(e);if(o===void 0)throw new Error("Combine: Self missing transaction");let i=Fd(r.globalKeyVals),s=r.inputKeyVals.map(Fd),a=r.outputKeyVals.map(Fd);for(let c of n){let u=KC(c);if(u===void 0||!u.toBuffer().equals(o.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let h=ZE.psbtToKeyVals(c);Fd(h.globalKeyVals).forEach(e3(i,r.globalKeyVals,h.globalKeyVals)),h.inputKeyVals.map(Fd).forEach((g,x)=>g.forEach(e3(s[x],r.inputKeyVals[x],h.inputKeyVals[x]))),h.outputKeyVals.map(Fd).forEach((g,x)=>g.forEach(e3(a[x],r.outputKeyVals[x],h.outputKeyVals[x])))}return ZE.psbtFromKeyVals(o,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}t3.combine=Ure;function e3(t,e,r){return n=>{if(t.has(n))return;let o=r.filter(i=>i.key.toString("hex")===n)[0];e.push(o),t.add(n)}}function KC(t){return t.globalMap.unsignedTx}function Fd(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}});var n3=P(cn=>{"use strict";d();l();Object.defineProperty(cn,"__esModule",{value:!0});var Lre=tx();function zC(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}cn.checkForInput=zC;function jC(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}cn.checkForOutput=jC;function Mre(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}cn.checkHasKey=Mre;function Fre(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}cn.getEnumLength=Fre;function Hre(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,o=!!e.witnessScript,i=!n||!!e.finalScriptSig,s=!o||!!e.finalScriptWitness,a=!!e.finalScriptSig||!!e.finalScriptWitness;r=i&&s&&a}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}cn.inputCheckUncleanFinalized=Hre;function qC(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function r3(t){return(e,r)=>{for(let n of Object.keys(e)){let o=e[n],{canAdd:i,canAddToArray:s,check:a,expected:c}=Lre[t+"s"][n]||{},u=!!s;if(a)if(u){if(!Array.isArray(o)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);o.every(a)||qC(t,n,c,o);let h=r[n]||[],f=new Set;if(!o.every(p=>s(h,p,f)))throw new Error("Can not add duplicate data to array");r[n]=h.concat(o)}else{if(a(o)||qC(t,n,c,o),!i(r,o))throw new Error(`Can not add duplicate data to ${t}`);r[n]=o}}}}cn.updateGlobal=r3("global");cn.updateInput=r3("input");cn.updateOutput=r3("output");function Kre(t,e){let r=t.length-1,n=zC(t,r);cn.updateInput(e,n)}cn.addInputAttributes=Kre;function Vre(t,e){let r=t.length-1,n=jC(t,r);cn.updateOutput(e,n)}cn.addOutputAttributes=Vre;function qre(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}cn.defaultVersionSetter=qre;function zre(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}cn.defaultLocktimeSetter=zre});var GC=P(s3=>{"use strict";d();l();Object.defineProperty(s3,"__esModule",{value:!0});var jre=VC(),WC=XE(),o3=Or(),zr=n3(),i3=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,r){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=WC.psbtFromBuffer(e,r),o=new this(n.globalMap.unsignedTx);return Object.assign(o,n),o}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return WC.psbtToBuffer(this)}updateGlobal(e){return zr.updateGlobal(e,this.globalMap),this}updateInput(e,r){let n=zr.checkForInput(this.inputs,e);return zr.updateInput(r,n),this}updateOutput(e,r){let n=zr.checkForOutput(this.outputs,e);return zr.updateOutput(r,n),this}addUnknownKeyValToGlobal(e){return zr.checkHasKey(e,this.globalMap.unknownKeyVals,zr.getEnumLength(o3.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=zr.checkForInput(this.inputs,e);return zr.checkHasKey(r,n.unknownKeyVals,zr.getEnumLength(o3.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=zr.checkForOutput(this.outputs,e);return zr.checkHasKey(r,n.unknownKeyVals,zr.getEnumLength(o3.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(o=>this.addUnknownKeyValToInput(n,o)),zr.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(o=>this.addUnknownKeyValToOutput(n,o)),zr.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let r=zr.checkForInput(this.inputs,e);zr.inputCheckUncleanFinalized(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=jre.combine([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};s3.Psbt=i3});var sx=P(_t=>{"use strict";d();l();Object.defineProperty(_t,"__esModule",{value:!0});_t.signatureBlocksAction=_t.checkInputForSig=_t.pubkeyInScript=_t.pubkeyPositionInScript=_t.witnessStackToScriptWitness=_t.isP2TR=_t.isP2SHScript=_t.isP2WSHScript=_t.isP2WPKH=_t.isP2PKH=_t.isP2PK=_t.isP2MS=void 0;var $C=hc(),kh=xn(),ix=Md(),Wre=Ri(),Bu=Ud();function Cu(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}_t.isP2MS=Cu(Bu.p2ms);_t.isP2PK=Cu(Bu.p2pk);_t.isP2PKH=Cu(Bu.p2pkh);_t.isP2WPKH=Cu(Bu.p2wpkh);_t.isP2WSHScript=Cu(Bu.p2wsh);_t.isP2SHScript=Cu(Bu.p2sh);_t.isP2TR=Cu(Bu.p2tr);function Gre(t){let e=Buffer.allocUnsafe(0);function r(s){e=Buffer.concat([e,Buffer.from(s)])}function n(s){let a=e.length,c=$C.encodingLength(s);e=Buffer.concat([e,Buffer.allocUnsafe(c)]),$C.encode(s,e,a)}function o(s){n(s.length),r(s)}function i(s){n(s.length),s.forEach(o)}return i(t),e}_t.witnessStackToScriptWitness=Gre;function QC(t,e){let r=(0,Wre.hash160)(t),n=t.slice(1,33),o=kh.decompile(e);if(o===null)throw new Error("Unknown script error");return o.findIndex(i=>typeof i=="number"?!1:i.equals(t)||i.equals(r)||i.equals(n))}_t.pubkeyPositionInScript=QC;function $re(t,e){return QC(t,e)!==-1}_t.pubkeyInScript=$re;function Qre(t,e){return Yre(t).some(n=>YC(n,kh.signature.decode,e))}_t.checkInputForSig=Qre;function YC(t,e,r){let{hashType:n}=e(t),o=[];switch(n&ix.Transaction.SIGHASH_ANYONECANPAY&&o.push("addInput"),n&31){case ix.Transaction.SIGHASH_ALL:break;case ix.Transaction.SIGHASH_SINGLE:case ix.Transaction.SIGHASH_NONE:o.push("addOutput"),o.push("setInputSequence");break}return o.indexOf(r)===-1}_t.signatureBlocksAction=YC;function Yre(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=Jre(t)}else e=t.partialSig;return e.map(r=>r.signature)}function Jre(t){let e=t.finalScriptSig?kh.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?kh.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>Buffer.isBuffer(n)&&kh.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}});var XC=P(Vt=>{"use strict";d();l();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.checkTaprootInputForSigs=Vt.tapTreeFromList=Vt.tapTreeToList=Vt.tweakInternalPubKey=Vt.checkTaprootOutputFields=Vt.checkTaprootInputFields=Vt.isTaprootOutput=Vt.isTaprootInput=Vt.serializeTaprootSignature=Vt.tapScriptFinalizer=Vt.toXOnly=void 0;var f3=Vr(),Xre=Md(),ux=sx(),yc=qb(),Zre=Ud(),ene=sx(),tne=t=>t.length===32?t:t.slice(1,33);Vt.toXOnly=tne;function rne(t,e,r){let n=wne(e,t,r);try{let i=bne(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,ux.witnessStackToScriptWitness)(i)}}catch(o){throw new Error(`Can not finalize taproot input #${t}: ${o}`)}}Vt.tapScriptFinalizer=rne;function nne(t,e){let r=e?Buffer.from([e]):Buffer.from([]);return Buffer.concat([t,r])}Vt.serializeTaprootSignature=nne;function ax(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,ux.isP2TR)(t.witnessUtxo.script))}Vt.isTaprootInput=ax;function cx(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,ux.isP2TR)(e))}Vt.isTaprootOutput=cx;function one(t,e,r){yne(t,e,r),gne(t,e,r)}Vt.checkTaprootInputFields=one;function ine(t,e,r){mne(t,e,r),sne(t,e)}Vt.checkTaprootOutputFields=ine;function sne(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:o}=t,i=ane(r,n);if(o&&!o.equals(i))throw new Error("Error adding output. Script or address missmatch.")}}function ane(t,e){let r=e&&JC(e.leaves),{output:n}=(0,Zre.p2tr)({internalPubkey:t,scriptTree:r});return n}function cne(t,e){let r=e.tapInternalKey,n=r&&(0,yc.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}Vt.tweakInternalPubKey=cne;function une(t){if(!(0,f3.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return c3(t)}Vt.tapTreeToList=une;function JC(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:pne(t)}Vt.tapTreeFromList=JC;function fne(t,e){return lne(t).some(n=>(0,ene.signatureBlocksAction)(n,dne,e))}Vt.checkTaprootInputForSigs=fne;function dne(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||Xre.Transaction.SIGHASH_DEFAULT}}function lne(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=hne(t.finalScriptWitness);r&&e.push(r)}return e}function hne(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}function c3(t,e=[],r=0){if(r>yc.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,f3.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||yc.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&c3(t[0],e,r+1),t[1]&&c3(t[1],e,r+1),e):[]}function pne(t){let e;for(let r of t)if(e=u3(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}function u3(t,e,r=0){if(r>yc.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,f3.isTapleaf)(e))return;let n=u3(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let o=u3(t,e&&e[1],r+1);if(o)return[e&&e[0],o]}function yne(t,e,r){let n=ax(t)&&Hd(e),o=Hd(t)&&ax(e),i=t===e&&ax(e)&&Hd(e);if(n||o||i)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function mne(t,e,r){let n=cx(t)&&Hd(e),o=Hd(t)&&cx(e),i=t===e&&cx(e)&&Hd(e);if(n||o||i)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function gne(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(i=>a3(i,e.tapMerkleRoot)),o=(t.tapLeafScript||[]).every(i=>a3(i,e.tapMerkleRoot));if(!n||!o)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(o=>a3(o,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}function a3(t,e){if(!e)return!0;let r=(0,yc.tapleafHash)({output:t.script,version:t.leafVersion});return(0,yc.rootHashFromPath)(t.controlBlock,r).equals(e)}function bne(t,e){let r=(0,yc.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>xne(e.script,n)).sort((n,o)=>o.positionInScript-n.positionInScript).map(n=>n.signature)}function xne(t,e){return Object.assign({positionInScript:(0,ux.pubkeyPositionInScript)(e.pubkey,t)},e)}function wne(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((o,i)=>o.controlBlock.length-i.controlBlock.length).find(o=>Ane(o,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}function Ane(t,e,r){let n=(0,yc.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(i=>i.leafHash.equals(n))!==void 0}function Hd(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}});var SD=P(mx=>{"use strict";d();l();Object.defineProperty(mx,"__esModule",{value:!0});mx.Psbt=void 0;var ZC=GC(),eD=hc(),En=n3(),tD=NE(),dx=wh(),Sne=Po(),Oo=Ud(),vne=qb(),_s=xn(),jr=Md(),Qt=XC(),hr=sx(),Ene={network:Sne.bitcoin,maximumFeeRate:5e3},l3=class t{static fromBase64(e,r={}){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=ZC.Psbt.fromBuffer(e,Ine),o=new t(r,n);return Bne(o.__CACHE.__TX,o.__CACHE),o}constructor(e={},r=new ZC.Psbt(new lx)){this.data=r,this.opts=Object.assign({},Ene,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=(o,i,s,a)=>Object.defineProperty(o,i,{enumerable:s,writable:a});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,dx.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,tD.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,dx.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=t.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){fx(e),this.opts.maximumFeeRate=e}setVersion(e){fx(e),Th(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){fx(e),Th(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){fx(r),Th(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,Qt.checkTaprootInputFields)(e,e,"addInput"),Th(this.data.inputs,"addInput"),e.witnessScript&&hx(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];lD(r,n);let o=this.data.inputs.length-1,i=this.data.inputs[o];return i.nonWitnessUtxo&&p3(this.__CACHE,i,o),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");Th(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:o}=this.opts,i=(0,tD.toOutputScript)(r,o);e=Object.assign(e,{script:i})}(0,Qt.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(fD))throw new Error("Not finalized");let r=this.__CACHE;if(e||Tne(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return bD(this.data.inputs,n,r,!0),n}getFeeRate(){return sD("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return sD("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,En.checkForInput)(this.data.inputs,0),_h(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,En.checkForInput)(this.data.inputs,e);return(0,Qt.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=Qt.tapScriptFinalizer){let o=(0,En.checkForInput)(this.data.inputs,e);if((0,Qt.isTaprootInput)(o))return this._finalizeTaprootInput(e,o,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=Cne){let{script:o,isP2SH:i,isP2WSH:s,isSegwit:a}=Rne(e,r,this.__CACHE);if(!o)throw new Error(`No script found for input #${e}`);_ne(r);let{finalScriptSig:c,finalScriptWitness:u}=n(e,r,o,a,i,s);if(c&&this.data.updateInput(e,{finalScriptSig:c}),u&&this.data.updateInput(e,{finalScriptWitness:u}),!c&&!u)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,o=Qt.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let i=Oo.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),s=(0,hr.witnessStackToScriptWitness)(i.witness);this.data.updateInput(e,{finalScriptWitness:s})}else{let{finalScriptWitness:i}=o(e,r,n);this.data.updateInput(e,{finalScriptWitness:i})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,En.checkForInput)(this.data.inputs,e),n=xD(e,r,this.__CACHE),o=yx(n,e,"input",r.redeemScript||Hne(r.finalScriptSig),r.witnessScript||Kne(r.finalScriptWitness)),i=o.type==="raw"?"":o.type+"-",s=AD(o.meaningfulScript);return i+s}inputHasPubkey(e,r){let n=(0,En.checkForInput)(this.data.inputs,e);return Mne(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,En.checkForInput)(this.data.inputs,e),o=nD(r);return!!n.bip32Derivation&&n.bip32Derivation.some(o)}outputHasPubkey(e,r){let n=(0,En.checkForOutput)(this.data.outputs,e);return Fne(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,En.checkForOutput)(this.data.outputs,e),o=nD(r);return!!n.bip32Derivation&&n.bip32Derivation.some(o)}validateSignaturesOfAllInputs(e){return(0,En.checkForInput)(this.data.inputs,0),_h(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,o)=>o===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let o=this.data.inputs[e];return(0,Qt.isTaprootInput)(o)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let o=this.data.inputs[e],i=(o||{}).partialSig;if(!o||!i||i.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let s=n?i.filter(f=>f.pubkey.equals(n)):i;if(s.length<1)throw new Error("No signatures for this pubkey");let a=[],c,u,h;for(let f of s){let p=_s.signature.decode(f.signature),{hash:m,script:g}=h!==p.hashType?pD(e,Object.assign({},o,{sighashType:p.hashType}),this.__CACHE,!0):{hash:c,script:u};h=p.hashType,c=m,u=g,dD(f.pubkey,g,"verify"),a.push(r(f.pubkey,m,p.signature))}return a.every(f=>f===!0)}validateSignaturesOfTaprootInput(e,r,n){let o=this.data.inputs[e],i=(o||{}).tapKeySig,s=(o||{}).tapScriptSig;if(!o&&!i&&!(s&&!s.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,Qt.toXOnly)(n);let a=n?h3(e,o,this.data.inputs,n,this.__CACHE):One(e,o,this.data.inputs,this.__CACHE);if(!a.length)throw new Error("No signatures for this pubkey");let c=a.find(h=>!h.leafHash),u=0;if(i&&c){if(!r(c.pubkey,c.hash,cD(i)))return!1;u++}if(s)for(let h of s){let f=a.find(p=>h.pubkey.equals(p.pubkey));if(f){if(!r(h.pubkey,f.hash,cD(h.signature)))return!1;u++}}return u>0}signAllInputsHD(e,r=[jr.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let o of _h(this.data.inputs.length))try{this.signInputHD(o,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(o=>o===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[jr.Transaction.SIGHASH_ALL]){return new Promise((n,o)=>{if(!e||!e.publicKey||!e.fingerprint)return o(new Error("Need HDSigner to sign input"));let i=[],s=[];for(let a of _h(this.data.inputs.length))s.push(this.signInputHDAsync(a,e,r).then(()=>{i.push(!0)},()=>{i.push(!1)}));return Promise.all(s).then(()=>{if(i.every(a=>a===!1))return o(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[jr.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return uD(e,this.data.inputs,r).forEach(i=>this.signInput(e,i,n)),this}signInputHDAsync(e,r,n=[jr.Transaction.SIGHASH_ALL]){return new Promise((o,i)=>{if(!r||!r.publicKey||!r.fingerprint)return i(new Error("Need HDSigner to sign input"));let a=uD(e,this.data.inputs,r).map(c=>this.signInputAsync(e,c,n));return Promise.all(a).then(()=>{o()}).catch(i)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let o of _h(this.data.inputs.length))try{this.signInput(o,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(o=>o===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,o)=>{if(!e||!e.publicKey)return o(new Error("Need Signer to sign input"));let i=[],s=[];for(let[a]of this.data.inputs.entries())s.push(this.signInputAsync(a,e,r).then(()=>{i.push(!0)},()=>{i.push(!1)}));return Promise.all(s).then(()=>{if(i.every(a=>a===!1))return o(new Error("No inputs were signed"));n()})})}signInput(e,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let o=(0,En.checkForInput)(this.data.inputs,e);return(0,Qt.isTaprootInput)(o)?this._signTaprootInput(e,o,r,void 0,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,o){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,En.checkForInput)(this.data.inputs,e);if((0,Qt.isTaprootInput)(i))return this._signTaprootInput(e,i,r,n,o);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,r,n=[jr.Transaction.SIGHASH_ALL]){let{hash:o,sighashType:i}=aD(this.data.inputs,e,r.publicKey,this.__CACHE,n),s=[{pubkey:r.publicKey,signature:_s.signature.encode(r.sign(o),i)}];return this.data.updateInput(e,{partialSig:s}),this}_signTaprootInput(e,r,n,o,i=[jr.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(e,r,n,o,i),a=s.filter(u=>!u.leafHash).map(u=>(0,Qt.serializeTaprootSignature)(n.signSchnorr(u.hash),r.sighashType))[0],c=s.filter(u=>!!u.leafHash).map(u=>({pubkey:(0,Qt.toXOnly)(n.publicKey),signature:(0,Qt.serializeTaprootSignature)(n.signSchnorr(u.hash),r.sighashType),leafHash:u.leafHash}));return a&&this.data.updateInput(e,{tapKeySig:a}),c.length&&this.data.updateInput(e,{tapScriptSig:c}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let o=(0,En.checkForInput)(this.data.inputs,e);return(0,Qt.isTaprootInput)(o)?this._signTaprootInputAsync(e,o,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,o){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,En.checkForInput)(this.data.inputs,e);if((0,Qt.isTaprootInput)(i))return this._signTaprootInputAsync(e,i,r,n,o);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[jr.Transaction.SIGHASH_ALL]){let{hash:o,sighashType:i}=aD(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(o)).then(s=>{let a=[{pubkey:r.publicKey,signature:_s.signature.encode(s,i)}];this.data.updateInput(e,{partialSig:a})})}async _signTaprootInputAsync(e,r,n,o,i=[jr.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(e,r,n,o,i),a=[],c=s.filter(h=>!h.leafHash)[0];if(c){let h=Promise.resolve(n.signSchnorr(c.hash)).then(f=>({tapKeySig:(0,Qt.serializeTaprootSignature)(f,r.sighashType)}));a.push(h)}let u=s.filter(h=>!!h.leafHash);if(u.length){let h=u.map(f=>Promise.resolve(n.signSchnorr(f.hash)).then(p=>({tapScriptSig:[{pubkey:(0,Qt.toXOnly)(n.publicKey),signature:(0,Qt.serializeTaprootSignature)(p,r.sighashType),leafHash:f.leafHash}]})));a.push(...h)}return Promise.all(a).then(h=>{h.forEach(f=>this.data.updateInput(e,f))})}checkTaprootHashesForSig(e,r,n,o,i){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let s=h3(e,r,this.data.inputs,n.publicKey,this.__CACHE,o,i);if(!s||!s.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return s}toBuffer(){return d3(this.__CACHE),this.data.toBuffer()}toHex(){return d3(this.__CACHE),this.data.toHex()}toBase64(){return d3(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&hx(r.witnessScript),(0,Qt.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&p3(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,Qt.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}};mx.Psbt=l3;var Ine=t=>new lx(t),lx=class{constructor(e=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=jr.Transaction.fromBuffer(e),Pne(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,dx.reverseBuffer)(Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function kne(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return rD(1,t.partialSig);case"multisig":let n=Oo.p2ms({output:e});return rD(n.m,t.partialSig,n.pubkeys);default:return!1}}function d3(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function rD(t,e,r){if(!e)return!1;let n;if(r?n=r.map(o=>{let i=Vne(o);return e.find(s=>s.pubkey.equals(i))}).filter(o=>!!o):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}function fD(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function nD(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}function fx(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function Tne(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),o=e.__EXTRACTED_TX.virtualSize(),i=n*o;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(i/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${o} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function Th(t,e){t.forEach(r=>{if((0,Qt.isTaprootInput)(r)?(0,Qt.checkTaprootInputForSigs)(r,e):(0,hr.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}function _ne(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:o}=_s.signature.decode(n.signature);if(r!==o)throw new Error("Signature sighash does not match input sighash type")})}function dD(t,e,r){if(!(0,hr.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function Pne(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function Bne(t,e){t.ins.forEach(r=>{lD(e,r)})}function lD(t,e){let r=(0,dx.reverseBuffer)(Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function hD(t,e){return(r,n,o,i)=>{let s=t({redeem:{output:o}}).output;if(!n.equals(s))throw new Error(`${e} for ${i} #${r} doesn't match the scriptPubKey in the prevout`)}}var oD=hD(Oo.p2sh,"Redeem script"),iD=hD(Oo.p2wsh,"Witness script");function sD(t,e,r,n){if(!r.every(fD))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let o,i=!0;if(n.__EXTRACTED_TX?(o=n.__EXTRACTED_TX,i=!1):o=n.__TX.clone(),bD(r,o,n,i),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}function Cne(t,e,r,n,o,i){let s=AD(r);if(!kne(e,r,s))throw new Error(`Can not finalize input #${t}`);return Dne(r,s,e.partialSig,n,o,i)}function Dne(t,e,r,n,o,i){let s,a,c=Nne(t,e,r),u=i?Oo.p2wsh({redeem:c}):null,h=o?Oo.p2sh({redeem:u||c}):null;return n?(u?a=(0,hr.witnessStackToScriptWitness)(u.witness):a=(0,hr.witnessStackToScriptWitness)(c.witness),h&&(s=h.input)):h?s=h.input:s=c.input,{finalScriptSig:s,finalScriptWitness:a}}function aD(t,e,r,n,o){let i=(0,En.checkForInput)(t,e),{hash:s,sighashType:a,script:c}=pD(e,i,n,!1,o);return dD(r,c,"sign"),{hash:s,sighashType:a}}function pD(t,e,r,n,o){let i=r.__TX,s=e.sighashType||jr.Transaction.SIGHASH_ALL;mD(s,o);let a,c;if(e.nonWitnessUtxo){let f=px(r,e,t),p=i.ins[t].hash,m=f.getHash();if(!p.equals(m))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let g=i.ins[t].index;c=f.outs[g]}else if(e.witnessUtxo)c=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:u,type:h}=yx(c.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(h)>=0)a=i.hashForWitnessV0(t,u,c.value,s);else if((0,hr.isP2WPKH)(u)){let f=Oo.p2pkh({hash:u.slice(2)}).output;a=i.hashForWitnessV0(t,f,c.value,s)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${u.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),a=i.hashForSignature(t,u,s)}return{script:u,sighashType:s,hash:a}}function One(t,e,r,n){let o=[];if(e.tapInternalKey){let s=yD(t,e,n);s&&o.push(s)}if(e.tapScriptSig){let s=e.tapScriptSig.map(a=>a.pubkey);o.push(...s)}return o.map(s=>h3(t,e,r,s,n)).flat()}function yD(t,e,r){let{script:n}=y3(t,e,r);return(0,hr.isP2TR)(n)?n.subarray(2,34):null}function cD(t){return t.length===64?t:t.subarray(0,64)}function h3(t,e,r,n,o,i,s){let a=o.__TX,c=e.sighashType||jr.Transaction.SIGHASH_DEFAULT;mD(c,s);let u=r.map((g,x)=>y3(x,g,o)),h=u.map(g=>g.script),f=u.map(g=>g.value),p=[];if(e.tapInternalKey&&!i){let g=yD(t,e,o)||Buffer.from([]);if((0,Qt.toXOnly)(n).equals(g)){let x=a.hashForWitnessV1(t,h,f,c);p.push({pubkey:n,hash:x})}}let m=(e.tapLeafScript||[]).filter(g=>(0,hr.pubkeyInScript)(n,g.script)).map(g=>{let x=(0,vne.tapleafHash)({output:g.script,version:g.leafVersion});return Object.assign({hash:x},g)}).filter(g=>!i||i.equals(g.hash)).map(g=>{let x=a.hashForWitnessV1(t,h,f,jr.Transaction.SIGHASH_DEFAULT,g.hash);return{pubkey:n,hash:x,leafHash:g.hash}});return p.concat(m)}function mD(t,e){if(e&&e.indexOf(t)<0){let r=Lne(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}function Nne(t,e,r){let n;switch(e){case"multisig":let o=Une(t,r);n=Oo.p2ms({output:t,signatures:o});break;case"pubkey":n=Oo.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=Oo.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=Oo.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function Rne(t,e,r){let n=r.__TX,o={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(o.isP2SH=!!e.redeemScript,o.isP2WSH=!!e.witnessScript,e.witnessScript)o.script=e.witnessScript;else if(e.redeemScript)o.script=e.redeemScript;else if(e.nonWitnessUtxo){let i=px(r,e,t),s=n.ins[t].index;o.script=i.outs[s].script}else e.witnessUtxo&&(o.script=e.witnessUtxo.script);return(e.witnessScript||(0,hr.isP2WPKH)(o.script))&&(o.isSegwit=!0),o}function uD(t,e,r){let n=(0,En.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let o=n.bip32Derivation.map(s=>{if(s.masterFingerprint.equals(r.fingerprint))return s}).filter(s=>!!s);if(o.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return o.map(s=>{let a=r.derivePath(s.path);if(!s.pubkey.equals(a.publicKey))throw new Error("pubkey did not match bip32Derivation");return a})}function Une(t,e){return Oo.p2ms({output:t}).pubkeys.map(n=>(e.filter(o=>o.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}function gD(t){let e=0;function r(s){return e+=s,t.slice(e-s,e)}function n(){let s=eD.decode(t,e);return e+=eD.decode.bytes,s}function o(){return r(n())}function i(){let s=n(),a=[];for(let c=0;c<s;c++)a.push(o());return a}return i()}function Lne(t){let e=t&jr.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case jr.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case jr.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case jr.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}function p3(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=jr.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let o=t,i=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let s=o.__NON_WITNESS_UTXO_BUF_CACHE[i],a=o.__NON_WITNESS_UTXO_TX_CACHE[i];if(s!==void 0)return s;{let c=a.toBuffer();return o.__NON_WITNESS_UTXO_BUF_CACHE[i]=c,c}},set(s){o.__NON_WITNESS_UTXO_BUF_CACHE[i]=s}})}function bD(t,e,r,n){let o=0;t.forEach((c,u)=>{if(n&&c.finalScriptSig&&(e.ins[u].script=c.finalScriptSig),n&&c.finalScriptWitness&&(e.ins[u].witness=gD(c.finalScriptWitness)),c.witnessUtxo)o+=c.witnessUtxo.value;else if(c.nonWitnessUtxo){let h=px(r,c,u),f=e.ins[u].index,p=h.outs[f];o+=p.value}});let i=e.outs.reduce((c,u)=>c+u.value,0),s=o-i;if(s<0)throw new Error("Outputs are spending more than Inputs");let a=e.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(s/a)}function px(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||p3(t,e,r),n[r]}function xD(t,e,r){let{script:n}=y3(t,e,r);return n}function y3(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let o=px(r,e,t).outs[r.__TX.ins[t].index];return{script:o.script,value:o.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function Mne(t,e,r,n){let o=xD(r,e,n),{meaningfulScript:i}=yx(o,r,"input",e.redeemScript,e.witnessScript);return(0,hr.pubkeyInScript)(t,i)}function Fne(t,e,r,n){let o=n.__TX.outs[r].script,{meaningfulScript:i}=yx(o,r,"output",e.redeemScript,e.witnessScript);return(0,hr.pubkeyInScript)(t,i)}function Hne(t){if(!t)return;let e=_s.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!Buffer.isBuffer(r)||wD(r)||qne(r)||!_s.decompile(r)))return r}function Kne(t){if(!t)return;let e=gD(t),r=e[e.length-1];if(!(wD(r)||!_s.decompile(r)))return r}function Vne(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}function wD(t){return t.length===33&&_s.isCanonicalPubKey(t)}function qne(t){return _s.isCanonicalScriptSignature(t)}function yx(t,e,r,n,o){let i=(0,hr.isP2SHScript)(t),s=i&&n&&(0,hr.isP2WSHScript)(n),a=(0,hr.isP2WSHScript)(t);if(i&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||s)&&o===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let c;return s?(c=o,oD(e,t,n,r),iD(e,n,o,r),hx(c)):a?(c=o,iD(e,t,o,r),hx(c)):i?(c=n,oD(e,t,n,r)):c=t,{meaningfulScript:c,type:s?"p2sh-p2wsh":i?"p2sh":a?"p2wsh":"raw"}}function hx(t){if((0,hr.isP2WPKH)(t)||(0,hr.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function AD(t){return(0,hr.isP2WPKH)(t)?"witnesspubkeyhash":(0,hr.isP2PKH)(t)?"pubkeyhash":(0,hr.isP2MS)(t)?"multisig":(0,hr.isP2PK)(t)?"pubkey":"nonstandard"}function _h(t){return[...Array(t).keys()]}});var m3=P(Zt=>{"use strict";d();l();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.initEccLib=Zt.Transaction=Zt.opcodes=Zt.Psbt=Zt.Block=Zt.script=Zt.payments=Zt.networks=Zt.crypto=Zt.address=void 0;var zne=NE();Zt.address=zne;var jne=Ri();Zt.crypto=jne;var Wne=Po();Zt.networks=Wne;var Gne=Ud();Zt.payments=Gne;var $ne=xn();Zt.script=$ne;var Qne=zB();Object.defineProperty(Zt,"Block",{enumerable:!0,get:function(){return Qne.Block}});var Yne=SD();Object.defineProperty(Zt,"Psbt",{enumerable:!0,get:function(){return Yne.Psbt}});var Jne=fb();Object.defineProperty(Zt,"opcodes",{enumerable:!0,get:function(){return Jne.OPS}});var Xne=Md();Object.defineProperty(Zt,"Transaction",{enumerable:!0,get:function(){return Xne.Transaction}});var Zne=Vb();Object.defineProperty(Zt,"initEccLib",{enumerable:!0,get:function(){return Zne.initEccLib}})});var Jd=P(Hx=>{"use strict";d();l();Object.defineProperty(Hx,"__esModule",{value:!0});Hx.AppAuthError=void 0;var Xoe=function(){function t(e,r){this.message=e,this.extras=r}return t}();Hx.AppAuthError=Xoe});var Kx=P(Vi=>{"use strict";d();l();Object.defineProperty(Vi,"__esModule",{value:!0});Vi.DefaultCrypto=Vi.textEncodeLite=Vi.urlSafe=Vi.bufferToString=void 0;var Zoe=I6(),EO=Jd(),IO=typeof self<"u"&&!!self.crypto,eie=IO&&!!self.crypto.subtle,e8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function kO(t){for(var e=[],r=0;r<t.byteLength;r+=1){var n=t[r]%e8.length;e.push(e8[n])}return e.join("")}Vi.bufferToString=kO;function TO(t){var e=Zoe.fromByteArray(new Uint8Array(t));return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}Vi.urlSafe=TO;function _O(t){for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}Vi.textEncodeLite=_O;var tie=function(){function t(){}return t.prototype.generateRandom=function(e){var r=new Uint8Array(e);if(IO)self.crypto.getRandomValues(r);else for(var n=0;n<e;n+=1)r[n]=Math.random()*e8.length|0;return kO(r)},t.prototype.deriveChallenge=function(e){return e.length<43||e.length>128?Promise.reject(new EO.AppAuthError("Invalid code length.")):eie?new Promise(function(r,n){self.crypto.subtle.digest("SHA-256",_O(e)).then(function(o){return r(TO(new Uint8Array(o)))},function(o){return n(o)})}):Promise.reject(new EO.AppAuthError("window.crypto.subtle is unavailable."))},t}();Vi.DefaultCrypto=tie});var t8=P(no=>{"use strict";d();l();Object.defineProperty(no,"__esModule",{value:!0});no.IS_PROFILE=no.IS_LOG=no.setFlag=no.Flags=void 0;no.Flags={IS_LOG:!0,IS_PROFILE:!1};function rie(t,e){no.Flags[t]=e}no.setFlag=rie;no.IS_LOG=no.Flags.IS_LOG,no.IS_PROFILE=no.Flags.IS_PROFILE});var Fh=P(Ac=>{"use strict";d();l();var r8=Ac&&Ac.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.profile=Ac.log=void 0;var PO=t8();function n8(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(PO.Flags.IS_LOG){var n=e?e.length:0;n>0?console.log.apply(console,r8([t],e,!1)):console.log(t)}}Ac.log=n8;var nie=typeof self<"u"&&!!self.performance&&!!console.profile;function oie(t,e,r){return PO.Flags.IS_PROFILE?iie(t,e,r):r}Ac.profile=oie;function iie(t,e,r){var n=r.value,o=n.name;return o||(o="anonymous function"),nie?r.value=function(i){console.profile(o);var s=self.performance.now(),a=n.call.apply(n,r8([this||self],i,!1)),c=self.performance.now()-s;return console.log("".concat(o," took ").concat(c," ms")),console.profileEnd(),a}:r.value=function(i){n8("Profile start ".concat(o));var s=Date.now(),a=n.call.apply(n,r8([this||self],i,!1)),c=Date.now()-s;return n8("Profile end ".concat(o," took ").concat(c," ms.")),a},r}});var o8=P(Vx=>{"use strict";d();l();Object.defineProperty(Vx,"__esModule",{value:!0});Vx.AuthorizationRequest=void 0;var sie=Kx(),aie=Fh(),cie=10,uie=function(t){return t.generateRandom(cie)},fie=function(){function t(e,r,n){r===void 0&&(r=new sie.DefaultCrypto),n===void 0&&(n=!0),this.crypto=r,this.usePkce=n,this.clientId=e.client_id,this.redirectUri=e.redirect_uri,this.scope=e.scope,this.responseType=e.response_type||t.RESPONSE_TYPE_CODE,this.state=e.state||uie(r),this.extras=e.extras,this.internal=e.internal}return t.prototype.setupCodeVerifier=function(){var e=this;if(this.usePkce){var r=this.crypto.generateRandom(128),n=this.crypto.deriveChallenge(r).catch(function(o){(0,aie.log)("Unable to generate PKCE challenge. Not using PKCE",o)});return n.then(function(o){o&&(e.internal=e.internal||{},e.internal.code_verifier=r,e.extras=e.extras||{},e.extras.code_challenge=o,e.extras.code_challenge_method="S256")})}else return Promise.resolve()},t.prototype.toJson=function(){var e=this;return this.setupCodeVerifier().then(function(){return{response_type:e.responseType,client_id:e.clientId,redirect_uri:e.redirectUri,scope:e.scope,state:e.state,extras:e.extras,internal:e.internal}})},t.RESPONSE_TYPE_TOKEN="token",t.RESPONSE_TYPE_CODE="code",t}();Vx.AuthorizationRequest=fie});var BO=P(qx=>{"use strict";d();l();Object.defineProperty(qx,"__esModule",{value:!0});qx.requireValidUrl=void 0;var die=Jd();function lie(t){try{return new URL(t),t}catch{throw new die.AppAuthError("Invalid input url ".concat(t))}}qx.requireValidUrl=lie});var s8=P(Cs=>{"use strict";d();l();Object.defineProperty(Cs,"__esModule",{value:!0});Cs.AuthorizationRequestHandler=Cs.BUILT_IN_PARAMETERS=Cs.AuthorizationNotifier=void 0;var i8=Fh(),hie=BO(),pie=function(){function t(){this.listener=null}return t.prototype.setAuthorizationListener=function(e){this.listener=e},t.prototype.onAuthorizationComplete=function(e,r,n){this.listener&&this.listener(e,r,n)},t}();Cs.AuthorizationNotifier=pie;Cs.BUILT_IN_PARAMETERS=["redirect_uri","client_id","response_type","state","scope"];var yie=function(){function t(e,r){this.utils=e,this.crypto=r,this.notifier=null}return t.prototype.buildRequestUrl=function(e,r){var n={redirect_uri:r.redirectUri,client_id:r.clientId,response_type:r.responseType,state:r.state,scope:r.scope};if(r.extras)for(var o in r.extras)r.extras.hasOwnProperty(o)&&Cs.BUILT_IN_PARAMETERS.indexOf(o)<0&&(n[o]=r.extras[o]);var i=this.utils.stringify(n),s=(0,hie.requireValidUrl)(e.authorizationEndpoint),a="".concat(s,"?").concat(i);return a},t.prototype.completeAuthorizationRequestIfPossible=function(){var e=this;return(0,i8.log)("Checking to see if there is an authorization response to be delivered."),this.notifier||(0,i8.log)(`Notifier is not present on AuthorizationRequest handler.
          No delivery of result will be possible`),this.completeAuthorizationRequest().then(function(r){r||(0,i8.log)("No result is available yet."),r&&e.notifier&&e.notifier.onAuthorizationComplete(r.request,r.response,r.error)})},t.prototype.setAuthorizationNotifier=function(e){return this.notifier=e,this},t}();Cs.AuthorizationRequestHandler=yie});var a8=P(Xd=>{"use strict";d();l();Object.defineProperty(Xd,"__esModule",{value:!0});Xd.AuthorizationError=Xd.AuthorizationResponse=void 0;var mie=function(){function t(e){this.code=e.code,this.state=e.state}return t.prototype.toJson=function(){return{code:this.code,state:this.state}},t}();Xd.AuthorizationResponse=mie;var gie=function(){function t(e){this.error=e.error,this.errorDescription=e.error_description,this.errorUri=e.error_uri,this.state=e.state}return t.prototype.toJson=function(){return{error:this.error,error_description:this.errorDescription,error_uri:this.errorUri,state:this.state}},t}();Xd.AuthorizationError=gie});var jx=P(No=>{"use strict";d();l();var u8=No&&No.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(No,"__esModule",{value:!0});No.TestRequestor=No.FetchRequestor=No.JQueryRequestor=No.Requestor=void 0;var c8=Jd(),zx=function(){function t(){}return t}();No.Requestor=zx;var bie=function(t){u8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.xhr=function(r){var n=$.ajax(r);return new Promise(function(o,i){n.then(function(s,a,c){o(s)},function(s,a,c){i(new c8.AppAuthError(c))})})},e}(zx);No.JQueryRequestor=bie;var xie=function(t){u8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.xhr=function(r){if(!r.url)return Promise.reject(new c8.AppAuthError("A URL must be provided."));var n=new URL(r.url),o={};if(o.method=r.method,o.mode="cors",r.data)if(r.method&&r.method.toUpperCase()==="POST")o.body=r.data;else{var i=new URLSearchParams(r.data);i.forEach(function(c,u){n.searchParams.append(u,c)})}if(o.headers={},r.headers)for(var s in r.headers)r.headers.hasOwnProperty(s)&&(o.headers[s]=r.headers[s]);var a=r.dataType&&r.dataType.toLowerCase()==="json";return a&&(o.headers.Accept="application/json, text/javascript, */*; q=0.01"),fetch(n.toString(),o).then(function(c){if(c.status>=200&&c.status<300){var u=c.headers.get("content-type");return a||u&&u.indexOf("application/json")!==-1?c.json():c.text()}else return Promise.reject(new c8.AppAuthError(c.status.toString(),c.statusText))})},e}(zx);No.FetchRequestor=xie;var wie=function(t){u8(e,t);function e(r){var n=t.call(this)||this;return n.promise=r,n}return e.prototype.xhr=function(r){return this.promise},e}(zx);No.TestRequestor=wie});var CO=P(Wx=>{"use strict";d();l();Object.defineProperty(Wx,"__esModule",{value:!0});Wx.AuthorizationServiceConfiguration=void 0;var Aie=jx(),Sie=".well-known",vie="openid-configuration",Eie=function(){function t(e){this.authorizationEndpoint=e.authorization_endpoint,this.tokenEndpoint=e.token_endpoint,this.revocationEndpoint=e.revocation_endpoint,this.userInfoEndpoint=e.userinfo_endpoint,this.endSessionEndpoint=e.end_session_endpoint}return t.prototype.toJson=function(){return{authorization_endpoint:this.authorizationEndpoint,token_endpoint:this.tokenEndpoint,revocation_endpoint:this.revocationEndpoint,end_session_endpoint:this.endSessionEndpoint,userinfo_endpoint:this.userInfoEndpoint}},t.fetchFromIssuer=function(e,r){var n="".concat(e,"/").concat(Sie,"/").concat(vie),o=r||new Aie.JQueryRequestor;return o.xhr({url:n,dataType:"json",method:"GET"}).then(function(i){return new t(i)})},t}();Wx.AuthorizationServiceConfiguration=Eie});var $x=P(Gx=>{"use strict";d();l();Object.defineProperty(Gx,"__esModule",{value:!0});Gx.BasicQueryStringUtils=void 0;var Iie=function(){function t(){}return t.prototype.parse=function(e,r){return r?this.parseQueryString(e.hash):this.parseQueryString(e.search)},t.prototype.parseQueryString=function(e){var r={};e=e.trim().replace(/^(\?|#|&)/,"");for(var n=e.split("&"),o=0;o<n.length;o+=1){var i=n[o],s=i.split("=");if(s.length>=2){var a=decodeURIComponent(s.shift()),c=s.length>0?s.join("="):null;c&&(r[a]=decodeURIComponent(c))}}return r},t.prototype.stringify=function(e){var r=[];for(var n in e)e.hasOwnProperty(n)&&e[n]&&r.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])));return r.join("&")},t}();Gx.BasicQueryStringUtils=Iie});var f8=P(Sc=>{"use strict";d();l();var kie=Sc&&Sc.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Sc,"__esModule",{value:!0});Sc.LocalStorageBackend=Sc.StorageBackend=void 0;var DO=function(){function t(){}return t}();Sc.StorageBackend=DO;var Tie=function(t){kie(e,t);function e(r){var n=t.call(this)||this;return n.storage=r||self.localStorage,n}return e.prototype.getItem=function(r){var n=this;return new Promise(function(o,i){var s=n.storage.getItem(r);o(s||null)})},e.prototype.removeItem=function(r){var n=this;return new Promise(function(o,i){n.storage.removeItem(r),o()})},e.prototype.clear=function(){var r=this;return new Promise(function(n,o){r.storage.clear(),n()})},e.prototype.setItem=function(r,n){var o=this;return new Promise(function(i,s){o.storage.setItem(r,n),i()})},e}(DO);Sc.LocalStorageBackend=Tie});var RO=P(Zd=>{"use strict";d();l();var _ie=Zd&&Zd.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Zd,"__esModule",{value:!0});Zd.RedirectRequestHandler=void 0;var Pie=o8(),Bie=s8(),OO=a8(),Cie=Kx(),Qx=Fh(),Die=$x(),Oie=f8(),d8=function(t){return"".concat(t,"_appauth_authorization_request")},NO=function(t){return"".concat(t,"_appauth_authorization_service_configuration")},l8="appauth_current_authorization_request",Nie=function(t){_ie(e,t);function e(r,n,o,i){r===void 0&&(r=new Oie.LocalStorageBackend),n===void 0&&(n=new Die.BasicQueryStringUtils),o===void 0&&(o=self.location),i===void 0&&(i=new Cie.DefaultCrypto);var s=t.call(this,n,i)||this;return s.storageBackend=r,s.locationLike=o,s}return e.prototype.performAuthorizationRequest=function(r,n){var o=this,i=this.crypto.generateRandom(10),s=Promise.all([this.storageBackend.setItem(l8,i),n.toJson().then(function(a){return o.storageBackend.setItem(d8(i),JSON.stringify(a))}),this.storageBackend.setItem(NO(i),JSON.stringify(r.toJson()))]);s.then(function(){var a=o.buildRequestUrl(r,n);(0,Qx.log)("Making a request to ",n,a),o.locationLike.assign(a)})},e.prototype.completeAuthorizationRequest=function(){var r=this;return this.storageBackend.getItem(l8).then(function(n){return n?r.storageBackend.getItem(d8(n)).then(function(o){return JSON.parse(o)}).then(function(o){return new Pie.AuthorizationRequest(o)}).then(function(o){var i="".concat(r.locationLike.origin).concat(r.locationLike.pathname),s=r.utils.parse(r.locationLike,!0),a=s.state,c=s.code,u=s.error;(0,Qx.log)("Potential authorization request ",i,s,a,c,u);var h=a===o.state,f=null,p=null;if(h){if(u){var m=s.error_uri,g=s.error_description;p=new OO.AuthorizationError({error:u,error_description:g,error_uri:m,state:a})}else f=new OO.AuthorizationResponse({code:c,state:a});return Promise.all([r.storageBackend.removeItem(l8),r.storageBackend.removeItem(d8(n)),r.storageBackend.removeItem(NO(n))]).then(function(){return(0,Qx.log)("Delivering authorization response"),{request:o,response:f,error:p}})}else return(0,Qx.log)("Mismatched request (state and request_uri) dont match."),Promise.resolve(null)}):null})},e}(Bie.AuthorizationRequestHandler);Zd.RedirectRequestHandler=Nie});var UO=P(Yx=>{"use strict";d();l();Object.defineProperty(Yx,"__esModule",{value:!0});Yx.RevokeTokenRequest=void 0;var Rie=function(){function t(e){this.token=e.token,this.tokenTypeHint=e.token_type_hint,this.clientId=e.client_id,this.clientSecret=e.client_secret}return t.prototype.toJson=function(){var e={token:this.token};return this.tokenTypeHint&&(e.token_type_hint=this.tokenTypeHint),this.clientId&&(e.client_id=this.clientId),this.clientSecret&&(e.client_secret=this.clientSecret),e},t.prototype.toStringMap=function(){var e=this.toJson();return e},t}();Yx.RevokeTokenRequest=Rie});var LO=P(vc=>{"use strict";d();l();Object.defineProperty(vc,"__esModule",{value:!0});vc.TokenRequest=vc.GRANT_TYPE_REFRESH_TOKEN=vc.GRANT_TYPE_AUTHORIZATION_CODE=void 0;vc.GRANT_TYPE_AUTHORIZATION_CODE="authorization_code";vc.GRANT_TYPE_REFRESH_TOKEN="refresh_token";var Uie=function(){function t(e){this.clientId=e.client_id,this.redirectUri=e.redirect_uri,this.grantType=e.grant_type,this.code=e.code,this.refreshToken=e.refresh_token,this.extras=e.extras}return t.prototype.toJson=function(){return{grant_type:this.grantType,code:this.code,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,client_id:this.clientId,extras:this.extras}},t.prototype.toStringMap=function(){var e={grant_type:this.grantType,client_id:this.clientId,redirect_uri:this.redirectUri};if(this.code&&(e.code=this.code),this.refreshToken&&(e.refresh_token=this.refreshToken),this.extras)for(var r in this.extras)this.extras.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=this.extras[r]);return e},t}();vc.TokenRequest=Uie});var h8=P(qi=>{"use strict";d();l();Object.defineProperty(qi,"__esModule",{value:!0});qi.TokenError=qi.TokenResponse=qi.nowInSeconds=void 0;var Lie=10*60*-1,Mie=function(){return Math.round(new Date().getTime()/1e3)};qi.nowInSeconds=Mie;var Fie=function(){function t(e){this.accessToken=e.access_token,this.tokenType=e.token_type||"bearer",e.expires_in&&(this.expiresIn=parseInt(e.expires_in,10)),this.refreshToken=e.refresh_token,this.scope=e.scope,this.idToken=e.id_token,this.issuedAt=e.issued_at||(0,qi.nowInSeconds)()}return t.prototype.toJson=function(){var e;return{access_token:this.accessToken,id_token:this.idToken,refresh_token:this.refreshToken,scope:this.scope,token_type:this.tokenType,issued_at:this.issuedAt,expires_in:(e=this.expiresIn)===null||e===void 0?void 0:e.toString()}},t.prototype.isValid=function(e){if(e===void 0&&(e=Lie),this.expiresIn){var r=(0,qi.nowInSeconds)();return r<this.issuedAt+this.expiresIn+e}else return!0},t}();qi.TokenResponse=Fie;var Hie=function(){function t(e){this.error=e.error,this.errorDescription=e.error_description,this.errorUri=e.error_uri}return t.prototype.toJson=function(){return{error:this.error,error_description:this.errorDescription,error_uri:this.errorUri}},t}();qi.TokenError=Hie});var FO=P(Jx=>{"use strict";d();l();Object.defineProperty(Jx,"__esModule",{value:!0});Jx.BaseTokenRequestHandler=void 0;var Kie=Jd(),Vie=$x(),MO=h8(),qie=jx(),zie=function(){function t(e,r){e===void 0&&(e=new qie.JQueryRequestor),r===void 0&&(r=new Vie.BasicQueryStringUtils),this.requestor=e,this.utils=r}return t.prototype.isTokenResponse=function(e){return e.error===void 0},t.prototype.performRevokeTokenRequest=function(e,r){var n=this.requestor.xhr({url:e.revocationEndpoint,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.utils.stringify(r.toStringMap())});return n.then(function(o){return!0})},t.prototype.performTokenRequest=function(e,r){var n=this,o=this.requestor.xhr({url:e.tokenEndpoint,method:"POST",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.utils.stringify(r.toStringMap())});return o.then(function(i){return n.isTokenResponse(i)?new MO.TokenResponse(i):Promise.reject(new Kie.AppAuthError(i.error,new MO.TokenError(i)))})},t}();Jx.BaseTokenRequestHandler=zie});var KO=P(HO=>{"use strict";d();l();Object.defineProperty(HO,"__esModule",{value:!0})});var p8=P(Yt=>{"use strict";d();l();var jie=Yt&&Yt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gr=Yt&&Yt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&jie(e,t,r)};Object.defineProperty(Yt,"__esModule",{value:!0});Gr(o8(),Yt);Gr(s8(),Yt);Gr(a8(),Yt);Gr(CO(),Yt);Gr(Kx(),Yt);Gr(Jd(),Yt);Gr(t8(),Yt);Gr(Fh(),Yt);Gr($x(),Yt);Gr(RO(),Yt);Gr(UO(),Yt);Gr(f8(),Yt);Gr(LO(),Yt);Gr(FO(),Yt);Gr(h8(),Yt);Gr(KO(),Yt);Gr(jx(),Yt)});d();l();var jc=z(Hn()),er=z(Ky()),as=z(Ms());d();l();ml.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});d();l();var Bq=(t,e)=>t+e,L5=t=>t.reduce(Bq,0);var M5=jc.Buffer.alloc(64).fill(0),C2=t=>ho(t)?jc.Buffer.from(t.message.serialize()):t.serializeMessage(),Vy=t=>as.default.encode(C2(t)),F5=t=>{try{return Vy(Tf(t,"bs58"))}catch{return Vy(Tf(t,"base64"))}},H5=t=>{try{return Tf(t,"bs58").version}catch{return Tf(t,"base64").version}},K5=t=>D2(N2(t)),ho=t=>t&&"version"in t,qy=(t,e)=>ho(t)?jc.Buffer.from(t.serialize()):t.serialize(e??{requireAllSignatures:!1,verifySignatures:!1}),D2=(t,e)=>as.default.encode(qy(t,e)),V5=(t,e)=>qy(t,e).toString("base64"),Tf=(t,e)=>{let r;if(e==="base64")r=jc.Buffer.from(t,"base64");else if(e==="bs58")r=as.default.decode(t);else throw new Error("Unsupported encoding");return er.VersionedTransaction.deserialize(r)};function O2(t){return ho(t)?t.signatures.filter(r=>r.every(o=>o===0)===!1).length>0:t.signatures.filter(({signature:r})=>r?r.find(o=>o!==0)!==void 0:!1).length>0}var q5=t=>{let e=t.map(r=>er.VersionedMessage.deserialize(as.default.decode(r)));return L5(e.map(r=>r.header.numRequiredSignatures))},N2=t=>{let e=as.default.decode(t);if(er.VersionedMessage.deserializeMessageVersion(e)==="legacy"){let o=er.Message.from(e);return er.Transaction.populate(o,[])}let n=er.VersionedMessage.deserialize(e);return new er.VersionedTransaction(n)},z5=(t,e=[])=>{let r=as.default.decode(t);if(er.VersionedMessage.deserializeMessageVersion(r)==="legacy"){let o=er.Message.from(r);return er.Transaction.populate(o,e.map(s=>s?as.default.encode(s):as.default.encode(M5)))}else{let o=er.VersionedMessage.deserialize(r);return new er.VersionedTransaction(o,e.map(s=>s||M5))}},j5=t=>t.compileMessage().accountKeys,R2=t=>ho(t)?t.message.recentBlockhash:t.recentBlockhash,W5=(t,e)=>{ho(t)?t.message.recentBlockhash=e:t.recentBlockhash=e},G5=async(t,e)=>{if(R2(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;W5(t,r)},$5=async(t,e)=>{if(O2(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;W5(t,r)},U2=(t,e)=>{ho(t)||(t.feePayer=e)},L2=t=>ho(t)?t.message.staticAccountKeys[0]:t.feePayer,Q5=(t,e)=>{L2(t)||U2(t,e)},Y5=(t,e)=>{ho(t)?t.sign(e):t.partialSign(...e)},J5=t=>ho(t)?t.message.staticAccountKeys:t.signatures.map(e=>e.publicKey),X5=t=>ho(t)?t.signatures.map(e=>jc.Buffer.from(e)):t.signatures.map(e=>e.signature).filter(e=>e!==null);function Z5(t){if(!Cq(jc.Buffer.from(t)))return!1;let e;try{e=er.Message.from(t)}catch{e=void 0}let r;try{r=er.VersionedMessage.deserialize(t)}catch{r=void 0}return!e&&!r||(e?.instructions?.length??0)===0&&(r?.compiledInstructions?.length??0)===0}function Cq(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}var ek=t=>ml(t).dividedBy(er.LAMPORTS_PER_SOL),tk=t=>ml(t).multipliedBy(er.LAMPORTS_PER_SOL);var Gn={};iU(Gn,{BufferLayout:()=>Rq,Message:()=>Dn.Message,MessageV0:()=>Dn.MessageV0,Transaction:()=>Dn.Transaction,TransactionInstruction:()=>Dn.TransactionInstruction,TransactionMessage:()=>Dn.TransactionMessage,VersionedMessage:()=>Dn.VersionedMessage,VersionedTransaction:()=>Dn.VersionedTransaction,getAccountsFromTransaction:()=>j5,getFeePayer:()=>L2,getRecentBlockhash:()=>R2,getRequiredSignatures:()=>q5,getSignaturePubKeys:()=>J5,getSignatures:()=>X5,isAlreadySigned:()=>O2,isSafeMessage:()=>Z5,isVersionedTransaction:()=>ho,lamportsToSolana:()=>ek,messageAndSignaturesToTransaction:()=>z5,messageStringToTransaction:()=>N2,messageStringToTransactionString:()=>K5,setFeePayer:()=>U2,setFeePayerIfNotExists:()=>Q5,setRecentBlockhashIfNotExists:()=>G5,setRecentBlockhashIfNotSigned:()=>$5,signWithAdditionalSigners:()=>Y5,solanaInstructionEncodeData:()=>sk,solanaToLamports:()=>tk,transactionStringToMessageString:()=>F5,transactionStringToTransaction:()=>Tf,transactionStringToVersion:()=>H5,transactionToBase58TransactionString:()=>D2,transactionToBase64TransactionString:()=>V5,transactionToMessageString:()=>Vy,transactionToSerializedMessage:()=>C2,transactionToSerializedTransaction:()=>qy,u64:()=>ok});d();l();var Rq=z(Bl()),Dn=z(Ky());Qi(Gn,z(Ky()));d();l();var rk=z(xl()),nk=z(Bl()),zy=z(Iw()),Dq=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},jy=t=>e=>{let r=(0,nk.blob)(t,e),{encode:n,decode:o}=Dq(r),i=r;return i.decode=(s,a)=>{let c=o(s,a);return(0,zy.toBigIntLE)(rk.Buffer.from(c))},i.encode=(s,a,c)=>{let u=(0,zy.toBufferLE)(s,t);return n(u,a,c)},i},ok=jy(8),fle=jy(16),dle=jy(24),lle=jy(32);d();l();var ik=z(xl());d();l();var Oq=z(xl()),_f=z(Bl());function M2(t,e){let r=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){let i=e[o.property];if(Array.isArray(i))return i.length*r(o.elementLayout)}else if("fields"in o)return M2({layout:o},e[o.property]);return 0},n=0;return t.layout.fields.forEach(o=>{n+=r(o)}),n}function sk(t,e){let r=t.layout.span>=0?t.layout.span:M2(t,e),n=ik.Buffer.alloc(r),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,n),n}d();l();d();l();d();l();d();l();var Uq=z(ip(),1);var kr=BigInt(0),Ze=BigInt(1),ha=BigInt(2),Lq=BigInt(8),ak=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Ct=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:ak,n:ak,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var lk=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),h0=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Tle=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),Mq=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Fq=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Hq=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Kq=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),mr=class t{constructor(e,r,n,o){this.x=e,this.y=r,this.z=n,this.t=o}static fromAffine(e){if(!(e instanceof tr))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(tr.ZERO)?t.ZERO:new t(e.x,e.y,Ze,J(e.x*e.y))}static toAffineBatch(e){let r=zq(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(r[o]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){uk(e);let{x:r,y:n,z:o}=this,{x:i,y:s,z:a}=e,c=J(r*a),u=J(i*o),h=J(n*a),f=J(s*o);return c===u&&h===f}negate(){return new t(J(-this.x),this.y,this.z,J(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:o}=Ct,i=J(e*e),s=J(r*r),a=J(ha*J(n*n)),c=J(o*i),u=e+r,h=J(J(u*u)-i-s),f=c+s,p=f-a,m=c-s,g=J(h*p),x=J(f*m),w=J(h*m),S=J(p*f);return new t(g,x,S,w)}add(e){uk(e);let{x:r,y:n,z:o,t:i}=this,{x:s,y:a,z:c,t:u}=e,h=J((n-r)*(a+s)),f=J((n+r)*(a-s)),p=J(f-h);if(p===kr)return this.double();let m=J(o*ha*u),g=J(i*ha*c),x=g+m,w=f+h,S=g-m,k=J(x*p),A=J(w*S),T=J(x*S),C=J(p*w);return new t(k,A,C,T)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],o=this,i=o;for(let s=0;s<r;s++){i=o,n.push(i);for(let a=1;a<2**(e-1);a++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=tr.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=r&&V2.get(r);o||(o=this.precomputeWindow(n),r&&n!==1&&(o=t.normalizeZ(o),V2.set(r,o)));let i=t.ZERO,s=t.BASE,a=1+256/n,c=2**(n-1),u=BigInt(2**n-1),h=2**n,f=BigInt(n);for(let p=0;p<a;p++){let m=p*c,g=Number(e&u);e>>=f,g>c&&(g-=h,e+=Ze);let x=m,w=m+Math.abs(g)-1,S=p%2!==0,k=g<0;g===0?s=s.add(ck(S,o[x])):i=i.add(ck(k,o[w]))}return t.normalizeZ([i,s])[0]}multiply(e,r){return this.wNAF(Gy(e,Ct.l),r)}multiplyUnsafe(e){let r=Gy(e,Ct.l,!1),n=t.BASE,o=t.ZERO;if(r===kr)return o;if(this.equals(o)||r===Ze)return this;if(this.equals(n))return this.wNAF(r);let i=o,s=this;for(;r>kr;)r&Ze&&(i=i.add(s)),s=s.double(),r>>=Ze;return i}isSmallOrder(){return this.multiplyUnsafe(Ct.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(Ct.l/ha).double();return Ct.l%ha&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:o}=this,i=this.equals(t.ZERO);e==null&&(e=i?Lq:Qy(o));let s=J(r*e),a=J(n*e),c=J(o*e);if(i)return tr.ZERO;if(c!==Ze)throw new Error("invZ was invalid");return new tr(s,a)}fromRistrettoBytes(){H2()}toRistrettoBytes(){H2()}fromRistrettoHash(){H2()}};mr.BASE=new mr(Ct.Gx,Ct.Gy,Ze,J(Ct.Gx*Ct.Gy));mr.ZERO=new mr(kr,Ze,Ze,kr);function ck(t,e){let r=e.negate();return t?r:e}function uk(t){if(!(t instanceof mr))throw new TypeError("ExtendedPoint expected")}function F2(t){if(!(t instanceof Wc))throw new TypeError("RistrettoPoint expected")}function H2(){throw new Error("Legacy method: switch to RistrettoPoint")}var Wc=class t{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=Ct,n=J(h0*e*e),o=J((n+Ze)*Hq),i=BigInt(-1),s=J((i-r*n)*J(n+r)),{isValid:a,value:c}=z2(o,s),u=J(c*e);la(u)||(u=J(-u)),a||(c=u),a||(i=n);let h=J(i*(n-Ze)*Kq-s),f=c*c,p=J((c+c)*s),m=J(h*Mq),g=J(Ze-f),x=J(Ze+f);return new mr(J(p*x),J(g*m),J(m*x),J(p*g))}static hashToCurve(e){e=pa(e,64);let r=K2(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),o=K2(e.slice(32,64)),i=this.calcElligatorRistrettoMap(o);return new t(n.add(i))}static fromHex(e){e=pa(e,32);let{a:r,d:n}=Ct,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=K2(e);if(!Wq(m0(i),e)||la(i))throw new Error(o);let s=J(i*i),a=J(Ze+r*s),c=J(Ze-r*s),u=J(a*a),h=J(c*c),f=J(r*n*u-h),{isValid:p,value:m}=dk(J(f*h)),g=J(m*c),x=J(m*g*f),w=J((i+i)*g);la(w)&&(w=J(-w));let S=J(a*x),k=J(w*S);if(!p||la(k)||S===kr)throw new Error(o);return new t(new mr(w,S,Ze,k))}toRawBytes(){let{x:e,y:r,z:n,t:o}=this.ep,i=J(J(n+r)*J(n-r)),s=J(e*r),a=J(s*s),{value:c}=dk(J(i*a)),u=J(c*i),h=J(c*s),f=J(u*h*o),p;if(la(o*f)){let g=J(r*h0),x=J(e*h0);e=g,r=x,p=J(u*Fq)}else p=h;la(e*f)&&(r=J(-r));let m=J((n-r)*p);return la(m)&&(m=J(-m)),m0(m)}toHex(){return g0(this.toRawBytes())}toString(){return this.toHex()}equals(e){F2(e);let r=this.ep,n=e.ep,o=J(r.x*n.y)===J(r.y*n.x),i=J(r.y*n.y)===J(r.x*n.x);return o||i}add(e){return F2(e),new t(this.ep.add(e.ep))}subtract(e){return F2(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};Wc.BASE=new Wc(mr.BASE);Wc.ZERO=new Wc(mr.ZERO);var V2=new WeakMap,tr=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,V2.delete(this)}static fromHex(e,r=!0){let{d:n,P:o}=Ct;e=pa(e,32);let i=e.slice();i[31]=e[31]&-129;let s=b0(i);if(r&&s>=o)throw new Error("Expected 0 < hex < P");if(!r&&s>=lk)throw new Error("Expected 0 < hex < 2**256");let a=J(s*s),c=J(a-Ze),u=J(n*a+Ze),{isValid:h,value:f}=z2(c,u);if(!h)throw new Error("Point.fromHex: invalid y coordinate");let p=(f&Ze)===Ze;return(e[31]&128)!==0!==p&&(f=J(-f)),new t(f,s)}static async fromPrivateKey(e){return(await mk(e)).point}toRawBytes(){let e=m0(this.y);return e[31]|=this.x&Ze?128:0,e}toHex(){return g0(this.toRawBytes())}toX25519(){let{y:e}=this,r=J((Ze+e)*Qy(Ze-e));return m0(r)}isTorsionFree(){return mr.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(J(-this.x),this.y)}add(e){return mr.fromAffine(this).add(mr.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return mr.fromAffine(this).multiply(e,this).toAffine()}};tr.BASE=new tr(Ct.Gx,Ct.Gy);tr.ZERO=new tr(kr,Ze);var y0=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=pa(e,64),n=tr.fromHex(r.slice(0,32),!1),o=b0(r.slice(32,64));return new t(n,o)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof tr))throw new Error("Expected Point instance");return Gy(r,Ct.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(m0(this.s),32),e}toHex(){return g0(this.toRawBytes())}};function fk(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}var Vq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function g0(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Vq[t[r]];return e}function q2(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}function hk(t){let r=t.toString(16).padStart(64,"0");return q2(r)}function m0(t){return hk(t).reverse()}function la(t){return(J(t)&Ze)===Ze}function b0(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+g0(Uint8Array.from(t).reverse()))}var qq=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function K2(t){return J(b0(t)&qq)}function J(t,e=Ct.P){let r=t%e;return r>=kr?r:e+r}function Qy(t,e=Ct.P){if(t===kr||e<=kr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=J(t,e),n=e,o=kr,i=Ze,s=Ze,a=kr;for(;r!==kr;){let u=n/r,h=n%r,f=o-s*u,p=i-a*u;n=r,r=h,o=s,i=a,s=f,a=p}if(n!==Ze)throw new Error("invert: does not exist");return J(o,e)}function zq(t,e=Ct.P){let r=new Array(t.length),n=t.reduce((i,s,a)=>s===kr?i:(r[a]=i,J(i*s,e)),Ze),o=Qy(n,e);return t.reduceRight((i,s,a)=>s===kr?i:(r[a]=J(i*r[a],e),J(i*s,e)),o),r}function wi(t,e){let{P:r}=Ct,n=t;for(;e-- >kr;)n*=n,n%=r;return n}function jq(t){let{P:e}=Ct,r=BigInt(5),n=BigInt(10),o=BigInt(20),i=BigInt(40),s=BigInt(80),c=t*t%e*t%e,u=wi(c,ha)*c%e,h=wi(u,Ze)*t%e,f=wi(h,r)*h%e,p=wi(f,n)*f%e,m=wi(p,o)*p%e,g=wi(m,i)*m%e,x=wi(g,s)*g%e,w=wi(x,s)*g%e,S=wi(w,n)*f%e;return{pow_p_5_8:wi(S,ha)*t%e,b2:c}}function z2(t,e){let r=J(e*e*e),n=J(r*r*e),o=jq(t*n).pow_p_5_8,i=J(t*r*o),s=J(e*i*i),a=i,c=J(i*h0),u=s===t,h=s===J(-t),f=s===J(-t*h0);return u&&(i=a),(h||f)&&(i=c),la(i)&&(i=J(-i)),{isValid:u||h,value:i}}function dk(t){return z2(Ze,t)}function Wy(t){return J(b0(t),Ct.l)}function Wq(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function pa(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):q2(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function Gy(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(kr<t)return t}else if(kr<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Gq(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function pk(t){if(t=typeof t=="bigint"||typeof t=="number"?hk(Gy(t,lk)):pa(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function yk(t){let e=Gq(t.slice(0,32)),r=t.slice(32,64),n=Wy(e),o=tr.BASE.multiply(n),i=o.toRawBytes();return{head:e,prefix:r,scalar:n,point:o,pointBytes:i}}var p0;function $y(...t){if(typeof p0!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return p0(...t)}async function mk(t){return yk(await cs.sha512(pk(t)))}function j2(t){return yk($y(pk(t)))}function $q(t){return j2(t).pointBytes}function Qq(t,e){t=pa(t);let{prefix:r,scalar:n,pointBytes:o}=j2(e),i=Wy($y(r,t)),s=tr.BASE.multiply(i),a=Wy($y(s.toRawBytes(),o,t)),c=J(i+a*n,Ct.l);return new y0(s,c).toRawBytes()}function Yq(t,e,r){e=pa(e),r instanceof tr||(r=tr.fromHex(r,!1));let{r:n,s:o}=t instanceof y0?t.assertValidity():y0.fromHex(t),i=mr.BASE.multiplyUnsafe(o);return{r:n,s:o,SB:i,pub:r,msg:e}}function Jq(t,e,r,n){let o=Wy(n),i=mr.fromAffine(t).multiplyUnsafe(o);return mr.fromAffine(e).add(i).subtract(r).multiplyUnsafe(Ct.h).equals(mr.ZERO)}function Xq(t,e,r){let{r:n,SB:o,msg:i,pub:s}=Yq(t,e,r),a=$y(n.toRawBytes(),s.toRawBytes(),i);return Jq(s,n,o,a)}var Yy={getExtendedPublicKey:j2,getPublicKey:$q,sign:Qq,verify:Xq};tr.BASE._setWindowSize(8);var da={node:Uq,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},cs={bytesToHex:g0,hexToBytes:q2,concatBytes:fk,getExtendedPublicKey:mk,mod:J,invert:Qy,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=pa(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return J(b0(t),Ct.l-Ze)+Ze},randomBytes:(t=32)=>{if(da.web)return da.web.getRandomValues(new Uint8Array(t));if(da.node){let{randomBytes:e}=da.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>cs.randomBytes(32),sha512:async(...t)=>{let e=fk(...t);if(da.web){let r=await da.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(da.node)return Uint8Array.from(da.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=tr.BASE){let r=e.equals(tr.BASE)?e:new tr(e.x,e.y);return r._setWindowSize(t),r.multiply(ha),r},sha512Sync:void 0};Object.defineProperties(cs,{sha512Sync:{configurable:!1,get(){return p0},set(t){p0||(p0=t)}}});d();l();d();l();d();l();function W2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Zq(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function gk(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function ez(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");W2(t.outputLen),W2(t.blockLen)}function tz(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function rz(t,e){gk(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var nz={number:W2,bool:Zq,bytes:gk,hash:ez,exists:tz,output:rz},us=nz;d();l();d();l();var oz={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Jy=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var iz=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!iz)throw new Error("Non little-endian hardware is not supported");var Mle=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sz(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function x0(t){if(typeof t=="string"&&(t=sz(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var Pf=class{clone(){return this._cloneInto()}};function w0(t){let e=n=>t().update(x0(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function az(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var Xy=class extends Pf{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Jy(this.buffer)}update(e){us.exists(this);let{view:r,buffer:n,blockLen:o}=this;e=x0(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=Jy(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){us.exists(this),us.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;az(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=Jy(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};d();l();var Zy=BigInt(4294967295),G2=BigInt(32);function bk(t,e=!1){return e?{h:Number(t&Zy),l:Number(t>>G2&Zy)}:{h:Number(t>>G2&Zy)|0,l:Number(t&Zy)|0}}function cz(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){let{h:i,l:s}=bk(t[o],e);[r[o],n[o]]=[i,s]}return[r,n]}var uz=(t,e)=>BigInt(t>>>0)<<G2|BigInt(e>>>0),fz=(t,e,r)=>t>>>r,dz=(t,e,r)=>t<<32-r|e>>>r,lz=(t,e,r)=>t>>>r|e<<32-r,hz=(t,e,r)=>t<<32-r|e>>>r,pz=(t,e,r)=>t<<64-r|e>>>r-32,yz=(t,e,r)=>t>>>r-32|e<<64-r,mz=(t,e)=>e,gz=(t,e)=>t,bz=(t,e,r)=>t<<r|e>>>32-r,xz=(t,e,r)=>e<<r|t>>>32-r,wz=(t,e,r)=>e<<r-32|t>>>64-r,Az=(t,e,r)=>t<<r-32|e>>>64-r;function Sz(t,e,r,n){let o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}var vz=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Ez=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Iz=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),kz=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,Tz=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),_z=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0,Pz={fromBig:bk,split:cz,toBig:uz,shrSH:fz,shrSL:dz,rotrSH:lz,rotrSL:hz,rotrBH:pz,rotrBL:yz,rotr32H:mz,rotr32L:gz,rotlSH:bz,rotlSL:xz,rotlBH:wz,rotlBL:Az,add:Sz,add3L:vz,add3H:Ez,add4L:Iz,add4H:kz,add5H:_z,add5L:Tz},Ne=Pz;var[Bz,Cz]=Ne.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ya=new Uint32Array(80),ma=new Uint32Array(80),Bf=class extends Xy{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:u,El:h,Fh:f,Fl:p,Gh:m,Gl:g,Hh:x,Hl:w}=this;return[e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w]}set(e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=g|0,this.Hh=x|0,this.Hl=w|0}process(e,r){for(let A=0;A<16;A++,r+=4)ya[A]=e.getUint32(r),ma[A]=e.getUint32(r+=4);for(let A=16;A<80;A++){let T=ya[A-15]|0,C=ma[A-15]|0,W=Ne.rotrSH(T,C,1)^Ne.rotrSH(T,C,8)^Ne.shrSH(T,C,7),oe=Ne.rotrSL(T,C,1)^Ne.rotrSL(T,C,8)^Ne.shrSL(T,C,7),Y=ya[A-2]|0,G=ma[A-2]|0,re=Ne.rotrSH(Y,G,19)^Ne.rotrBH(Y,G,61)^Ne.shrSH(Y,G,6),Z=Ne.rotrSL(Y,G,19)^Ne.rotrBL(Y,G,61)^Ne.shrSL(Y,G,6),D=Ne.add4L(oe,Z,ma[A-7],ma[A-16]),O=Ne.add4H(D,W,re,ya[A-7],ya[A-16]);ya[A]=O|0,ma[A]=D|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:p,Fh:m,Fl:g,Gh:x,Gl:w,Hh:S,Hl:k}=this;for(let A=0;A<80;A++){let T=Ne.rotrSH(f,p,14)^Ne.rotrSH(f,p,18)^Ne.rotrBH(f,p,41),C=Ne.rotrSL(f,p,14)^Ne.rotrSL(f,p,18)^Ne.rotrBL(f,p,41),W=f&m^~f&x,oe=p&g^~p&w,Y=Ne.add5L(k,C,oe,Cz[A],ma[A]),G=Ne.add5H(Y,S,T,W,Bz[A],ya[A]),re=Y|0,Z=Ne.rotrSH(n,o,28)^Ne.rotrBH(n,o,34)^Ne.rotrBH(n,o,39),D=Ne.rotrSL(n,o,28)^Ne.rotrBL(n,o,34)^Ne.rotrBL(n,o,39),O=n&i^n&a^i&a,R=o&s^o&c^s&c;S=x|0,k=w|0,x=m|0,w=g|0,m=f|0,g=p|0,{h:f,l:p}=Ne.add(u|0,h|0,G|0,re|0),u=a|0,h=c|0,a=i|0,c=s|0,i=n|0,s=o|0;let Q=Ne.add3L(re,D,R);n=Ne.add3H(Q,G,Z,O),o=Q|0}({h:n,l:o}=Ne.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=Ne.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=Ne.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:h}=Ne.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:p}=Ne.add(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:g}=Ne.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:x,l:w}=Ne.add(this.Gh|0,this.Gl|0,x|0,w|0),{h:S,l:k}=Ne.add(this.Hh|0,this.Hl|0,S|0,k|0),this.set(n,o,i,s,a,c,u,h,f,p,m,g,x,w,S,k)}roundClean(){ya.fill(0),ma.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},$2=class extends Bf{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Q2=class extends Bf{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Y2=class extends Bf{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},ga=w0(()=>new Bf),Zle=w0(()=>new $2),e0e=w0(()=>new Q2),t0e=w0(()=>new Y2);d();l();var Dz=z(ip(),1);var at=BigInt(0),Mt=BigInt(1),xa=BigInt(2),v0=BigInt(3),xk=BigInt(8),Ft=Object.freeze({a:at,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Mt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),wk=(t,e)=>(t+e/xa)/e,em={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=Ft,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Mt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,s=BigInt("0x100000000000000000000000000000000"),a=wk(i*t,e),c=wk(-n*t,e),u=le(t-a*r-c*o,e),h=le(-a*n-c*i,e),f=u>s,p=h>s;if(f&&(u=e-u),p&&(h=e-h),u>s||h>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:p,k2:h}}},Cf=32,I0=32;var Ak=Cf+1,Sk=2*Cf+1;function vk(t){let{a:e,b:r}=Ft,n=le(t*t),o=le(n*t);return le(o+e*t+r)}var tm=Ft.a===at,im=class extends Error{constructor(e){super(e)}};function Ek(t){if(!(t instanceof pn))throw new TypeError("JacobianPoint expected")}var pn=class t{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof rr))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(rr.ZERO)?t.ZERO:new t(e.x,e.y,Mt)}static toAffineBatch(e){let r=Lz(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(r[o]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){Ek(e);let{x:r,y:n,z:o}=this,{x:i,y:s,z:a}=e,c=le(o*o),u=le(a*a),h=le(r*u),f=le(i*c),p=le(le(n*a)*u),m=le(le(s*o)*c);return h===f&&p===m}negate(){return new t(this.x,le(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,o=le(e*e),i=le(r*r),s=le(i*i),a=e+i,c=le(xa*(le(a*a)-o-s)),u=le(v0*o),h=le(u*u),f=le(h-xa*c),p=le(u*(c-f)-xk*s),m=le(xa*r*n);return new t(f,p,m)}add(e){Ek(e);let{x:r,y:n,z:o}=this,{x:i,y:s,z:a}=e;if(i===at||s===at)return this;if(r===at||n===at)return e;let c=le(o*o),u=le(a*a),h=le(r*u),f=le(i*c),p=le(le(n*a)*u),m=le(le(s*o)*c),g=le(f-h),x=le(m-p);if(g===at)return x===at?this.double():t.ZERO;let w=le(g*g),S=le(g*w),k=le(h*w),A=le(x*x-S-xa*k),T=le(x*(k-A)-p*S),C=le(o*a*g);return new t(A,T,C)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===at)return r;let n=Tk(e);if(n===Mt)return this;if(!tm){let f=r,p=this;for(;n>at;)n&Mt&&(f=f.add(p)),p=p.double(),n>>=Mt;return f}let{k1neg:o,k1:i,k2neg:s,k2:a}=em.splitScalar(n),c=r,u=r,h=this;for(;i>at||a>at;)i&Mt&&(c=c.add(h)),a&Mt&&(u=u.add(h)),h=h.double(),i>>=Mt,a>>=Mt;return o&&(c=c.negate()),s&&(u=u.negate()),u=new t(le(u.x*em.beta),u.y,u.z),c.add(u)}precomputeWindow(e){let r=tm?128/e+1:256/e+1,n=[],o=this,i=o;for(let s=0;s<r;s++){i=o,n.push(i);for(let a=1;a<2**(e-1);a++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=rr.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=r&&X2.get(r);o||(o=this.precomputeWindow(n),r&&n!==1&&(o=t.normalizeZ(o),X2.set(r,o)));let i=t.ZERO,s=t.BASE,a=1+(tm?128/n:256/n),c=2**(n-1),u=BigInt(2**n-1),h=2**n,f=BigInt(n);for(let p=0;p<a;p++){let m=p*c,g=Number(e&u);e>>=f,g>c&&(g-=h,e+=Mt);let x=m,w=m+Math.abs(g)-1,S=p%2!==0,k=g<0;g===0?s=s.add(rm(S,o[x])):i=i.add(rm(k,o[w]))}return{p:i,f:s}}multiply(e,r){let n=Tk(e),o,i;if(tm){let{k1neg:s,k1:a,k2neg:c,k2:u}=em.splitScalar(n),{p:h,f}=this.wNAF(a,r),{p,f:m}=this.wNAF(u,r);h=rm(s,h),p=rm(c,p),p=new t(le(p.x*em.beta),p.y,p.z),o=h.add(p),i=f.add(m)}else{let{p:s,f:a}=this.wNAF(n,r);o=s,i=a}return t.normalizeZ([o,i])[0]}toAffine(e){let{x:r,y:n,z:o}=this,i=this.equals(t.ZERO);e==null&&(e=i?xk:um(o));let s=e,a=le(s*s),c=le(a*s),u=le(r*a),h=le(n*c),f=le(o*s);if(i)return rr.ZERO;if(f!==Mt)throw new Error("invZ was invalid");return new rr(u,h)}};pn.BASE=new pn(Ft.Gx,Ft.Gy,Mt);pn.ZERO=new pn(at,Mt,at);function rm(t,e){let r=e.negate();return t?r:e}var X2=new WeakMap,rr=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,X2.delete(this)}hasEvenY(){return this.y%xa===at}static fromCompressedHex(e){let r=e.length===32,n=yo(r?e:e.subarray(1));if(!om(n))throw new Error("Point is not on curve");let o=vk(n),i=Uz(o),s=(i&Mt)===Mt;r?s&&(i=le(-i)):(e[0]&1)===1!==s&&(i=le(-i));let a=new t(n,i);return a.assertValidity(),a}static fromUncompressedHex(e){let r=yo(e.subarray(1,Cf+1)),n=yo(e.subarray(Cf+1,Cf*2+1)),o=new t(r,n);return o.assertValidity(),o}static fromHex(e){let r=Gc(e),n=r.length,o=r[0];if(n===Cf)return this.fromCompressedHex(r);if(n===Ak&&(o===2||o===3))return this.fromCompressedHex(r);if(n===Sk&&o===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Ak} compressed bytes or ${Sk} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(_0(e))}static fromSignature(e,r,n){let{r:o,s:i}=Kz(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let s=Fz(Gc(e)),{n:a}=Ft,c=n===2||n===3?o+a:o,u=um(c,a),h=le(-s*u,a),f=le(i*u,a),p=n&1?"03":"02",m=t.fromHex(p+wa(c)),g=t.BASE.multiplyAndAddUnsafe(m,h,f);if(!g)throw new Error("Cannot recover signature: point at infinify");return g.assertValidity(),g}toRawBytes(e=!1){return Aa(this.toHex(e))}toHex(e=!1){let r=wa(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${wa(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!om(r)||!om(n))throw new Error(e);let o=le(n*n),i=vk(r);if(le(o-i)!==at)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,le(-this.y))}double(){return pn.fromAffine(this).double().toAffine()}add(e){return pn.fromAffine(this).add(pn.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return pn.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let o=pn.fromAffine(this),i=r===at||r===Mt||this!==t.BASE?o.multiplyUnsafe(r):o.multiply(r),s=pn.fromAffine(e).multiplyUnsafe(n),a=i.add(s);return a.equals(pn.ZERO)?void 0:a.toAffine()}};rr.BASE=new rr(Ft.Gx,Ft.Gy);rr.ZERO=new rr(at,at);function Ik(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function kk(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Of(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:yo(r),left:t.subarray(e+2)}}function Oz(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Of(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=kk(t.subarray(2)),{data:n,left:o}=kk(r);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${Of(o)}`);return{r:e,s:n}}var E0=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let o=r?Of(e):e;if(o.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(sm(o.slice(0,64)),sm(o.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:o}=Oz(r?e:Aa(e));return new t(n,o)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!T0(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!T0(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Ft.n>>Mt;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,le(-this.s,Ft.n)):this}toDERRawBytes(){return Aa(this.toDERHex())}toDERHex(){let e=Ik(S0(this.s)),r=Ik(S0(this.r)),n=e.length/2,o=r.length/2,i=S0(n),s=S0(o);return`30${S0(o+n+4)}02${s}${r}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Aa(this.toCompactHex())}toCompactHex(){return wa(this.r)+wa(this.s)}};function A0(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}var Nz=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Of(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=Nz[t[r]];return e}var Rz=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function wa(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(at<=t&&t<Rz))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function k0(t){let e=Aa(wa(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function S0(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function sm(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Aa(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}function yo(t){return sm(Of(t))}function Gc(t){return t instanceof Uint8Array?Uint8Array.from(t):Aa(t)}function Tk(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&T0(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function le(t,e=Ft.P){let r=t%e;return r>=at?r:e+r}function po(t,e){let{P:r}=Ft,n=t;for(;e-- >at;)n*=n,n%=r;return n}function Uz(t){let{P:e}=Ft,r=BigInt(6),n=BigInt(11),o=BigInt(22),i=BigInt(23),s=BigInt(44),a=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=po(u,v0)*u%e,f=po(h,v0)*u%e,p=po(f,xa)*c%e,m=po(p,n)*p%e,g=po(m,o)*m%e,x=po(g,s)*g%e,w=po(x,a)*x%e,S=po(w,s)*g%e,k=po(S,v0)*u%e,A=po(k,i)*m%e,T=po(A,r)*c%e,C=po(T,xa);if(C*C%e!==t)throw new Error("Cannot find square root");return C}function um(t,e=Ft.P){if(t===at||e<=at)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=le(t,e),n=e,o=at,i=Mt,s=Mt,a=at;for(;r!==at;){let u=n/r,h=n%r,f=o-s*u,p=i-a*u;n=r,r=h,o=s,i=a,s=f,a=p}if(n!==Mt)throw new Error("invert: does not exist");return le(o,e)}function Lz(t,e=Ft.P){let r=new Array(t.length),n=t.reduce((i,s,a)=>s===at?i:(r[a]=i,le(i*s,e)),Mt),o=um(n,e);return t.reduceRight((i,s,a)=>s===at?i:(r[a]=le(i*r[a],e),le(i*s,e)),o),r}function Mz(t){let e=t.length*8-I0*8,r=yo(t);return e>0?r>>BigInt(e):r}function Fz(t,e=!1){let r=Mz(t);if(e)return r;let{n}=Ft;return r>=n?r-n:r}var Df,J2;function T0(t){return at<t&&t<Ft.n}function om(t){return at<t&&t<Ft.P}function _0(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*I0)throw new Error("Expected 32 bytes of private key");e=sm(t)}else if(t instanceof Uint8Array){if(t.length!==I0)throw new Error("Expected 32 bytes of private key");e=yo(t)}else throw new TypeError("Expected valid private key");if(!T0(e))throw new Error("Expected private key: 0 < key < n");return e}function Hz(t){return t instanceof rr?(t.assertValidity(),t):rr.fromHex(t)}function Kz(t){if(t instanceof E0)return t.assertValidity(),t;try{return E0.fromDER(t)}catch{return E0.fromCompact(t)}}function Rf(t,e=!1){return rr.fromPrivateKey(t).toRawBytes(e)}function am(t){return le(yo(t),Ft.n)}var Nf=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Gc(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=yo(r.subarray(0,32)),o=yo(r.subarray(32,64));return new t(n,o)}assertValidity(){let{r:e,s:r}=this;if(!om(e)||!T0(r))throw new Error("Invalid signature")}toHex(){return wa(this.r)+wa(this.s)}toRawBytes(){return Aa(this.toHex())}};function Vz(t){return rr.fromPrivateKey(t).toRawX()}var cm=class{constructor(e,r,n=Ai.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=Gc(e);let{x:o,scalar:i}=this.getScalar(_0(r));if(this.px=o,this.d=i,this.rand=Gc(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=rr.fromPrivateKey(e),n=r.hasEvenY()?e:Ft.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return k0(e^yo(r))}finalizeNonce(e){let r=le(yo(e),Ft.n);if(r===at)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:o,scalar:i}=this.getScalar(r);return{R:n,rx:o,k:i}}finalizeSig(e,r,n,o){return new Nf(e.x,le(r+n*o,Ft.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:o}=this,i=Ai.taggedHash,s=this.initNonce(r,await i(ba.aux,o)),{R:a,rx:c,k:u}=this.finalizeNonce(await i(ba.nonce,s,n,e)),h=am(await i(ba.challenge,c,n,e)),f=this.finalizeSig(a,u,h,r);return await Bk(f,e,n)||this.error(),f}calcSync(){let{m:e,d:r,px:n,rand:o}=this,i=Ai.taggedHashSync,s=this.initNonce(r,i(ba.aux,o)),{R:a,rx:c,k:u}=this.finalizeNonce(i(ba.nonce,s,n,e)),h=am(i(ba.challenge,c,n,e)),f=this.finalizeSig(a,u,h,r);return Ck(f,e,n)||this.error(),f}};async function qz(t,e,r){return new cm(t,e,r).calc()}function zz(t,e,r){return new cm(t,e,r).calcSync()}function _k(t,e,r){let n=t instanceof Nf,o=n?t:Nf.fromHex(t);return n&&o.assertValidity(),{...o,m:Gc(e),P:Hz(r)}}function Pk(t,e,r,n){let o=rr.BASE.multiplyAndAddUnsafe(e,_0(r),le(-n,Ft.n));return!(!o||!o.hasEvenY()||o.x!==t)}async function Bk(t,e,r){try{let{r:n,s:o,m:i,P:s}=_k(t,e,r),a=am(await Ai.taggedHash(ba.challenge,k0(n),s.toRawX(),i));return Pk(n,s,o,a)}catch{return!1}}function Ck(t,e,r){try{let{r:n,s:o,m:i,P:s}=_k(t,e,r),a=am(Ai.taggedHashSync(ba.challenge,k0(n),s.toRawX(),i));return Pk(n,s,o,a)}catch(n){if(n instanceof im)throw n;return!1}}var i0e={Signature:Nf,getPublicKey:Vz,sign:qz,verify:Bk,signSync:zz,verifySync:Ck};rr.BASE._setWindowSize(8);var $n={node:Dz,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},ba={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},nm={},Ai={bytesToHex:Of,hexToBytes:Aa,concatBytes:A0,mod:le,invert:um,isValidPrivateKey(t){try{return _0(t),!0}catch{return!1}},_bigintTo32Bytes:k0,_normalizePrivateKey:_0,hashToPrivateKey:t=>{t=Gc(t);let e=I0+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=le(yo(t),Ft.n-Mt)+Mt;return k0(r)},randomBytes:(t=32)=>{if($n.web)return $n.web.getRandomValues(new Uint8Array(t));if($n.node){let{randomBytes:e}=$n.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ai.hashToPrivateKey(Ai.randomBytes(I0+8)),precompute(t=8,e=rr.BASE){let r=e===rr.BASE?e:new rr(e.x,e.y);return r._setWindowSize(t),r.multiply(v0),r},sha256:async(...t)=>{if($n.web){let e=await $n.web.subtle.digest("SHA-256",A0(...t));return new Uint8Array(e)}else if($n.node){let{createHash:e}=$n.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if($n.web){let r=await $n.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=A0(...e),o=await $n.web.subtle.sign("HMAC",r,n);return new Uint8Array(o)}else if($n.node){let{createHmac:r}=$n.node,n=r("sha256",t);return e.forEach(o=>n.update(o)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=nm[t];if(r===void 0){let n=await Ai.sha256(Uint8Array.from(t,o=>o.charCodeAt(0)));r=A0(n,n),nm[t]=r}return Ai.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof Df!="function")throw new im("sha256Sync is undefined, you need to set it");let r=nm[t];if(r===void 0){let n=Df(Uint8Array.from(t,o=>o.charCodeAt(0)));r=A0(n,n),nm[t]=r}return Df(r,...e)},_JacobianPoint:pn};Object.defineProperties(Ai,{sha256Sync:{configurable:!1,get(){return Df},set(t){Df||(Df=t)}},hmacSha256Sync:{configurable:!1,get(){return J2},set(t){J2||(J2=t)}}});d();l();var Dk=new RegExp("^[0-9]+'?$"),Uf=2147483648;d();l();d();l();var fm=class extends Pf{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,us.hash(e);let n=x0(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return us.exists(this),this.iHash.update(e),this}digestInto(e){us.exists(this),us.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},$c=(t,e,r)=>new fm(t,e).update(r).digest();$c.create=(t,e)=>new fm(t,e);var w0e=new RegExp("^m(\\/[0-9]+')+$");var jz="ed25519 seed",Ok=t=>{let e=Buffer.from($c(ga,Buffer.from(jz),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:Buffer.from(r,"hex"),chainCode:Buffer.from(n,"hex")}},Nk=({key:t,chainCode:e},r)=>{let n=Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let o=Buffer.concat([Buffer.alloc(1,0),t,n]),i=Buffer.from($c(ga,e,o)).toString("hex"),s=i.slice(0,64),a=i.slice(64);return{key:Buffer.from(s,"hex"),chainCode:Buffer.from(a,"hex")}};d();l();var fs=z(Hn()),dm=z(ju()),Lf=z(vr());var Wz=fs.Buffer.from("Bitcoin seed"),Rk=dm.BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Uk=t=>{let e=fs.Buffer.from($c(ga,fs.Buffer.from(Wz),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:fs.Buffer.from(r,"hex"),chainCode:fs.Buffer.from(n,"hex")}},Lk=(t,e)=>{let{key:r,chainCode:n}=t,o=new Uint8Array(37);if(e&Uf)o.set(r,1);else{let f=Rf(r,!0);o.set((0,Lf.arrayify)(f))}for(let f=24;f>=0;f-=8)o[33+(f>>3)]=e>>24-f&255;let i=fs.Buffer.from($c(ga,n,o)).toString("hex"),s=i.slice(0,64),a=i.slice(64),c=dm.BigNumber.from(`0x${s}`);if(c.gte(Rk))throw new Error("Invalid private key");let u=c.add(`0x${r.toString("hex")}`).mod(Rk);if(u.eq(dm.BigNumber.from(0)))throw new Error("Invalid private key");let h=(0,Lf.hexZeroPad)((0,Lf.hexlify)(u),32);return{key:fs.Buffer.from(h.replace("0x",""),"hex"),chainCode:fs.Buffer.from(a,"hex")}};d();l();var Z2=v.string().refine(t=>{if(typeof t!="string")return!1;let e=t.split("/");if(e.length<2||e[0]!=="m")return!1;for(let r=1;r<e.length;++r)if(!Dk.test(e[r]))return!1;return!0},{message:"Value is not a valid derivation path."});var P0=v.union([v.literal("bitcoinTaproot"),v.literal("bitcoinNativeSegwit"),v.literal("bitcoinNestedSegwit"),v.literal("bitcoinLegacy")]),B0=v.union([v.literal("bip44RootEthereum"),v.literal("bip44Ethereum"),v.literal("bip44EthereumSecondary"),v.literal("bip44EthereumTertiary")]),C0=v.union([v.literal("bip44Root"),v.literal("bip44"),v.literal("bip44Change"),v.literal("deprecated")]),eA=v.literal("bip44Sui");d();l();var Gz=v.union([v.literal("bip44Change"),v.literal("bip44"),v.literal("deprecated")]),$z=v.union([v.literal("bip44Ethereum"),v.literal("bip44EthereumSecondary"),v.literal("bip44EthereumTertiary")]),Qz=v.union([v.literal("bitcoinTaproot"),v.literal("bitcoinNativeSegwit"),v.literal("bitcoinNestedSegwit"),v.literal("bitcoinLegacy")]),Yz=v.literal("bip44Sui"),lm=v.number().int().min(0),Jz=v.object({pathType:v.literal("bip44Root"),index:v.number().optional()}),Xz=v.object({pathType:Gz,index:lm}),Zz=v.object({pathType:v.literal("bip44RootEthereum"),index:v.number().optional()}),ej=v.object({pathType:$z,index:lm}),tj=v.object({pathType:Qz,index:lm}),rj=v.object({pathType:Yz,index:lm}),Fk=v.union([Jz,Xz,Zz,ej,tj,rj]),D0=new Error("Invalid derivation path."),Hk=new Error("Unsupported derivation path."),nj=t=>{if(!Fk.safeParse(t).success)throw D0;switch(t.pathType){case"bitcoinTaproot":return`m/86'/0'/0'/0/${t.index}`;case"bitcoinNativeSegwit":return`m/84'/0'/0'/0/${t.index}`;case"bitcoinNestedSegwit":return`m/46'/0'/0'/0/${t.index}`;case"bitcoinLegacy":return`m/44'/0'/0'/0/${t.index}`;case"bip44RootEthereum":return"m/44'/60'";case"bip44Ethereum":return`m/44'/60'/0'/0/${t.index}`;case"bip44EthereumSecondary":return`m/44'/60'/1'/0/${t.index}`;case"bip44EthereumTertiary":return`m/44'/60'/2'/0/${t.index}`;case"bip44Root":return"m/44'/501'";case"deprecated":return`m/501'/${t.index}'/0/0`;case"bip44":return`m/44'/501'/${t.index}'`;case"bip44Change":return`m/44'/501'/${t.index}'/0'`;case"bip44Sui":return`m/44'/784'/${t.index}'/0'/0'`}},Mk=1<<31>>>0,oj=t=>{try{let e=t.replace("0x","").match(/.{1,2}/g)??[];if(e.length===0)throw D0;let r=parseInt(e[0],16),n="m";for(let o=0;o<r;o++){let i="";for(let c=0;c<4;c++)i+=e[1+o*4+c];let s=parseInt(i,16),a=s>=Mk;a&&(s-=Mk),n+=`/${s.toString(10)}${a?"'":""}`}return n}catch{throw D0}},ij=t=>{let e,r=Z2.safeParse(`m/${t.replace("m/","")}`);if(r.success)e=r.data;else try{e=oj(t)}catch{throw D0}if(e==="m/44'/501'")return{pathType:"bip44Root"};if(e==="m/44'/60'")return{pathType:"bip44RootEthereum"};let n=e.replace("m/","").split("/");try{if(n.length===5&&n[0]==="86'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinTaproot",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="84'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinNativeSegwit",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="46'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinNestedSegwit",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinLegacy",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bip44Ethereum",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="1'"&&n[3]==="0")return{pathType:"bip44EthereumSecondary",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="2'"&&n[3]==="0")return{pathType:"bip44EthereumTertiary",index:parseInt(n[4],10)};if(n.length===4&&n[0]==="44'"&&n[1]==="501'"&&n[3]==="0'")return{pathType:"bip44Change",index:parseInt(n[2],10)};if(n.length===3&&n[0]==="44'"&&n[1]==="501'")return{pathType:"bip44",index:parseInt(n[2],10)};if(n.length===4&&n[0]==="501'"&&n[2]==="0"&&n[3]==="0")return{pathType:"deprecated",index:parseInt(n[1],10)}}catch{}throw Hk};d();l();var V0e=new Error("Unsupported path."),sj=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return!0;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44":case"bip44Change":case"deprecated":case"bip44Sui":return!1}},aj=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return!1;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":return!0;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":case"bip44Sui":return!1}},cj=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return!1;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":return!0}},uj=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44":case"bip44Change":case"deprecated":return!1;case"bip44Sui":return!0}};cs.sha512Sync=(...t)=>ga(cs.concatBytes(...t));var{getPublicKey:fj}=Yy,Si=class{#e;#t;constructor(e){this.#e={ellipticCurve:"ed25519",value:Ok(e),nodes:{}},this.#t={ellipticCurve:"secp256k1",value:Uk(e),nodes:{}}}derivePathType(e,r){switch(e){case"bitcoinTaproot":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/86'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinNativeSegwit":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/84'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinNestedSegwit":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/46'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinLegacy":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bip44Ethereum":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/0'/0/${r}`});case"bip44EthereumSecondary":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/1'/0/${r}`});case"bip44EthereumTertiary":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/2'/0/${r}`});case"bip44RootEthereum":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:"m/44'/60'"});case"bip44Change":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'/0'`,bytesInPrivateKey:64});case"bip44":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'`,bytesInPrivateKey:64});case"deprecated":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/501'/${r}'/0/0`});case"bip44Root":return this.derivePath({ellipticCurve:"ed25519",derivationPath:"m/44'/501'",bytesInPrivateKey:64});case"bip44Sui":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/784'/${r}'/0'/0'`,bytesInPrivateKey:32})}}derivePath(e){return e.ellipticCurve==="ed25519"?this.deriveED25519Path(e):e.ellipticCurve==="secp256k1"?this.deriveSECP256K1Path(e):ot(e)}deriveED25519Path(e){let{ellipticCurve:r,derivationPath:n,bytesInPrivateKey:o}=e,i=n.split("/"),s=this.#e;for(let u of i){if(u==="m")continue;if(!s)throw new Error("Cannot derive path, no current node.");let h=s.nodes?.[u]??null;if(!h){let f={ellipticCurve:r,value:Nk(s.value,parseInt(u,10)+Uf),nodes:{}};h=f,s.nodes[u]=f}s=h}if(!s)throw new Error(`Unable to derive ${n} on curve ${r}.`);let a=fj(s.value.key),c;switch(o){case 32:return c=new Uint8Array(32),c.set(s.value.key),{publicKey:a,secretKey:c};case 64:return c=new Uint8Array(64),c.set(s.value.key),c.set(a,32),{publicKey:a,secretKey:c}}}deriveSECP256K1Path(e){let{ellipticCurve:r,derivationPath:n,useCompressedPublicKey:o=!1}=e,i=n.split("/"),s=this.#t;for(let u of i){if(u==="m")continue;if(!s)throw new Error("Cannot derive path, no current node.");let h=s.nodes?.[u]??null;if(!h){let f=0;u.endsWith("'")&&(f=Uf);let p={ellipticCurve:r,value:Lk(s.value,parseInt(u,10)+f),nodes:{}};h=p,s.nodes[u]=p}s=h}if(!s)throw new Error(`Unable to derive ${n} on curve ${r}.`);let a=s.value.key;return{publicKey:Rf(a,o),secretKey:new Uint8Array(a)}}cleanUpTree(e){if(e){e.value.key.fill(0),e.value.chainCode.fill(0);let r=Object.values(e.nodes);for(let n of r)this.cleanUpTree(n)}}cleanup(){this.cleanUpTree(this.#e),this.cleanUpTree(this.#t),this.#e=null,this.#t=null}};d();l();var Be=(a=>(a.BitcoinTaproot="bip122_p2tr",a.BitcoinNativeSegwit="bip122_p2wpkh",a.BitcoinNestedSegwit="bip122_p2sh",a.BitcoinLegacy="bip122_p2pkh",a.Solana="solana",a.EVM="eip155",a.Sui="sui",a))(Be||{}),Kk=["bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"],tA=v.enum(Kk);var hm=class{type="bip122_p2pkh";displayName="Legacy";defaultDerivationPathType="bitcoinLegacy";otherDerivationPathType=[]};d();l();var pm=class{type="bip122_p2wpkh";displayName="Native Segwit";defaultDerivationPathType="bitcoinNativeSegwit";otherDerivationPathType=[]};d();l();var ym=class{type="bip122_p2sh";displayName="Nested Segwit";defaultDerivationPathType="bitcoinNestedSegwit";otherDerivationPathType=[]};d();l();var mm=class{type="bip122_p2tr";displayName="Taproot";defaultDerivationPathType="bitcoinTaproot";otherDerivationPathType=[]};d();l();var gm=class{type="eip155";displayName="Ethereum";defaultDerivationPathType="bip44Ethereum";otherDerivationPathType=["bip44RootEthereum","bip44EthereumSecondary","bip44EthereumTertiary"]};d();l();var bm=class{type="solana";displayName="Solana";defaultDerivationPathType="bip44Change";otherDerivationPathType=["bip44Root","bip44","deprecated"]};d();l();var xm=class{type="sui";displayName="Sui";defaultDerivationPathType="bip44Sui";otherDerivationPathType=[]};var rA=class{bip122_p2tr=new mm;bip122_p2wpkh=new pm;bip122_p2sh=new ym;bip122_p2pkh=new hm;eip155=new gm;solana=new bm;sui=new xm;allAddressTypes=Object.values(Be);allAddressTypeDefinitions=this.allAddressTypes.map(e=>this[e]);addressTypeByDerivationPathType={};constructor(){this.allAddressTypeDefinitions.forEach(e=>{this.addressTypeByDerivationPathType[e.defaultDerivationPathType]=e.type,e.otherDerivationPathType.forEach(r=>{this.addressTypeByDerivationPathType[r]=e.type})})}getAll(){return this.allAddressTypes}getDisplayName(e){return this[e].displayName}getAddressType(e){return this.addressTypeByDerivationPathType[e]}},qo=new rA;d();l();d();l();d();l();var wm=class{addressTypes=["bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"];generateKeypairFromPrivateKey(e){let r=e.fold(o=>Buffer.from(o));return{publicKey:Rf(r,!0),privateKey:r}}generateKeypairFromSeed(e,r,n){let o=e.fold(i=>new Si(i));try{let i=o.derivePathType(n,r);return{publicKey:i.publicKey,privateKey:i.secretKey}}finally{o.cleanup()}}};d();l();d();l();var aS=z(yl());d();l();var Gk=z(ju());var Mf=z(mo()),$k=z(fn());d();l();var jk="abstract-provider/5.7.0";var Sj=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(h){try{u(n.next(h))}catch(f){s(f)}}function c(h){try{u(n.throw(h))}catch(f){s(f)}}function u(h){h.done?i(h.value):o(h.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},vj=new $k.Logger(jk),Wk=class extends Mf.Description{static isForkEvent(e){return!!(e&&e._isForkEvent)}};var Em=class t{constructor(){vj.checkAbstract(new.target,t),(0,Mf.defineReadOnly)(this,"_isProvider",!0)}getFeeData(){return Sj(this,void 0,void 0,function*(){let{block:e,gasPrice:r}=yield(0,Mf.resolveProperties)({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)}),n=null,o=null,i=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,i=Gk.BigNumber.from("1500000000"),o=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:n,maxFeePerGas:o,maxPriorityFeePerGas:i,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}};d();l();var jo=z(mo()),vi=z(fn());d();l();var Qk="abstract-signer/5.7.0";var zo=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(h){try{u(n.next(h))}catch(f){s(f)}}function c(h){try{u(n.throw(h))}catch(f){s(f)}}function u(h){h.done?i(h.value):o(h.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},go=new vi.Logger(Qk),Ej=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Ij=[vi.Logger.errors.INSUFFICIENT_FUNDS,vi.Logger.errors.NONCE_EXPIRED,vi.Logger.errors.REPLACEMENT_UNDERPRICED],O0=class t{constructor(){go.checkAbstract(new.target,t),(0,jo.defineReadOnly)(this,"_isSigner",!0)}getBalance(e){return zo(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return zo(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return zo(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let r=yield(0,jo.resolveProperties)(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return zo(this,void 0,void 0,function*(){this._checkProvider("call");let n=yield(0,jo.resolveProperties)(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return zo(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return zo(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return zo(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return zo(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return zo(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let n in e)Ej.indexOf(n)===-1&&go.throwArgumentError("invalid transaction key: "+n,"transaction",e);let r=(0,jo.shallowCopy)(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&go.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return zo(this,void 0,void 0,function*(){let r=yield(0,jo.resolveProperties)(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(o=>zo(this,void 0,void 0,function*(){if(o==null)return null;let i=yield this.resolveName(o);return i==null&&go.throwArgumentError("provided ENS name resolves to null","tx.to",o),i})),r.to.catch(o=>{}));let n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?go.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&go.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{let o=yield this.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){let i=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=i,r.maxPriorityFeePerGas=i}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(n&&go.throwError("network does not support EIP-1559",vi.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):go.throwError("failed to get consistent fee data",vi.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(o=>{if(Ij.indexOf(o.code)>=0)throw o;return go.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",vi.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:o,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(o=>(o[1]!==0&&o[0]!==o[1]&&go.throwArgumentError("chainId address mismatch","transaction",e),o[0])),yield(0,jo.resolveProperties)(r)})}_checkProvider(e){this.provider||go.throwError("missing provider",vi.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}},Yk=class t extends O0{constructor(e,r){super(),(0,jo.defineReadOnly)(this,"address",e),(0,jo.defineReadOnly)(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{go.throwError(e,vi.Logger.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new t(this.address,e)}};var Go=z(vr()),q0=z(xA());d();l();d();l();var wA=z(vr()),R0=z(mo()),Mm=class{constructor(e){(0,R0.defineReadOnly)(this,"alphabet",e),(0,R0.defineReadOnly)(this,"base",e.length),(0,R0.defineReadOnly)(this,"_alphabetMap",{}),(0,R0.defineReadOnly)(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=(0,wA.arrayify)(e);if(r.length===0)return"";let n=[0];for(let i=0;i<r.length;++i){let s=r[i];for(let a=0;a<n.length;++a)s+=n[a]<<8,n[a]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let o="";for(let i=0;r[i]===0&&i<r.length-1;++i)o+=this._leader;for(let i=n.length-1;i>=0;--i)o+=this.alphabet[n[i]];return o}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let o=this._alphabetMap[e[n]];if(o===void 0)throw new Error("Non-base"+this.base+" character");let i=o;for(let s=0;s<r.length;++s)i+=r[s]*this.base,r[s]=i&255,i>>=8;for(;i>0;)r.push(i&255),i>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return(0,wA.arrayify)(new Uint8Array(r.reverse()))}},Mye=new Mm("abcdefghijklmnopqrstuvwxyz234567"),AA=new Mm("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var tt=z(vr()),VA=z(ju()),ru=z(Ea());d();l();d();l();var ka=z(vr()),EA=z(vA());function Zc(t,e,r,n,o){t=(0,ka.arrayify)(t),e=(0,ka.arrayify)(e);let i,s=1,a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let u,h;for(let f=1;f<=s;f++){c[e.length]=f>>24&255,c[e.length+1]=f>>16&255,c[e.length+2]=f>>8&255,c[e.length+3]=f&255;let p=(0,ka.arrayify)((0,EA.computeHmac)(o,t,c));i||(i=p.length,h=new Uint8Array(i),s=Math.ceil(n/i),u=n-(s-1)*i),h.set(p);for(let x=1;x<r;x++){p=(0,ka.arrayify)((0,EA.computeHmac)(o,t,p));for(let w=0;w<i;w++)h[w]^=p[w]}let m=(f-1)*i,g=f===s?u:i;a.set((0,ka.arrayify)(h).slice(0,g),m)}return(0,ka.hexlify)(a)}var Hr=z(mo());d();l();d();l();var Ce=z(H1()),ki=z(T6());function zf(t,e,r){return r={path:e,exports:{},require:function(n,o){return lG(n,o??r.path)}},t(r,r.exports),r.exports}function lG(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var _A=YT;function YT(t,e){if(!t)throw new Error(e||"Assertion failed")}YT.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Wo=zf(function(t,e){"use strict";var r=e;function n(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var c=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)c[u]=s[u]|0;return c}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)c.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var h=s.charCodeAt(u),f=h>>8,p=h&255;f?c.push(f,p):c.push(p)}return c}r.toArray=n;function o(s){return s.length===1?"0"+s:s}r.zero2=o;function i(s){for(var a="",c=0;c<s.length;c++)a+=o(s[c].toString(16));return a}r.toHex=i,r.encode=function(a,c){return c==="hex"?i(a):a}}),Yn=zf(function(t,e){"use strict";var r=e;r.assert=_A,r.toArray=Wo.toArray,r.zero2=Wo.zero2,r.toHex=Wo.toHex,r.encode=Wo.encode;function n(c,u,h){var f=new Array(Math.max(c.bitLength(),h)+1);f.fill(0);for(var p=1<<u+1,m=c.clone(),g=0;g<f.length;g++){var x,w=m.andln(p-1);m.isOdd()?(w>(p>>1)-1?x=(p>>1)-w:x=w,m.isubn(x)):x=0,f[g]=x,m.iushrn(1)}return f}r.getNAF=n;function o(c,u){var h=[[],[]];c=c.clone(),u=u.clone();for(var f=0,p=0,m;c.cmpn(-f)>0||u.cmpn(-p)>0;){var g=c.andln(3)+f&3,x=u.andln(3)+p&3;g===3&&(g=-1),x===3&&(x=-1);var w;g&1?(m=c.andln(7)+f&7,(m===3||m===5)&&x===2?w=-g:w=g):w=0,h[0].push(w);var S;x&1?(m=u.andln(7)+p&7,(m===3||m===5)&&g===2?S=-x:S=x):S=0,h[1].push(S),2*f===w+1&&(f=1-f),2*p===S+1&&(p=1-p),c.iushrn(1),u.iushrn(1)}return h}r.getJSF=o;function i(c,u,h){var f="_"+u;c.prototype[u]=function(){return this[f]!==void 0?this[f]:this[f]=h.call(this)}}r.cachedProperty=i;function s(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=s;function a(c){return new Ce.default(c,"hex","le")}r.intFromLE=a}),qm=Yn.getNAF,hG=Yn.getJSF,zm=Yn.assert;function _a(t,e){this.type=t,this.p=new Ce.default(e.p,16),this.red=e.prime?Ce.default.red(e.prime):Ce.default.mont(this.p),this.zero=new Ce.default(0).toRed(this.red),this.one=new Ce.default(1).toRed(this.red),this.two=new Ce.default(2).toRed(this.red),this.n=e.n&&new Ce.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var eu=_a;_a.prototype.point=function(){throw new Error("Not implemented")};_a.prototype.validate=function(){throw new Error("Not implemented")};_a.prototype._fixedNafMul=function(e,r){zm(e.precomputed);var n=e._getDoubles(),o=qm(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var s=[],a,c;for(a=0;a<o.length;a+=n.step){c=0;for(var u=a+n.step-1;u>=a;u--)c=(c<<1)+o[u];s.push(c)}for(var h=this.jpoint(null,null,null),f=this.jpoint(null,null,null),p=i;p>0;p--){for(a=0;a<s.length;a++)c=s[a],c===p?f=f.mixedAdd(n.points[a]):c===-p&&(f=f.mixedAdd(n.points[a].neg()));h=h.add(f)}return h.toP()};_a.prototype._wnafMul=function(e,r){var n=4,o=e._getNAFPoints(n);n=o.wnd;for(var i=o.points,s=qm(r,n,this._bitLength),a=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var u=0;c>=0&&s[c]===0;c--)u++;if(c>=0&&u++,a=a.dblp(u),c<0)break;var h=s[c];zm(h!==0),e.type==="affine"?h>0?a=a.mixedAdd(i[h-1>>1]):a=a.mixedAdd(i[-h-1>>1].neg()):h>0?a=a.add(i[h-1>>1]):a=a.add(i[-h-1>>1].neg())}return e.type==="affine"?a.toP():a};_a.prototype._wnafMulAdd=function(e,r,n,o,i){var s=this._wnafT1,a=this._wnafT2,c=this._wnafT3,u=0,h,f,p;for(h=0;h<o;h++){p=r[h];var m=p._getNAFPoints(e);s[h]=m.wnd,a[h]=m.points}for(h=o-1;h>=1;h-=2){var g=h-1,x=h;if(s[g]!==1||s[x]!==1){c[g]=qm(n[g],s[g],this._bitLength),c[x]=qm(n[x],s[x],this._bitLength),u=Math.max(c[g].length,u),u=Math.max(c[x].length,u);continue}var w=[r[g],null,null,r[x]];r[g].y.cmp(r[x].y)===0?(w[1]=r[g].add(r[x]),w[2]=r[g].toJ().mixedAdd(r[x].neg())):r[g].y.cmp(r[x].y.redNeg())===0?(w[1]=r[g].toJ().mixedAdd(r[x]),w[2]=r[g].add(r[x].neg())):(w[1]=r[g].toJ().mixedAdd(r[x]),w[2]=r[g].toJ().mixedAdd(r[x].neg()));var S=[-3,-1,-5,-7,0,7,5,1,3],k=hG(n[g],n[x]);for(u=Math.max(k[0].length,u),c[g]=new Array(u),c[x]=new Array(u),f=0;f<u;f++){var A=k[0][f]|0,T=k[1][f]|0;c[g][f]=S[(A+1)*3+(T+1)],c[x][f]=0,a[g]=w}}var C=this.jpoint(null,null,null),W=this._wnafT4;for(h=u;h>=0;h--){for(var oe=0;h>=0;){var Y=!0;for(f=0;f<o;f++)W[f]=c[f][h]|0,W[f]!==0&&(Y=!1);if(!Y)break;oe++,h--}if(h>=0&&oe++,C=C.dblp(oe),h<0)break;for(f=0;f<o;f++){var G=W[f];G!==0&&(G>0?p=a[f][G-1>>1]:G<0&&(p=a[f][-G-1>>1].neg()),p.type==="affine"?C=C.mixedAdd(p):C=C.add(p))}}for(h=0;h<o;h++)a[h]=null;return i?C:C.toP()};function So(t,e){this.curve=t,this.type=e,this.precomputed=null}_a.BasePoint=So;So.prototype.eq=function(){throw new Error("Not implemented")};So.prototype.validate=function(){return this.curve.validate(this)};_a.prototype.decodePoint=function(e,r){e=Yn.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?zm(e[e.length-1]%2===0):e[0]===7&&zm(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return o}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};So.prototype.encodeCompressed=function(e){return this.encode(e,!0)};So.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};So.prototype.encode=function(e,r){return Yn.encode(this._encode(r),e)};So.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};So.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};So.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,i=0;i<r;i+=e){for(var s=0;s<e;s++)o=o.dbl();n.push(o)}return{step:e,points:n}};So.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,o=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(o);return{wnd:e,points:r}};So.prototype._getBeta=function(){return null};So.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var PA=zf(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var o=function(){};o.prototype=n.prototype,r.prototype=new o,r.prototype.constructor=r}}}),pG=Yn.assert;function vo(t){eu.call(this,"short",t),this.a=new Ce.default(t.a,16).toRed(this.red),this.b=new Ce.default(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}PA(vo,eu);var yG=vo;vo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ce.default(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);r=o[0].cmp(o[1])<0?o[0]:o[1],r=r.toRed(this.red)}if(e.lambda)n=new Ce.default(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],pG(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new Ce.default(a.a,16),b:new Ce.default(a.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};vo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ce.default.mont(e),n=new Ce.default(2).toRed(r).redInvm(),o=n.redNeg(),i=new Ce.default(3).toRed(r).redNeg().redSqrt().redMul(n),s=o.redAdd(i).fromRed(),a=o.redSub(i).fromRed();return[s,a]};vo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,o=this.n.clone(),i=new Ce.default(1),s=new Ce.default(0),a=new Ce.default(0),c=new Ce.default(1),u,h,f,p,m,g,x,w=0,S,k;n.cmpn(0)!==0;){var A=o.div(n);S=o.sub(A.mul(n)),k=a.sub(A.mul(i));var T=c.sub(A.mul(s));if(!f&&S.cmp(r)<0)u=x.neg(),h=i,f=S.neg(),p=k;else if(f&&++w===2)break;x=S,o=n,n=S,a=i,i=k,c=s,s=T}m=S.neg(),g=k;var C=f.sqr().add(p.sqr()),W=m.sqr().add(g.sqr());return W.cmp(C)>=0&&(m=u,g=h),f.negative&&(f=f.neg(),p=p.neg()),m.negative&&(m=m.neg(),g=g.neg()),[{a:f,b:p},{a:m,b:g}]};vo.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],o=r[1],i=o.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),c=s.mul(o.a),u=i.mul(n.b),h=s.mul(o.b),f=e.sub(a).sub(c),p=u.add(h).neg();return{k1:f,k2:p}};vo.prototype.pointFromX=function(e,r){e=new Ce.default(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=n.redSqrt();if(o.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=o.fromRed().isOdd();return(r&&!i||!r&&i)&&(o=o.redNeg()),this.point(e,o)};vo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,o=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(o).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};vo.prototype._endoWnafMulAdd=function(e,r,n){for(var o=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(r[s]),c=e[s],u=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),o[s*2]=c,o[s*2+1]=u,i[s*2]=a.k1,i[s*2+1]=a.k2}for(var h=this._wnafMulAdd(1,o,i,s*2,n),f=0;f<s*2;f++)o[f]=null,i[f]=null;return h};function Br(t,e,r,n){eu.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ce.default(e,16),this.y=new Ce.default(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}PA(Br,eu.BasePoint);vo.prototype.point=function(e,r,n){return new Br(this,e,r,n)};vo.prototype.pointFromJSON=function(e,r){return Br.fromJSON(this,e,r)};Br.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,o=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return r}};Br.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Br.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var o=e.point(r[0],r[1],n);if(!r[2])return o;function i(a){return e.point(a[0],a[1],n)}var s=r[2];return o.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[o].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[o].concat(s.naf.points.map(i))}},o};Br.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Br.prototype.isInfinity=function(){return this.inf};Br.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),o=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)};Br.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),o=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(o),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};Br.prototype.getX=function(){return this.x.fromRed()};Br.prototype.getY=function(){return this.y.fromRed()};Br.prototype.mul=function(e){return e=new Ce.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Br.prototype.mulAdd=function(e,r,n){var o=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i):this.curve._wnafMulAdd(1,o,i,2)};Br.prototype.jmulAdd=function(e,r,n){var o=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i,!0):this.curve._wnafMulAdd(1,o,i,2,!0)};Br.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Br.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,o=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return r};Br.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Fr(t,e,r,n){eu.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ce.default(0)):(this.x=new Ce.default(e,16),this.y=new Ce.default(r,16),this.z=new Ce.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}PA(Fr,eu.BasePoint);vo.prototype.jpoint=function(e,r,n){return new Fr(this,e,r,n)};Fr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),o=this.y.redMul(r).redMul(e);return this.curve.point(n,o)};Fr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Fr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(r),i=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=o.redSub(i),u=s.redSub(a);if(c.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=c.redSqr(),f=h.redMul(c),p=o.redMul(h),m=u.redSqr().redIAdd(f).redISub(p).redISub(p),g=u.redMul(p.redISub(m)).redISub(s.redMul(f)),x=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(m,g,x)};Fr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,o=e.x.redMul(r),i=this.y,s=e.y.redMul(r).redMul(this.z),a=n.redSub(o),c=i.redSub(s);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),h=u.redMul(a),f=n.redMul(u),p=c.redSqr().redIAdd(h).redISub(f).redISub(f),m=c.redMul(f.redISub(p)).redISub(i.redMul(h)),g=this.z.redMul(a);return this.curve.jpoint(p,m,g)};Fr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var o=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,c=this.z,u=c.redSqr().redSqr(),h=a.redAdd(a);for(r=0;r<e;r++){var f=s.redSqr(),p=h.redSqr(),m=p.redSqr(),g=f.redAdd(f).redIAdd(f).redIAdd(o.redMul(u)),x=s.redMul(p),w=g.redSqr().redISub(x.redAdd(x)),S=x.redISub(w),k=g.redMul(S);k=k.redIAdd(k).redISub(m);var A=h.redMul(c);r+1<e&&(u=u.redMul(m)),s=w,c=A,h=k}return this.curve.jpoint(s,h.redMul(i),c)};Fr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Fr.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(s);a=a.redIAdd(a);var c=o.redAdd(o).redIAdd(o),u=c.redSqr().redISub(a).redISub(a),h=s.redIAdd(s);h=h.redIAdd(h),h=h.redIAdd(h),e=u,r=c.redMul(a.redISub(u)).redISub(h),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),p=this.y.redSqr(),m=p.redSqr(),g=this.x.redAdd(p).redSqr().redISub(f).redISub(m);g=g.redIAdd(g);var x=f.redAdd(f).redIAdd(f),w=x.redSqr(),S=m.redIAdd(m);S=S.redIAdd(S),S=S.redIAdd(S),e=w.redISub(g).redISub(g),r=x.redMul(g.redISub(e)).redISub(S),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Fr.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(s);a=a.redIAdd(a);var c=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),u=c.redSqr().redISub(a).redISub(a);e=u;var h=s.redIAdd(s);h=h.redIAdd(h),h=h.redIAdd(h),r=c.redMul(a.redISub(u)).redISub(h),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),p=this.y.redSqr(),m=this.x.redMul(p),g=this.x.redSub(f).redMul(this.x.redAdd(f));g=g.redAdd(g).redIAdd(g);var x=m.redIAdd(m);x=x.redIAdd(x);var w=x.redAdd(x);e=g.redSqr().redISub(w),n=this.y.redAdd(this.z).redSqr().redISub(p).redISub(f);var S=p.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S),r=g.redMul(x.redISub(e)).redISub(S)}return this.curve.jpoint(e,r,n)};Fr.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,o=this.z,i=o.redSqr().redSqr(),s=r.redSqr(),a=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),u=r.redAdd(r);u=u.redIAdd(u);var h=u.redMul(a),f=c.redSqr().redISub(h.redAdd(h)),p=h.redISub(f),m=a.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var g=c.redMul(p).redISub(m),x=n.redAdd(n).redMul(o);return this.curve.jpoint(f,g,x)};Fr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),o=r.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(o);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var c=a.redSqr(),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var h=i.redIAdd(a).redSqr().redISub(s).redISub(c).redISub(u),f=r.redMul(h);f=f.redIAdd(f),f=f.redIAdd(f);var p=this.x.redMul(c).redISub(f);p=p.redIAdd(p),p=p.redIAdd(p);var m=this.y.redMul(h.redMul(u.redISub(h)).redISub(a.redMul(c)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var g=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(p,m,g)};Fr.prototype.mul=function(e,r){return e=new Ce.default(e,r),this.curve._wnafMul(this,e)};Fr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var o=r.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(o)).cmpn(0)===0};Fr.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var o=e.clone(),i=this.curve.redN.redMul(r);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};Fr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Fr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Km=zf(function(t,e){"use strict";var r=e;r.base=eu,r.short=yG,r.mont=null,r.edwards=null}),Vm=zf(function(t,e){"use strict";var r=e,n=Yn.assert;function o(a){a.type==="short"?this.curve=new Km.short(a):a.type==="edwards"?this.curve=new Km.edwards(a):this.curve=new Km.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=o;function i(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var u=new o(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:u}),u}})}i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ki.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ki.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ki.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ki.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ki.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ki.default.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ki.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ki.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function Ta(t){if(!(this instanceof Ta))return new Ta(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Wo.toArray(t.entropy,t.entropyEnc||"hex"),r=Wo.toArray(t.nonce,t.nonceEnc||"hex"),n=Wo.toArray(t.pers,t.persEnc||"hex");_A(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var JT=Ta;Ta.prototype._init=function(e,r,n){var o=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};Ta.prototype._hmac=function(){return new ki.default.hmac(this.hash,this.K)};Ta.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Ta.prototype.reseed=function(e,r,n,o){typeof r!="string"&&(o=n,n=r,r=null),e=Wo.toArray(e,r),n=Wo.toArray(n,o),_A(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Ta.prototype.generate=function(e,r,n,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(o=n,n=r,r=null),n&&(n=Wo.toArray(n,o||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(n),this._reseed++,Wo.encode(s,r)};var TA=Yn.assert;function rn(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var BA=rn;rn.fromPublic=function(e,r,n){return r instanceof rn?r:new rn(e,{pub:r,pubEnc:n})};rn.fromPrivate=function(e,r,n){return r instanceof rn?r:new rn(e,{priv:r,privEnc:n})};rn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};rn.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};rn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};rn.prototype._importPrivate=function(e,r){this.priv=new Ce.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};rn.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?TA(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&TA(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};rn.prototype.derive=function(e){return e.validate()||TA(e.validate(),"public point not validated"),e.mul(this.priv).getX()};rn.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};rn.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};rn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var mG=Yn.assert;function jm(t,e){if(t instanceof jm)return t;this._importDER(t,e)||(mG(t.r&&t.s,"Signature without r or s"),this.r=new Ce.default(t.r,16),this.s=new Ce.default(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Wm=jm;function gG(){this.place=0}function IA(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var o=0,i=0,s=e.place;i<n;i++,s++)o<<=8,o|=t[s],o>>>=0;return o<=127?!1:(e.place=s,o)}function QT(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}jm.prototype._importDER=function(e,r){e=Yn.toArray(e,r);var n=new gG;if(e[n.place++]!==48)return!1;var o=IA(e,n);if(o===!1||o+n.place!==e.length||e[n.place++]!==2)return!1;var i=IA(e,n);if(i===!1)return!1;var s=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var a=IA(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Ce.default(s),this.s=new Ce.default(c),this.recoveryParam=null,!0};function kA(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}jm.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=QT(r),n=QT(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var o=[2];kA(o,r.length),o=o.concat(r),o.push(2),kA(o,n.length);var i=o.concat(n),s=[48];return kA(s,i.length),s=s.concat(i),Yn.encode(s,e)};var bG=function(){throw new Error("unsupported")},XT=Yn.assert;function Ao(t){if(!(this instanceof Ao))return new Ao(t);typeof t=="string"&&(XT(Object.prototype.hasOwnProperty.call(Vm,t),"Unknown curve "+t),t=Vm[t]),t instanceof Vm.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var xG=Ao;Ao.prototype.keyPair=function(e){return new BA(this,e)};Ao.prototype.keyFromPrivate=function(e,r){return BA.fromPrivate(this,e,r)};Ao.prototype.keyFromPublic=function(e,r){return BA.fromPublic(this,e,r)};Ao.prototype.genKeyPair=function(e){e||(e={});for(var r=new JT({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||bG(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new Ce.default(2));;){var i=new Ce.default(r.generate(n));if(!(i.cmp(o)>0))return i.iaddn(1),this.keyFromPrivate(i)}};Ao.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Ao.prototype.sign=function(e,r,n,o){typeof n=="object"&&(o=n,n=null),o||(o={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Ce.default(e,16));for(var i=this.n.byteLength(),s=r.getPrivate().toArray("be",i),a=e.toArray("be",i),c=new JT({hash:this.hash,entropy:s,nonce:a,pers:o.pers,persEnc:o.persEnc||"utf8"}),u=this.n.sub(new Ce.default(1)),h=0;;h++){var f=o.k?o.k(h):new Ce.default(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var x=f.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(x=x.umod(this.n),x.cmpn(0)!==0){var w=(p.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return o.canonical&&x.cmp(this.nh)>0&&(x=this.n.sub(x),w^=1),new Wm({r:g,s:x,recoveryParam:w})}}}}}};Ao.prototype.verify=function(e,r,n,o){e=this._truncateToN(new Ce.default(e,16)),n=this.keyFromPublic(n,o),r=new Wm(r,"hex");var i=r.r,s=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),c=a.mul(e).umod(this.n),u=a.mul(i).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(c,n.getPublic(),u),h.isInfinity()?!1:h.eqXToP(i)):(h=this.g.mulAdd(c,n.getPublic(),u),h.isInfinity()?!1:h.getX().umod(this.n).cmp(i)===0)};Ao.prototype.recoverPubKey=function(t,e,r,n){XT((3&r)===r,"The recovery param is more than two bits"),e=new Wm(e,n);var o=this.n,i=new Ce.default(t),s=e.r,a=e.s,c=r&1,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var h=e.r.invm(o),f=o.sub(i).mul(h).umod(o),p=a.mul(h).umod(o);return this.g.mulAdd(f,s,p)};Ao.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Wm(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(t,e,o)}catch{continue}if(i.eq(r))return o}throw new Error("Unable to find valid recovery factor")};var wG=zf(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=Yn,r.rand=function(){throw new Error("unsupported")},r.curve=Km,r.curves=Vm,r.ec=xG,r.eddsa=null}),ZT=wG.ec;var Dt=z(vr()),jf=z(mo()),t_=z(fn());d();l();var e_="signing-key/5.7.0";var DA=new t_.Logger(e_),CA=null;function Ti(){return CA||(CA=new ZT("secp256k1")),CA}var _i=class{constructor(e){(0,jf.defineReadOnly)(this,"curve","secp256k1"),(0,jf.defineReadOnly)(this,"privateKey",(0,Dt.hexlify)(e)),(0,Dt.hexDataLength)(this.privateKey)!==32&&DA.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=Ti().keyFromPrivate((0,Dt.arrayify)(this.privateKey));(0,jf.defineReadOnly)(this,"publicKey","0x"+r.getPublic(!1,"hex")),(0,jf.defineReadOnly)(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),(0,jf.defineReadOnly)(this,"_isSigningKey",!0)}_addPoint(e){let r=Ti().keyFromPublic((0,Dt.arrayify)(this.publicKey)),n=Ti().keyFromPublic((0,Dt.arrayify)(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let r=Ti().keyFromPrivate((0,Dt.arrayify)(this.privateKey)),n=(0,Dt.arrayify)(e);n.length!==32&&DA.throwArgumentError("bad digest length","digest",e);let o=r.sign(n,{canonical:!0});return(0,Dt.splitSignature)({recoveryParam:o.recoveryParam,r:(0,Dt.hexZeroPad)("0x"+o.r.toString(16),32),s:(0,Dt.hexZeroPad)("0x"+o.s.toString(16),32)})}computeSharedSecret(e){let r=Ti().keyFromPrivate((0,Dt.arrayify)(this.privateKey)),n=Ti().keyFromPublic((0,Dt.arrayify)(OA(e)));return(0,Dt.hexZeroPad)("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function r_(t,e){let r=(0,Dt.splitSignature)(e),n={r:(0,Dt.arrayify)(r.r),s:(0,Dt.arrayify)(r.s)};return"0x"+Ti().recoverPubKey((0,Dt.arrayify)(t),n,r.recoveryParam).encode("hex",!1)}function OA(t,e){let r=(0,Dt.arrayify)(t);if(r.length===32){let n=new _i(r);return e?"0x"+Ti().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?(0,Dt.hexlify)(r):"0x"+Ti().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Ti().keyFromPublic(r).getPublic(!0,"hex"):(0,Dt.hexlify)(r)}return DA.throwArgumentError("invalid public or private key","key","[REDACTED]")}var On=z(vA());d();l();var Wf=z(yl()),Pa=z(ju()),Pe=z(vr()),i_=z(nA()),tu=z(Fs()),s_=z(mo()),Pi=z(cU());var Gm=z(fn());d();l();var n_="transactions/5.7.0";var on=new Gm.Logger(n_),o_;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(o_||(o_={}));function RA(t){return t==="0x"?null:(0,Wf.getAddress)(t)}function nn(t){return t==="0x"?i_.Zero:Pa.BigNumber.from(t)}var AG=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],SG={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Bi(t){let e=OA(t);return(0,Wf.getAddress)((0,Pe.hexDataSlice)((0,tu.keccak256)((0,Pe.hexDataSlice)(e,1)),12))}function UA(t,e){return Bi(r_((0,Pe.arrayify)(t),e))}function Jn(t,e){let r=(0,Pe.stripZeros)(Pa.BigNumber.from(t).toHexString());return r.length>32&&on.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function NA(t,e){return{address:(0,Wf.getAddress)(t),storageKeys:(e||[]).map((r,n)=>((0,Pe.hexDataLength)(r)!==32&&on.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function LA(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&on.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),NA(r[0],r[1])):NA(r.address,r.storageKeys));let e=Object.keys(t).map(r=>{let n=t[r].reduce((o,i)=>(o[i]=!0,o),{});return NA(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function a_(t){return LA(t).map(e=>[e.address,e.storageKeys])}function c_(t,e){if(t.gasPrice!=null){let n=Pa.BigNumber.from(t.gasPrice),o=Pa.BigNumber.from(t.maxFeePerGas||0);n.eq(o)||on.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:o})}let r=[Jn(t.chainId||0,"chainId"),Jn(t.nonce||0,"nonce"),Jn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Jn(t.maxFeePerGas||0,"maxFeePerGas"),Jn(t.gasLimit||0,"gasLimit"),t.to!=null?(0,Wf.getAddress)(t.to):"0x",Jn(t.value||0,"value"),t.data||"0x",a_(t.accessList||[])];if(e){let n=(0,Pe.splitSignature)(e);r.push(Jn(n.recoveryParam,"recoveryParam")),r.push((0,Pe.stripZeros)(n.r)),r.push((0,Pe.stripZeros)(n.s))}return(0,Pe.hexConcat)(["0x02",Pi.encode(r)])}function u_(t,e){let r=[Jn(t.chainId||0,"chainId"),Jn(t.nonce||0,"nonce"),Jn(t.gasPrice||0,"gasPrice"),Jn(t.gasLimit||0,"gasLimit"),t.to!=null?(0,Wf.getAddress)(t.to):"0x",Jn(t.value||0,"value"),t.data||"0x",a_(t.accessList||[])];if(e){let n=(0,Pe.splitSignature)(e);r.push(Jn(n.recoveryParam,"recoveryParam")),r.push((0,Pe.stripZeros)(n.r)),r.push((0,Pe.stripZeros)(n.s))}return(0,Pe.hexConcat)(["0x01",Pi.encode(r)])}function vG(t,e){(0,s_.checkProperties)(t,SG);let r=[];AG.forEach(function(s){let a=t[s.name]||[],c={};s.numeric&&(c.hexPad="left"),a=(0,Pe.arrayify)((0,Pe.hexlify)(a,c)),s.length&&a.length!==s.length&&a.length>0&&on.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a),s.maxLength&&(a=(0,Pe.stripZeros)(a),a.length>s.maxLength&&on.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a)),r.push((0,Pe.hexlify)(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&on.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!(0,Pe.isBytesLike)(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push((0,Pe.hexlify)(n)),r.push("0x"),r.push("0x")),!e)return Pi.encode(r);let o=(0,Pe.splitSignature)(e),i=27+o.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),i+=n*2+8,o.v>28&&o.v!==i&&on.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):o.v!==i&&on.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push((0,Pe.hexlify)(i)),r.push((0,Pe.stripZeros)((0,Pe.arrayify)(o.r))),r.push((0,Pe.stripZeros)((0,Pe.arrayify)(o.s))),Pi.encode(r)}function MA(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&on.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),vG(t,e);switch(t.type){case 1:return u_(t,e);case 2:return c_(t,e);default:break}return on.throwError(`unsupported transaction type: ${t.type}`,Gm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function f_(t,e,r){try{let n=nn(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{on.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=(0,Pe.hexZeroPad)(e[1],32),t.s=(0,Pe.hexZeroPad)(e[2],32);try{let n=(0,tu.keccak256)(r(t));t.from=UA(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function EG(t){let e=Pi.decode(t.slice(1));e.length!==9&&e.length!==12&&on.throwArgumentError("invalid component count for transaction type: 2","payload",(0,Pe.hexlify)(t));let r=nn(e[2]),n=nn(e[3]),o={type:2,chainId:nn(e[0]).toNumber(),nonce:nn(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:nn(e[4]),to:RA(e[5]),value:nn(e[6]),data:e[7],accessList:LA(e[8])};return e.length===9||(o.hash=(0,tu.keccak256)(t),f_(o,e.slice(9),c_)),o}function IG(t){let e=Pi.decode(t.slice(1));e.length!==8&&e.length!==11&&on.throwArgumentError("invalid component count for transaction type: 1","payload",(0,Pe.hexlify)(t));let r={type:1,chainId:nn(e[0]).toNumber(),nonce:nn(e[1]).toNumber(),gasPrice:nn(e[2]),gasLimit:nn(e[3]),to:RA(e[4]),value:nn(e[5]),data:e[6],accessList:LA(e[7])};return e.length===8||(r.hash=(0,tu.keccak256)(t),f_(r,e.slice(8),u_)),r}function kG(t){let e=Pi.decode(t);e.length!==9&&e.length!==6&&on.throwArgumentError("invalid raw transaction","rawTransaction",t);let r={nonce:nn(e[0]).toNumber(),gasPrice:nn(e[1]),gasLimit:nn(e[2]),to:RA(e[3]),value:nn(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Pa.BigNumber.from(e[6]).toNumber()}catch{return r}if(r.r=(0,Pe.hexZeroPad)(e[7],32),r.s=(0,Pe.hexZeroPad)(e[8],32),Pa.BigNumber.from(r.r).isZero()&&Pa.BigNumber.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,o=e.slice(0,6);r.chainId!==0&&(o.push((0,Pe.hexlify)(r.chainId)),o.push("0x"),o.push("0x"),n-=r.chainId*2+8);let i=(0,tu.keccak256)(Pi.encode(o));try{r.from=UA(i,{r:(0,Pe.hexlify)(r.r),s:(0,Pe.hexlify)(r.s),recoveryParam:n})}catch{}r.hash=(0,tu.keccak256)(t)}return r.type=null,r}function vme(t){let e=(0,Pe.arrayify)(t);if(e[0]>127)return kG(e);switch(e[0]){case 1:return IG(e);case 2:return EG(e);default:break}return on.throwError(`unsupported transaction type: ${e[0]}`,Gm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}d();l();d();l();var l_=z(xA()),FA=z(mo()),h_=z(fn());d();l();var d_="wordlists/5.7.0";var TG=!1,_G=new h_.Logger(d_),Gf=class t{constructor(e){_G.checkAbstract(new.target,t),(0,FA.defineReadOnly)(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let r=[];for(let n=0;n<2048;n++){let o=e.getWord(n);if(n!==e.getWordIndex(o))return"0x";r.push(o)}return(0,l_.id)(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),TG)try{let n=self;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||(0,FA.defineReadOnly)(n._ethers.wordlists,r,e))}catch{}}};d();l();d();l();var PG="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",F0=null;function p_(t){if(F0==null&&(F0=PG.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Gf.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw F0=null,new Error("BIP39 Wordlist for en (English) FAILED")}var HA=class extends Gf{constructor(){super("en")}getWord(e){return p_(this),F0[e]}getWordIndex(e){return p_(this),F0.indexOf(e)}},KA=new HA;Gf.register(KA);var $m={en:KA};var g_=z(fn());d();l();var y_="hdnode/5.7.0";var Ym=new g_.Logger(y_),BG=VA.BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),CG=(0,ru.toUtf8Bytes)("Bitcoin seed"),H0=2147483648;function b_(t){return(1<<t)-1<<8-t}function DG(t){return(1<<t)-1}function Qm(t){return(0,tt.hexZeroPad)((0,tt.hexlify)(t),32)}function m_(t){return AA.encode((0,tt.concat)([t,(0,tt.hexDataSlice)((0,On.sha256)((0,On.sha256)(t)),0,4)]))}function qA(t){if(t==null)return $m.en;if(typeof t=="string"){let e=$m[t];return e==null&&Ym.throwArgumentError("unknown locale","wordlist",t),e}return t}var $f={},nu="m/44'/60'/0'/0/0",Ba=class t{constructor(e,r,n,o,i,s,a,c){if(e!==$f)throw new Error("HDNode constructor cannot be called directly");if(r){let u=new _i(r);(0,Hr.defineReadOnly)(this,"privateKey",u.privateKey),(0,Hr.defineReadOnly)(this,"publicKey",u.compressedPublicKey)}else(0,Hr.defineReadOnly)(this,"privateKey",null),(0,Hr.defineReadOnly)(this,"publicKey",(0,tt.hexlify)(n));(0,Hr.defineReadOnly)(this,"parentFingerprint",o),(0,Hr.defineReadOnly)(this,"fingerprint",(0,tt.hexDataSlice)((0,On.ripemd160)((0,On.sha256)(this.publicKey)),0,4)),(0,Hr.defineReadOnly)(this,"address",Bi(this.publicKey)),(0,Hr.defineReadOnly)(this,"chainCode",i),(0,Hr.defineReadOnly)(this,"index",s),(0,Hr.defineReadOnly)(this,"depth",a),c==null?((0,Hr.defineReadOnly)(this,"mnemonic",null),(0,Hr.defineReadOnly)(this,"path",null)):typeof c=="string"?((0,Hr.defineReadOnly)(this,"mnemonic",null),(0,Hr.defineReadOnly)(this,"path",c)):((0,Hr.defineReadOnly)(this,"mnemonic",c),(0,Hr.defineReadOnly)(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return m_((0,tt.concat)([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",(0,tt.hexlify)(this.depth),this.parentFingerprint,(0,tt.hexZeroPad)((0,tt.hexlify)(this.index),4),this.chainCode,this.privateKey!=null?(0,tt.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new t($f,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~H0));let n=new Uint8Array(37);if(e&H0){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set((0,tt.arrayify)(this.privateKey),1),r&&(r+="'")}else n.set((0,tt.arrayify)(this.publicKey));for(let f=24;f>=0;f-=8)n[33+(f>>3)]=e>>24-f&255;let o=(0,tt.arrayify)((0,On.computeHmac)(On.SupportedAlgorithm.sha512,this.chainCode,n)),i=o.slice(0,32),s=o.slice(32),a=null,c=null;this.privateKey?a=Qm(VA.BigNumber.from(i).add(this.privateKey).mod(BG)):c=new _i((0,tt.hexlify)(i))._addPoint(this.publicKey);let u=r,h=this.mnemonic;return h&&(u=Object.freeze({phrase:h.phrase,path:r,locale:h.locale||"en"})),new t($f,a,c,this.fingerprint,Qm(s),e,this.depth+1,u)}derivePath(e){let r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let o=0;o<r.length;o++){let i=r[o];if(i.match(/^[0-9]+'$/)){let s=parseInt(i.substring(0,i.length-1));if(s>=H0)throw new Error("invalid path index - "+i);n=n._derive(H0+s)}else if(i.match(/^[0-9]+$/)){let s=parseInt(i);if(s>=H0)throw new Error("invalid path index - "+i);n=n._derive(s)}else throw new Error("invalid path component - "+i)}return n}static _fromSeed(e,r){let n=(0,tt.arrayify)(e);if(n.length<16||n.length>64)throw new Error("invalid seed");let o=(0,tt.arrayify)((0,On.computeHmac)(On.SupportedAlgorithm.sha512,CG,n));return new t($f,Qm(o.slice(0,32)),null,"0x00000000",Qm(o.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=qA(n),e=K0(zA(e,n),n),t._fromSeed(OG(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return t._fromSeed(e,null)}static fromExtendedKey(e){let r=AA.decode(e);(r.length!==82||m_(r.slice(0,78))!==e)&&Ym.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=r[4],o=(0,tt.hexlify)(r.slice(5,9)),i=parseInt((0,tt.hexlify)(r.slice(9,13)).substring(2),16),s=(0,tt.hexlify)(r.slice(13,45)),a=r.slice(45,78);switch((0,tt.hexlify)(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new t($f,null,(0,tt.hexlify)(a),o,s,i,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new t($f,(0,tt.hexlify)(a.slice(1)),null,o,s,i,n,null)}return Ym.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function OG(t,e){e||(e="");let r=(0,ru.toUtf8Bytes)("mnemonic"+e,ru.UnicodeNormalizationForm.NFKD);return Zc((0,ru.toUtf8Bytes)(t,ru.UnicodeNormalizationForm.NFKD),r,2048,64,"sha512")}function zA(t,e){e=qA(e),Ym.checkNormalize();let r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");let n=(0,tt.arrayify)(new Uint8Array(Math.ceil(11*r.length/8))),o=0;for(let u=0;u<r.length;u++){let h=e.getWordIndex(r[u].normalize("NFKD"));if(h===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)h&1<<10-f&&(n[o>>3]|=1<<7-o%8),o++}let i=32*r.length/3,s=r.length/3,a=b_(s);if(((0,tt.arrayify)((0,On.sha256)(n.slice(0,i/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return(0,tt.hexlify)(n.slice(0,i/8))}function K0(t,e){if(e=qA(e),t=(0,tt.arrayify)(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");let r=[0],n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&DG(8-n)),n+=3);let o=t.length/4,i=(0,tt.arrayify)((0,On.sha256)(t))[0]&b_(o);return r[r.length-1]<<=o,r[r.length-1]|=i>>8-o,e.join(r.map(s=>e.getWord(s)))}var cS=z(Fs()),Eo=z(mo());d();l();d();l();var A_=z(vr()),WA=z(fn());d();l();var x_="random/5.7.0";var jA=new WA.Logger(x_);function NG(){if(typeof self<"u"||typeof self<"u"||typeof self<"u")return self;throw new Error("unable to locate global object")}var w_=NG(),Jm=w_.crypto||w_.msCrypto;(!Jm||!Jm.getRandomValues)&&(jA.warn("WARNING: Missing strong random number source"),Jm={getRandomValues:function(t){return jA.throwError("no secure random source avaialble",WA.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Ca(t){(t<=0||t>1024||t%1||t!=t)&&jA.throwArgumentError("invalid length","length",t);let e=new Uint8Array(t);return Jm.getRandomValues(e),(0,A_.arrayify)(e)}d();l();d();l();var QA=z($A()),E_=z(yl()),YA=z(vr()),I_=z(Fs());var k_=z(Ea()),T_=z(mo()),__=z(fn());d();l();var Xm="json-wallets/5.7.0";d();l();var Qf=z(vr()),Zm=z(Ea());function ds(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),(0,Qf.arrayify)(t)}function Yf(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function V0(t){return typeof t=="string"?(0,Zm.toUtf8Bytes)(t,Zm.UnicodeNormalizationForm.NFKC):(0,Qf.arrayify)(t)}function Wt(t,e){let r=t,n=e.toLowerCase().split("/");for(let o=0;o<n.length;o++){let i=null;for(let s in r)if(s.toLowerCase()===n[o]){i=r[s];break}if(i===null)return null;r=i}return r}function v_(t){let e=(0,Qf.arrayify)(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=(0,Qf.hexlify)(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var RG=new __.Logger(Xm),JA=class extends T_.Description{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function XA(t,e){let r=JSON.parse(t);e=V0(e);let n=(0,E_.getAddress)(Wt(r,"ethaddr")),o=ds(Wt(r,"encseed"));(!o||o.length%16!==0)&&RG.throwArgumentError("invalid encseed","json",t);let i=(0,YA.arrayify)(Zc(e,e,2e3,32,"sha256")).slice(0,16),s=o.slice(0,16),a=o.slice(16),c=new QA.default.ModeOfOperation.cbc(i,s),u=QA.default.padding.pkcs7.strip((0,YA.arrayify)(c.decrypt(a))),h="";for(let m=0;m<u.length;m++)h+=String.fromCharCode(u[m]);let f=(0,k_.toUtf8Bytes)(h),p=(0,I_.keccak256)(f);return new JA({_isCrowdsaleAccount:!0,address:n,privateKey:p})}d();l();function ZA(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function eS(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}d();l();var ls=z($A()),tg=z(B_()),oS=z(yl()),Gt=z(vr());var iS=z(Fs());var D_=z(mo());var eg=z(fn());var UG=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(h){try{u(n.next(h))}catch(f){s(f)}}function c(h){try{u(n.throw(h))}catch(f){s(f)}}function u(h){h.done?i(h.value):o(h.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},rS=new eg.Logger(Xm);function C_(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}var nS=class extends D_.Description{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function LG(t,e,r){if(Wt(t,"crypto/cipher")==="aes-128-ctr"){let o=ds(Wt(t,"crypto/cipherparams/iv")),i=new ls.default.Counter(o),s=new ls.default.ModeOfOperation.ctr(e,i);return(0,Gt.arrayify)(s.decrypt(r))}return null}function O_(t,e){let r=ds(Wt(t,"crypto/ciphertext"));if((0,Gt.hexlify)((0,iS.keccak256)((0,Gt.concat)([e.slice(16,32),r]))).substring(2)!==Wt(t,"crypto/mac").toLowerCase())throw new Error("invalid password");let o=LG(t,e.slice(0,16),r);o||rS.throwError("unsupported cipher",eg.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let i=e.slice(32,64),s=Bi(o);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),(0,oS.getAddress)(c)!==s)throw new Error("address mismatch")}let a={_isKeystoreAccount:!0,address:s,privateKey:(0,Gt.hexlify)(o)};if(Wt(t,"x-ethers/version")==="0.1"){let c=ds(Wt(t,"x-ethers/mnemonicCiphertext")),u=ds(Wt(t,"x-ethers/mnemonicCounter")),h=new ls.default.Counter(u),f=new ls.default.ModeOfOperation.ctr(i,h),p=Wt(t,"x-ethers/path")||nu,m=Wt(t,"x-ethers/locale")||"en",g=(0,Gt.arrayify)(f.decrypt(c));try{let x=K0(g,m),w=Ba.fromMnemonic(x,null,m).derivePath(p);if(w.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=w.mnemonic}catch(x){if(x.code!==eg.Logger.errors.INVALID_ARGUMENT||x.argument!=="wordlist")throw x}}return new nS(a)}function N_(t,e,r,n,o){return(0,Gt.arrayify)(Zc(t,e,r,n,o))}function MG(t,e,r,n,o){return Promise.resolve(N_(t,e,r,n,o))}function R_(t,e,r,n,o){let i=V0(e),s=Wt(t,"crypto/kdf");if(s&&typeof s=="string"){let a=function(c,u){return rS.throwArgumentError("invalid key-derivation function parameters",c,u)};if(s.toLowerCase()==="scrypt"){let c=ds(Wt(t,"crypto/kdfparams/salt")),u=parseInt(Wt(t,"crypto/kdfparams/n")),h=parseInt(Wt(t,"crypto/kdfparams/r")),f=parseInt(Wt(t,"crypto/kdfparams/p"));(!u||!h||!f)&&a("kdf",s),u&u-1&&a("N",u);let p=parseInt(Wt(t,"crypto/kdfparams/dklen"));return p!==32&&a("dklen",p),n(i,c,u,h,f,64,o)}else if(s.toLowerCase()==="pbkdf2"){let c=ds(Wt(t,"crypto/kdfparams/salt")),u=null,h=Wt(t,"crypto/kdfparams/prf");h==="hmac-sha256"?u="sha256":h==="hmac-sha512"?u="sha512":a("prf",h);let f=parseInt(Wt(t,"crypto/kdfparams/c")),p=parseInt(Wt(t,"crypto/kdfparams/dklen"));return p!==32&&a("dklen",p),r(i,c,f,p,u)}}return rS.throwArgumentError("unsupported key-derivation function","kdf",s)}function U_(t,e){let r=JSON.parse(t),n=R_(r,e,N_,tg.default.syncScrypt);return O_(r,n)}function L_(t,e,r){return UG(this,void 0,void 0,function*(){let n=JSON.parse(t),o=yield R_(n,e,MG,tg.default.scrypt,r);return O_(n,o)})}function sS(t,e,r,n){try{if((0,oS.getAddress)(t.address)!==Bi(t.privateKey))throw new Error("address/privateKey mismatch");if(C_(t)){let w=t.mnemonic;if(Ba.fromMnemonic(w.phrase,null,w.locale).derivePath(w.path||nu).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(w){return Promise.reject(w)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});let o=(0,Gt.arrayify)(t.privateKey),i=V0(e),s=null,a=null,c=null;if(C_(t)){let w=t.mnemonic;s=(0,Gt.arrayify)(zA(w.phrase,w.locale||"en")),a=w.path||nu,c=w.locale||"en"}let u=r.client;u||(u="ethers.js");let h=null;r.salt?h=(0,Gt.arrayify)(r.salt):h=Ca(32);let f=null;if(r.iv){if(f=(0,Gt.arrayify)(r.iv),f.length!==16)throw new Error("invalid iv")}else f=Ca(16);let p=null;if(r.uuid){if(p=(0,Gt.arrayify)(r.uuid),p.length!==16)throw new Error("invalid uuid")}else p=Ca(16);let m=1<<17,g=8,x=1;return r.scrypt&&(r.scrypt.N&&(m=r.scrypt.N),r.scrypt.r&&(g=r.scrypt.r),r.scrypt.p&&(x=r.scrypt.p)),tg.default.scrypt(i,h,m,g,x,64,n).then(w=>{w=(0,Gt.arrayify)(w);let S=w.slice(0,16),k=w.slice(16,32),A=w.slice(32,64),T=new ls.default.Counter(f),C=new ls.default.ModeOfOperation.ctr(S,T),W=(0,Gt.arrayify)(C.encrypt(o)),oe=(0,iS.keccak256)((0,Gt.concat)([k,W])),Y={address:t.address.substring(2).toLowerCase(),id:v_(p),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,Gt.hexlify)(f).substring(2)},ciphertext:(0,Gt.hexlify)(W).substring(2),kdf:"scrypt",kdfparams:{salt:(0,Gt.hexlify)(h).substring(2),n:m,dklen:32,p:x,r:g},mac:oe.substring(2)}};if(s){let G=Ca(16),re=new ls.default.Counter(G),Z=new ls.default.ModeOfOperation.ctr(A,re),D=(0,Gt.arrayify)(Z.encrypt(s)),O=new Date,R=O.getUTCFullYear()+"-"+Yf(O.getUTCMonth()+1,2)+"-"+Yf(O.getUTCDate(),2)+"T"+Yf(O.getUTCHours(),2)+"-"+Yf(O.getUTCMinutes(),2)+"-"+Yf(O.getUTCSeconds(),2)+".0Z";Y["x-ethers"]={client:u,gethFilename:"UTC--"+R+"--"+Y.address,mnemonicCounter:(0,Gt.hexlify)(G).substring(2),mnemonicCiphertext:(0,Gt.hexlify)(D).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(Y)})}function M_(t,e,r){if(ZA(t)){r&&r(0);let n=XA(t,e);return r&&r(1),Promise.resolve(n)}return eS(t)?L_(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function F_(t,e){if(ZA(t))return XA(t,e);if(eS(t))return U_(t,e);throw new Error("invalid JSON wallet")}var uS=z(fn());d();l();var H_="wallet/5.7.0";var K_=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(h){try{u(n.next(h))}catch(f){s(f)}}function c(h){try{u(n.throw(h))}catch(f){s(f)}}function u(h){h.done?i(h.value):o(h.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},Jf=new uS.Logger(H_);function FG(t){return t!=null&&(0,Go.isHexString)(t.privateKey,32)&&t.address!=null}function HG(t){let e=t.mnemonic;return e&&e.phrase}var Xf=class t extends O0{constructor(e,r){if(super(),FG(e)){let n=new _i(e.privateKey);if((0,Eo.defineReadOnly)(this,"_signingKey",()=>n),(0,Eo.defineReadOnly)(this,"address",Bi(this.publicKey)),this.address!==(0,aS.getAddress)(e.address)&&Jf.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),HG(e)){let o=e.mnemonic;(0,Eo.defineReadOnly)(this,"_mnemonic",()=>({phrase:o.phrase,path:o.path||nu,locale:o.locale||"en"}));let i=this.mnemonic,s=Ba.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path);Bi(s.privateKey)!==this.address&&Jf.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else(0,Eo.defineReadOnly)(this,"_mnemonic",()=>null)}else{if(_i.isSigningKey(e))e.curve!=="secp256k1"&&Jf.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),(0,Eo.defineReadOnly)(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);let n=new _i(e);(0,Eo.defineReadOnly)(this,"_signingKey",()=>n)}(0,Eo.defineReadOnly)(this,"_mnemonic",()=>null),(0,Eo.defineReadOnly)(this,"address",Bi(this.publicKey))}r&&!Em.isProvider(r)&&Jf.throwArgumentError("invalid provider","provider",r),(0,Eo.defineReadOnly)(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new t(this,e)}signTransaction(e){return(0,Eo.resolveProperties)(e).then(r=>{r.from!=null&&((0,aS.getAddress)(r.from)!==this.address&&Jf.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);let n=this._signingKey().signDigest((0,cS.keccak256)(MA(r)));return MA(r,n)})}signMessage(e){return K_(this,void 0,void 0,function*(){return(0,Go.joinSignature)(this._signingKey().signDigest((0,q0.hashMessage)(e)))})}_signTypedData(e,r,n){return K_(this,void 0,void 0,function*(){let o=yield q0._TypedDataEncoder.resolveNames(e,r,n,i=>(this.provider==null&&Jf.throwError("cannot resolve ENS names without a provider",uS.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:i}),this.provider.resolveName(i)));return(0,Go.joinSignature)(this._signingKey().signDigest(q0._TypedDataEncoder.hash(o.domain,r,o.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),sS(this,e,r,n)}static createRandom(e){let r=Ca(16);e||(e={}),e.extraEntropy&&(r=(0,Go.arrayify)((0,Go.hexDataSlice)((0,cS.keccak256)((0,Go.concat)([r,e.extraEntropy])),0,16)));let n=K0(r,e.locale);return t.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return M_(e,r,n).then(o=>new t(o))}static fromEncryptedJsonSync(e,r){return new t(F_(e,r))}static fromMnemonic(e,r,n){return r||(r=nu),new t(Ba.fromMnemonic(e,null,n).derivePath(r))}};var rg=class{addressTypes=["eip155"];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new Xf(new Uint8Array(n)));return{publicKey:new Uint8Array(Buffer.from(r.publicKey.slice(2),"hex")),privateKey:new Uint8Array(Buffer.from(r.privateKey.slice(2),"hex"))}}generateKeypairFromSeed(e,r,n){let o=e.fold(i=>new Si(i));try{let i=o.derivePathType(n,r);return{publicKey:i.publicKey,privateKey:i.secretKey}}finally{o.cleanup()}}};d();l();d();l();d();l();d();l();d();l();function fS(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function KG(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function V_(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function VG(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");fS(t.outputLen),fS(t.blockLen)}function qG(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function zG(t,e){V_(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var jG={number:fS,bool:KG,bytes:V_,hash:VG,exists:qG,output:zG},$o=jG;d();l();d();l();var WG={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var q_=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ng=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var GG=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!GG)throw new Error("Non little-endian hardware is not supported");var vbe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function $G(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function ed(t){if(typeof t=="string"&&(t=$G(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var Zf=class{clone(){return this._cloneInto()}};function ou(t){let e=n=>t().update(ed(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function z_(t){let e=(n,o)=>t(o).update(ed(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function QG(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var og=class extends Zf{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ng(this.buffer)}update(e){$o.exists(this);let{view:r,buffer:n,blockLen:o}=this;e=ed(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=ng(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$o.exists(this),$o.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;QG(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=ng(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};d();l();var ig=BigInt(4294967295),dS=BigInt(32);function j_(t,e=!1){return e?{h:Number(t&ig),l:Number(t>>dS&ig)}:{h:Number(t>>dS&ig)|0,l:Number(t&ig)|0}}function YG(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){let{h:i,l:s}=j_(t[o],e);[r[o],n[o]]=[i,s]}return[r,n]}var JG=(t,e)=>BigInt(t>>>0)<<dS|BigInt(e>>>0),XG=(t,e,r)=>t>>>r,ZG=(t,e,r)=>t<<32-r|e>>>r,e$=(t,e,r)=>t>>>r|e<<32-r,t$=(t,e,r)=>t<<32-r|e>>>r,r$=(t,e,r)=>t<<64-r|e>>>r-32,n$=(t,e,r)=>t>>>r-32|e<<64-r,o$=(t,e)=>e,i$=(t,e)=>t,s$=(t,e,r)=>t<<r|e>>>32-r,a$=(t,e,r)=>e<<r|t>>>32-r,c$=(t,e,r)=>e<<r-32|t>>>64-r,u$=(t,e,r)=>t<<r-32|e>>>64-r;function f$(t,e,r,n){let o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}var d$=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),l$=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,h$=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),p$=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,y$=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),m$=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0,g$={fromBig:j_,split:YG,toBig:JG,shrSH:XG,shrSL:ZG,rotrSH:e$,rotrSL:t$,rotrBH:r$,rotrBL:n$,rotr32H:o$,rotr32L:i$,rotlSH:s$,rotlSL:a$,rotlBH:c$,rotlBL:u$,add:f$,add3L:d$,add3H:l$,add4L:h$,add4H:p$,add5H:m$,add5L:y$},_e=g$;var[b$,x$]=_e.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Da=new Uint32Array(80),Oa=new Uint32Array(80),td=class extends og{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:u,El:h,Fh:f,Fl:p,Gh:m,Gl:g,Hh:x,Hl:w}=this;return[e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w]}set(e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=g|0,this.Hh=x|0,this.Hl=w|0}process(e,r){for(let A=0;A<16;A++,r+=4)Da[A]=e.getUint32(r),Oa[A]=e.getUint32(r+=4);for(let A=16;A<80;A++){let T=Da[A-15]|0,C=Oa[A-15]|0,W=_e.rotrSH(T,C,1)^_e.rotrSH(T,C,8)^_e.shrSH(T,C,7),oe=_e.rotrSL(T,C,1)^_e.rotrSL(T,C,8)^_e.shrSL(T,C,7),Y=Da[A-2]|0,G=Oa[A-2]|0,re=_e.rotrSH(Y,G,19)^_e.rotrBH(Y,G,61)^_e.shrSH(Y,G,6),Z=_e.rotrSL(Y,G,19)^_e.rotrBL(Y,G,61)^_e.shrSL(Y,G,6),D=_e.add4L(oe,Z,Oa[A-7],Oa[A-16]),O=_e.add4H(D,W,re,Da[A-7],Da[A-16]);Da[A]=O|0,Oa[A]=D|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:p,Fh:m,Fl:g,Gh:x,Gl:w,Hh:S,Hl:k}=this;for(let A=0;A<80;A++){let T=_e.rotrSH(f,p,14)^_e.rotrSH(f,p,18)^_e.rotrBH(f,p,41),C=_e.rotrSL(f,p,14)^_e.rotrSL(f,p,18)^_e.rotrBL(f,p,41),W=f&m^~f&x,oe=p&g^~p&w,Y=_e.add5L(k,C,oe,x$[A],Oa[A]),G=_e.add5H(Y,S,T,W,b$[A],Da[A]),re=Y|0,Z=_e.rotrSH(n,o,28)^_e.rotrBH(n,o,34)^_e.rotrBH(n,o,39),D=_e.rotrSL(n,o,28)^_e.rotrBL(n,o,34)^_e.rotrBL(n,o,39),O=n&i^n&a^i&a,R=o&s^o&c^s&c;S=x|0,k=w|0,x=m|0,w=g|0,m=f|0,g=p|0,{h:f,l:p}=_e.add(u|0,h|0,G|0,re|0),u=a|0,h=c|0,a=i|0,c=s|0,i=n|0,s=o|0;let Q=_e.add3L(re,D,R);n=_e.add3H(Q,G,Z,O),o=Q|0}({h:n,l:o}=_e.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=_e.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=_e.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:h}=_e.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:p}=_e.add(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:g}=_e.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:x,l:w}=_e.add(this.Gh|0,this.Gl|0,x|0,w|0),{h:S,l:k}=_e.add(this.Hh|0,this.Hl|0,S|0,k|0),this.set(n,o,i,s,a,c,u,h,f,p,m,g,x,w,S,k)}roundClean(){Da.fill(0),Oa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},lS=class extends td{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},hS=class extends td{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},pS=class extends td{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},W_=ou(()=>new td),Mbe=ou(()=>new lS),Fbe=ou(()=>new hS),Hbe=ou(()=>new pS);cs.sha512Sync=(...t)=>W_(cs.concatBytes(...t));var{getPublicKey:w$}=Yy,yS=t=>{let e=w$(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}};var sg=class{addressTypes=["solana"];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new Gn.Account(new Uint8Array(n)));return{publicKey:r.publicKey.toBytes(),privateKey:r.secretKey}}generateKeypairFromSeed(e,r,n){let o=e.fold(i=>new Si(i));try{let i=o.derivePathType(n,r);switch(n){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44Root":case"bip44":case"bip44Change":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return{publicKey:i.publicKey,privateKey:i.secretKey};case"deprecated":{let s=yS(i.secretKey);return{publicKey:s.publicKey,privateKey:s.secretKey}}}}finally{o.cleanup()}}};d();l();d();l();d();l();d();l();d();l();d();l();d();l();function A$(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){let h=t.charAt(u),f=h.charCodeAt(0);if(e[f]!==255)throw new TypeError(h+" is ambiguous");e[f]=u}let r=t.length,n=t.charAt(0),o=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function s(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let h=0,f=0,p=0,m=u.length;for(;p!==m&&u[p]===0;)p++,h++;let g=(m-p)*i+1>>>0,x=new Uint8Array(g);for(;p!==m;){let k=u[p],A=0;for(let T=g-1;(k!==0||A<f)&&T!==-1;T--,A++)k+=256*x[T]>>>0,x[T]=k%r>>>0,k=k/r>>>0;if(k!==0)throw new Error("Non-zero carry");f=A,p++}let w=g-f;for(;w!==g&&x[w]===0;)w++;let S=n.repeat(h);for(;w<g;++w)S+=t.charAt(x[w]);return S}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let h=0,f=0,p=0;for(;u[h]===n;)f++,h++;let m=(u.length-h)*o+1>>>0,g=new Uint8Array(m);for(;u[h];){let k=e[u.charCodeAt(h)];if(k===255)return;let A=0;for(let T=m-1;(k!==0||A<p)&&T!==-1;T--,A++)k+=r*g[T]>>>0,g[T]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");p=A,h++}let x=m-p;for(;x!==m&&g[x]===0;)x++;let w=new Uint8Array(f+(m-x)),S=f;for(;x!==m;)w[S++]=g[x++];return w}function c(u){let h=a(u);if(h)return h;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:a,decode:c}}var G_=A$;var S$="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",mS=G_(S$);var iu=t=>mS.encode(t),su=t=>mS.decode(t);d();l();function Cr(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}var gS=8192;function $t(t){if(t.length<gS)return btoa(String.fromCharCode(...t));let e="";for(var r=0;r<t.length;r+=gS){let n=t.slice(r,r+gS);e+=String.fromCharCode(...n)}return btoa(e)}d();l();d();l();function Na(t){let e=t.startsWith("0x")?t.slice(2):t,n=(e.length%2===0?e:`0${e}}`).match(/.{2}/g)?.map(o=>parseInt(o,16))??[];return Uint8Array.from(n)}function Io(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}d();l();d();l();function rd(t){let e=[],r=0;if(t===0)return[0];for(;t>0;)e[r]=t&127,(t>>=7)&&(e[r]|=128),r+=1;return e}function $_(t){let e=0,r=0,n=0;for(;;){let o=t[n];if(n+=1,e|=(o&127)<<r,!(o&128))break;r+=7}return{value:e,length:n}}var ag=class{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let e=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let e=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(e){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,e);return this.shift(e),n}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e),{value:n,length:o}=$_(r);return this.shift(o),n}readVec(e){let r=this.readULEB(),n=[];for(let o=0;o<r;o++)n.push(e(this,o,r));return n}};d();l();d();l();function bS(t,e){switch(e){case"base58":return iu(t);case"base64":return $t(t);case"hex":return Io(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function xS(t,e=["<",">"]){let[r,n]=e,o=[],i="",s=0;for(let a=0;a<t.length;a++){let c=t[a];if(c===r&&s++,c===n&&s--,s===0&&c===","){o.push(i.trim()),i="";continue}i+=c}return o.push(i.trim()),o}var cg=class{constructor({initialSize:e=1024,maxSize:r=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=r,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let r=this.bytePosition+e;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let o=new ArrayBuffer(this.size);new Uint8Array(o).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(o)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return wS(BigInt(e),8).forEach(r=>this.write8(r)),this}write128(e){return wS(BigInt(e),16).forEach(r=>this.write8(r)),this}write256(e){return wS(BigInt(e),32).forEach(r=>this.write8(r)),this}writeULEB(e){return rd(e).forEach(r=>this.write8(r)),this}writeVec(e,r){return this.writeULEB(e.length),Array.from(e).forEach((n,o)=>r(this,n,o,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return bS(this.toBytes(),e)}};function wS(t,e){let r=new Uint8Array(e),n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return r}var Q_=t=>{throw TypeError(t)},Y_=(t,e,r)=>e.has(t)||Q_("Cannot "+r),Qo=(t,e,r)=>(Y_(t,e,"read from private field"),r?r.call(t):e.get(t)),fg=(t,e,r)=>e.has(t)?Q_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),dg=(t,e,r,n)=>(Y_(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),nd,z0,ug,Ra,v$=class J_{constructor(e){fg(this,nd),fg(this,z0),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),dg(this,nd,e.write),dg(this,z0,e.serialize??((r,n)=>{let o=new cg({initialSize:this.serializedSize(r)??void 0,...n});return Qo(this,nd).call(this,r,o),o.toBytes()})),this.validate=e.validate??(()=>{})}write(e,r){this.validate(e),Qo(this,nd).call(this,e,r)}serialize(e,r){return this.validate(e),new AS(this,Qo(this,z0).call(this,e,r))}parse(e){let r=new ag(e);return this.read(r)}fromHex(e){return this.parse(Na(e))}fromBase58(e){return this.parse(su(e))}fromBase64(e){return this.parse(Cr(e))}transform({name:e,input:r,output:n,validate:o}){return new J_({name:e??this.name,read:i=>n(this.read(i)),write:(i,s)=>Qo(this,nd).call(this,r(i),s),serializedSize:i=>this.serializedSize(r(i)),serialize:(i,s)=>Qo(this,z0).call(this,r(i),s),validate:i=>{o?.(i),this.validate(r(i))}})}};nd=new WeakMap;z0=new WeakMap;var Ci=v$,E$=Symbol.for("@mysten/serialized-bcs");var AS=class{constructor(e,r){fg(this,ug),fg(this,Ra),dg(this,ug,e),dg(this,Ra,r)}get[E$](){return!0}toBytes(){return Qo(this,Ra)}toHex(){return Io(Qo(this,Ra))}toBase64(){return $t(Qo(this,Ra))}toBase58(){return iu(Qo(this,Ra))}parse(){return Qo(this,ug).parse(Qo(this,Ra))}};ug=new WeakMap;Ra=new WeakMap;function j0({size:t,...e}){return new Ci({...e,serializedSize:()=>t})}function lg({readMethod:t,writeMethod:e,...r}){return j0({...r,read:n=>n[t](),write:(n,o)=>o[e](n),validate:n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)}})}function hg({readMethod:t,writeMethod:e,...r}){return j0({...r,read:n=>n[t](),write:(n,o)=>o[e](BigInt(n)),validate:n=>{let o=BigInt(n);if(o<0||o>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${o}. Expected value in range 0-${r.maxValue}`);r.validate?.(o)}})}function X_({serialize:t,...e}){let r=new Ci({...e,serialize:t,write:(n,o)=>{for(let i of r.serialize(n).toBytes())o.write8(i)}});return r}function Z_({toBytes:t,fromBytes:e,...r}){return new Ci({...r,read:n=>{let o=n.readULEB(),i=n.readBytes(o);return e(i)},write:(n,o)=>{let i=t(n);o.writeULEB(i.length);for(let s=0;s<i.length;s++)o.write8(i[s])},serialize:n=>{let o=t(n),i=rd(o.length),s=new Uint8Array(i.length+o.length);return s.set(i,0),s.set(o,i.length),s},validate:n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)}})}function eP(t){let e=null;function r(){return e||(e=t()),e}return new Ci({name:"lazy",read:n=>r().read(n),serializedSize:n=>r().serializedSize(n),write:(n,o)=>r().write(n,o),serialize:(n,o)=>r().serialize(n,o).toBytes()})}d();l();var E={u8(t){return lg({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return lg({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return lg({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return hg({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return hg({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return hg({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return j0({name:"bool",size:1,read:e=>e.read8()===1,write:(e,r)=>r.write8(e?1:0),...t,validate:e=>{if(t?.validate?.(e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)}})},uleb128(t){return X_({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(rd(e)),...t})},bytes(t,e){return j0({name:`bytes[${t}]`,size:t,read:r=>r.readBytes(t),write:(r,n)=>{let o=new Uint8Array(r);for(let i=0;i<t;i++)n.write8(o[i]??0)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t)throw new TypeError(`Expected array of length ${t}, found ${r.length}`)}})},string(t){return Z_({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...t})},fixedArray(t,e,r){return new Ci({name:`${e.name}[${t}]`,read:n=>{let o=new Array(t);for(let i=0;i<t;i++)o[i]=e.read(n);return o},write:(n,o)=>{for(let i of n)e.write(i,o)},...r,validate:n=>{if(r?.validate?.(n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)}})},option(t){return E.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:e=>e==null?{None:!0}:{Some:e},output:e=>e.$kind==="Some"?e.Some:null})},vector(t,e){return new Ci({name:`vector<${t.name}>`,read:r=>{let n=r.readULEB(),o=new Array(n);for(let i=0;i<n;i++)o[i]=t.read(r);return o},write:(r,n)=>{n.writeULEB(r.length);for(let o of r)t.write(o,n)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)}})},tuple(t,e){return new Ci({name:`(${t.map(r=>r.name).join(", ")})`,serializedSize:r=>{let n=0;for(let o=0;o<t.length;o++){let i=t[o].serializedSize(r[o]);if(i==null)return null;n+=i}return n},read:r=>{let n=[];for(let o of t)n.push(o.read(r));return n},write:(r,n)=>{for(let o=0;o<t.length;o++)t[o].write(r[o],n)},...e,validate:r=>{if(e?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${r.length}`)}})},struct(t,e,r){let n=Object.entries(e);return new Ci({name:t,serializedSize:o=>{let i=0;for(let[s,a]of n){let c=a.serializedSize(o[s]);if(c==null)return null;i+=c}return i},read:o=>{let i={};for(let[s,a]of n)i[s]=a.read(o);return i},write:(o,i)=>{for(let[s,a]of n)a.write(o[s],i)},...r,validate:o=>{if(r?.validate?.(o),typeof o!="object"||o==null)throw new TypeError(`Expected object, found ${typeof o}`)}})},enum(t,e,r){let n=Object.entries(e);return new Ci({name:t,read:o=>{let i=o.readULEB(),s=n[i];if(!s)throw new TypeError(`Unknown value ${i} for enum ${t}`);let[a,c]=s;return{[a]:c?.read(o)??!0,$kind:a}},write:(o,i)=>{let[s,a]=Object.entries(o).filter(([c])=>Object.hasOwn(e,c))[0];for(let c=0;c<n.length;c++){let[u,h]=n[c];if(u===s){i.writeULEB(c),h?.write(a,i);return}}},...r,validate:o=>{if(r?.validate?.(o),typeof o!="object"||o==null)throw new TypeError(`Expected object, found ${typeof o}`);let i=Object.keys(o).filter(a=>o[a]!==void 0&&Object.hasOwn(e,a));if(i.length!==1)throw new TypeError(`Expected object with one key, but found ${i.length} for type ${t}}`);let[s]=i;if(!Object.hasOwn(e,s))throw new TypeError(`Invalid enum variant ${s}`)}})},map(t,e){return E.vector(E.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:r=>[...r.entries()],output:r=>{let n=new Map;for(let[o,i]of r)n.set(o,i);return n}})},lazy(t){return eP(t)}};d();l();d();l();d();l();var Ua=32;function tP(t){return I$(t)&&k$(t)===Ua}function Di(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(Ua*2,"0")}`}function I$(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function k$(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}d();l();var T$=/^vector<(.+)>$/,_$=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,W0=class t{static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(T$);if(n)return{vector:t.parseFromStr(n[1],r)};let o=e.match(_$);if(o)return{struct:{address:r?Di(o[1]):o[1],module:o[2],name:o[3],typeParams:o[5]===void 0?[]:t.parseStructTypeArgs(o[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return xS(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function P$(t){return E.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function B$(t){return E.enum("Option",{None:null,Some:t})}var Ot=E.bytes(Ua).transform({validate:t=>{let e=typeof t=="string"?t:Io(t);if(!e||!tP(Di(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?Na(Di(t)):t,output:t=>Di(Io(t))}),Xn=E.vector(E.u8()).transform({name:"ObjectDigest",input:t=>su(t),output:t=>iu(new Uint8Array(t)),validate:t=>{if(su(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),Nn=E.struct("SuiObjectRef",{objectId:Ot,version:E.u64(),digest:Xn}),SS=E.struct("SharedObjectRef",{objectId:Ot,initialSharedVersion:E.u64(),mutable:E.bool()}),vS=E.enum("ObjectArg",{ImmOrOwnedObject:Nn,SharedObject:SS,Receiving:Nn}),ES=E.enum("CallArg",{Pure:E.struct("Pure",{bytes:E.vector(E.u8()).transform({input:t=>typeof t=="string"?Cr(t):t,output:t=>$t(new Uint8Array(t))})}),Object:vS}),IS=E.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:E.lazy(()=>IS),struct:E.lazy(()=>CS),u16:null,u32:null,u256:null}),pg=IS.transform({input:t=>typeof t=="string"?W0.parseFromStr(t,!0):t,output:t=>W0.tagToString(t)}),Yo=E.enum("Argument",{GasCoin:null,Input:E.u16(),Result:E.u16(),NestedResult:E.tuple([E.u16(),E.u16()])}),kS=E.struct("ProgrammableMoveCall",{package:Ot,module:E.string(),function:E.string(),typeArguments:E.vector(pg),arguments:E.vector(Yo)}),TS=E.enum("Command",{MoveCall:kS,TransferObjects:E.struct("TransferObjects",{objects:E.vector(Yo),address:Yo}),SplitCoins:E.struct("SplitCoins",{coin:Yo,amounts:E.vector(Yo)}),MergeCoins:E.struct("MergeCoins",{destination:Yo,sources:E.vector(Yo)}),Publish:E.struct("Publish",{modules:E.vector(E.vector(E.u8()).transform({input:t=>typeof t=="string"?Cr(t):t,output:t=>$t(new Uint8Array(t))})),dependencies:E.vector(Ot)}),MakeMoveVec:E.struct("MakeMoveVec",{type:B$(pg).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:E.vector(Yo)}),Upgrade:E.struct("Upgrade",{modules:E.vector(E.vector(E.u8()).transform({input:t=>typeof t=="string"?Cr(t):t,output:t=>$t(new Uint8Array(t))})),dependencies:E.vector(Ot),package:Ot,ticket:Yo})}),_S=E.struct("ProgrammableTransaction",{inputs:E.vector(ES),commands:E.vector(TS)}),PS=E.enum("TransactionKind",{ProgrammableTransaction:_S,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),BS=E.enum("TransactionExpiration",{None:null,Epoch:P$()}),CS=E.struct("StructTag",{address:Ot,module:E.string(),name:E.string(),typeParams:E.vector(IS)}),DS=E.struct("GasData",{payment:E.vector(Nn),owner:Ot,price:E.u64(),budget:E.u64()}),OS=E.struct("TransactionDataV1",{kind:PS,sender:Ot,gasData:DS,expiration:BS}),NS=E.enum("TransactionData",{V1:OS}),RS=E.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),US=E.enum("IntentVersion",{V0:null}),LS=E.enum("AppId",{Sui:null}),MS=E.struct("Intent",{scope:RS,version:US,appId:LS});function FS(t){return E.struct(`IntentMessage<${t.name}>`,{intent:MS,value:t})}var HS=E.enum("CompressedSignature",{ED25519:E.fixedArray(64,E.u8()),Secp256k1:E.fixedArray(64,E.u8()),Secp256r1:E.fixedArray(64,E.u8()),ZkLogin:E.vector(E.u8())}),KS=E.enum("PublicKey",{ED25519:E.fixedArray(32,E.u8()),Secp256k1:E.fixedArray(33,E.u8()),Secp256r1:E.fixedArray(33,E.u8()),ZkLogin:E.vector(E.u8())}),VS=E.struct("MultiSigPkMap",{pubKey:KS,weight:E.u8()}),qS=E.struct("MultiSigPublicKey",{pk_map:E.vector(VS),threshold:E.u16()}),rP=E.struct("MultiSig",{sigs:E.vector(HS),bitmap:E.u16(),multisig_pk:qS}),C$=E.vector(E.u8()).transform({input:t=>typeof t=="string"?Cr(t):t,output:t=>$t(new Uint8Array(t))}),zS=E.struct("SenderSignedTransaction",{intentMessage:FS(NS),txSignatures:E.vector(C$)}),nP=E.vector(zS,{name:"SenderSignedData"});d();l();var D$=E.enum("PackageUpgradeError",{UnableToFetchPackage:E.struct("UnableToFetchPackage",{packageId:Ot}),NotAPackage:E.struct("NotAPackage",{objectId:Ot}),IncompatibleUpgrade:null,DigestDoesNotMatch:E.struct("DigestDoesNotMatch",{digest:E.vector(E.u8())}),UnknownUpgradePolicy:E.struct("UnknownUpgradePolicy",{policy:E.u8()}),PackageIDDoesNotMatch:E.struct("PackageIDDoesNotMatch",{packageId:Ot,ticketId:Ot})}),O$=E.struct("ModuleId",{address:Ot,name:E.string()}),oP=E.struct("MoveLocation",{module:O$,function:E.u16(),instruction:E.u16(),functionName:E.option(E.string())}),N$=E.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:E.struct("IndexOutOfBounds",{idx:E.u16()}),SecondaryIndexOutOfBounds:E.struct("SecondaryIndexOutOfBounds",{resultIdx:E.u16(),secondaryIdx:E.u16()}),InvalidResultArity:E.struct("InvalidResultArity",{resultIdx:E.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),R$=E.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),U$=E.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:E.struct("MoveObjectTooBig",{objectSize:E.u64(),maxObjectSize:E.u64()}),MovePackageTooBig:E.struct("MovePackageTooBig",{objectSize:E.u64(),maxObjectSize:E.u64()}),CircularObjectOwnership:E.struct("CircularObjectOwnership",{object:Ot}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:E.option(oP),MoveAbort:E.tuple([oP,E.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:E.struct("CommandArgumentError",{argIdx:E.u16(),kind:N$}),TypeArgumentError:E.struct("TypeArgumentError",{argumentIdx:E.u16(),kind:R$}),UnusedValueWithoutDrop:E.struct("UnusedValueWithoutDrop",{resultIdx:E.u16(),secondaryIdx:E.u16()}),InvalidPublicFunctionReturnType:E.struct("InvalidPublicFunctionReturnType",{idx:E.u16()}),InvalidTransferObject:null,EffectsTooLarge:E.struct("EffectsTooLarge",{currentSize:E.u64(),maxSize:E.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:E.struct("PackageUpgradeError",{upgradeError:D$}),WrittenObjectsTooLarge:E.struct("WrittenObjectsTooLarge",{currentSize:E.u64(),maxSize:E.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:E.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:E.vector(Ot)}),AddressDeniedForCoin:E.struct("AddressDeniedForCoin",{address:Ot,coinType:E.string()}),CoinTypeGlobalPause:E.struct("CoinTypeGlobalPause",{coinType:E.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),iP=E.enum("ExecutionStatus",{Success:null,Failed:E.struct("ExecutionFailed",{error:U$,command:E.option(E.u64())})}),sP=E.struct("GasCostSummary",{computationCost:E.u64(),storageCost:E.u64(),storageRebate:E.u64(),nonRefundableStorageFee:E.u64()}),od=E.enum("Owner",{AddressOwner:Ot,ObjectOwner:Ot,Shared:E.struct("Shared",{initialSharedVersion:E.u64()}),Immutable:null}),L$=E.struct("TransactionEffectsV1",{status:iP,executedEpoch:E.u64(),gasUsed:sP,modifiedAtVersions:E.vector(E.tuple([Ot,E.u64()])),sharedObjects:E.vector(Nn),transactionDigest:Xn,created:E.vector(E.tuple([Nn,od])),mutated:E.vector(E.tuple([Nn,od])),unwrapped:E.vector(E.tuple([Nn,od])),deleted:E.vector(Nn),unwrappedThenDeleted:E.vector(Nn),wrapped:E.vector(Nn),gasObject:E.tuple([Nn,od]),eventsDigest:E.option(Xn),dependencies:E.vector(Xn)}),jS=E.tuple([E.u64(),Xn]),M$=E.enum("ObjectIn",{NotExist:null,Exist:E.tuple([jS,od])}),F$=E.enum("ObjectOut",{NotExist:null,ObjectWrite:E.tuple([Xn,od]),PackageWrite:jS}),H$=E.enum("IDOperation",{None:null,Created:null,Deleted:null}),K$=E.struct("EffectsObjectChange",{inputState:M$,outputState:F$,idOperation:H$}),V$=E.enum("UnchangedSharedKind",{ReadOnlyRoot:jS,MutateDeleted:E.u64(),ReadDeleted:E.u64(),Cancelled:E.u64(),PerEpochConfig:null}),q$=E.struct("TransactionEffectsV2",{status:iP,executedEpoch:E.u64(),gasUsed:sP,transactionDigest:Xn,gasObjectIndex:E.option(E.u32()),eventsDigest:E.option(Xn),dependencies:E.vector(Xn),lamportVersion:E.u64(),changedObjects:E.vector(E.tuple([Ot,K$])),unchangedSharedObjects:E.vector(E.tuple([Ot,V$])),auxDataDigest:E.option(Xn)}),aP=E.enum("TransactionEffects",{V1:L$,V2:q$});var hs={...E,U8:E.u8(),U16:E.u16(),U32:E.u32(),U64:E.u64(),U128:E.u128(),U256:E.u256(),ULEB128:E.uleb128(),Bool:E.bool(),String:E.string(),Address:Ot,AppId:LS,Argument:Yo,CallArg:ES,CompressedSignature:HS,GasData:DS,Intent:MS,IntentMessage:FS,IntentScope:RS,IntentVersion:US,MultiSig:rP,MultiSigPkMap:VS,MultiSigPublicKey:qS,ObjectArg:vS,ObjectDigest:Xn,ProgrammableMoveCall:kS,ProgrammableTransaction:_S,PublicKey:KS,SenderSignedData:nP,SenderSignedTransaction:zS,SharedObjectRef:SS,StructTag:CS,SuiObjectRef:Nn,Command:TS,TransactionData:NS,TransactionDataV1:OS,TransactionExpiration:BS,TransactionKind:PS,TypeTag:pg,TransactionEffects:aP};d();l();d();l();d();l();d();l();function id(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function z$(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function sd(t,...e){if(!z$(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function cP(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");id(t.outputLen),id(t.blockLen)}function ps(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function yg(t,e){sd(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();l();var ad=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),mg=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var Ma=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,fP=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,Jo=Ma?t=>t:t=>fP(t);function au(t){for(let e=0;e<t.length;e++)t[e]=fP(t[e])}var j$=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function gg(t){sd(t);let e="";for(let r=0;r<t.length;r++)e+=j$[t[r]];return e}var ys={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function uP(t){if(t>=ys._0&&t<=ys._9)return t-ys._0;if(t>=ys._A&&t<=ys._F)return t-(ys._A-10);if(t>=ys._a&&t<=ys._f)return t-(ys._a-10)}function dP(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let o=0,i=0;o<r;o++,i+=2){let s=uP(t.charCodeAt(i)),a=uP(t.charCodeAt(i+1));if(s===void 0||a===void 0){let c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[o]=s*16+a}return n}function W$(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function ko(t){return typeof t=="string"&&(t=W$(t)),sd(t),t}var La=class{clone(){return this._cloneInto()}},K1e={}.toString;function lP(t){let e=n=>t().update(ko(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function hP(t){let e=(n,o)=>t(o).update(ko(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}var pP=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),bg=class extends La{constructor(e,r,n={},o,i,s){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,id(e),id(r),id(o),r<0||r>o)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>o))throw new Error(`key must be up 1..${o} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==i)throw new Error(`salt must be ${i} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=ad(this.buffer=new Uint8Array(e))}update(e){ps(this);let{blockLen:r,buffer:n,buffer32:o}=this;e=ko(e);let i=e.length,s=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===r&&(Ma||au(o),this.compress(o,0,!1),Ma||au(o),this.pos=0);let u=Math.min(r-this.pos,i-c),h=s+c;if(u===r&&!(h%4)&&c+u<i){let f=new Uint32Array(a,h,Math.floor((i-c)/4));Ma||au(f);for(let p=0;c+r<i;p+=o.length,c+=r)this.length+=r,this.compress(f,p,!1);Ma||au(f);continue}n.set(e.subarray(c,c+u),this.pos),this.pos+=u,this.length+=u,c+=u}return this}digestInto(e){ps(this),yg(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),Ma||au(n),this.compress(n,0,!0),Ma||au(n);let o=ad(e);this.get().forEach((i,s)=>o[s]=Jo(i))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:o,destroyed:i,outputLen:s,pos:a}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=n,e.finished=o,e.destroyed=i,e.outputLen=s,e.buffer.set(r),e.pos=a,e}};d();l();var xg=BigInt(4294967295),WS=BigInt(32);function yP(t,e=!1){return e?{h:Number(t&xg),l:Number(t>>WS&xg)}:{h:Number(t>>WS&xg)|0,l:Number(t&xg)|0}}function G$(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){let{h:i,l:s}=yP(t[o],e);[r[o],n[o]]=[i,s]}return[r,n]}var $$=(t,e)=>BigInt(t>>>0)<<WS|BigInt(e>>>0),Q$=(t,e,r)=>t>>>r,Y$=(t,e,r)=>t<<32-r|e>>>r,J$=(t,e,r)=>t>>>r|e<<32-r,X$=(t,e,r)=>t<<32-r|e>>>r,Z$=(t,e,r)=>t<<64-r|e>>>r-32,eQ=(t,e,r)=>t>>>r-32|e<<64-r,tQ=(t,e)=>e,rQ=(t,e)=>t,nQ=(t,e,r)=>t<<r|e>>>32-r,oQ=(t,e,r)=>e<<r|t>>>32-r,iQ=(t,e,r)=>e<<r-32|t>>>64-r,sQ=(t,e,r)=>t<<r-32|e>>>64-r;function aQ(t,e,r,n){let o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}var cQ=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),uQ=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,fQ=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),dQ=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,lQ=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),hQ=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0;var pQ={fromBig:yP,split:G$,toBig:$$,shrSH:Q$,shrSL:Y$,rotrSH:J$,rotrSL:X$,rotrBH:Z$,rotrBL:eQ,rotr32H:tQ,rotr32L:rQ,rotlSH:nQ,rotlSL:oQ,rotlBH:iQ,rotlBL:sQ,add:aQ,add3L:cQ,add3H:uQ,add4L:fQ,add4H:dQ,add5H:hQ,add5L:lQ},be=pQ;var gr=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ue=new Uint32Array(32);function Fa(t,e,r,n,o,i){let s=o[i],a=o[i+1],c=ue[2*t],u=ue[2*t+1],h=ue[2*e],f=ue[2*e+1],p=ue[2*r],m=ue[2*r+1],g=ue[2*n],x=ue[2*n+1],w=be.add3L(c,h,s);u=be.add3H(w,u,f,a),c=w|0,{Dh:x,Dl:g}={Dh:x^u,Dl:g^c},{Dh:x,Dl:g}={Dh:be.rotr32H(x,g),Dl:be.rotr32L(x,g)},{h:m,l:p}=be.add(m,p,x,g),{Bh:f,Bl:h}={Bh:f^m,Bl:h^p},{Bh:f,Bl:h}={Bh:be.rotrSH(f,h,24),Bl:be.rotrSL(f,h,24)},ue[2*t]=c,ue[2*t+1]=u,ue[2*e]=h,ue[2*e+1]=f,ue[2*r]=p,ue[2*r+1]=m,ue[2*n]=g,ue[2*n+1]=x}function Ha(t,e,r,n,o,i){let s=o[i],a=o[i+1],c=ue[2*t],u=ue[2*t+1],h=ue[2*e],f=ue[2*e+1],p=ue[2*r],m=ue[2*r+1],g=ue[2*n],x=ue[2*n+1],w=be.add3L(c,h,s);u=be.add3H(w,u,f,a),c=w|0,{Dh:x,Dl:g}={Dh:x^u,Dl:g^c},{Dh:x,Dl:g}={Dh:be.rotrSH(x,g,16),Dl:be.rotrSL(x,g,16)},{h:m,l:p}=be.add(m,p,x,g),{Bh:f,Bl:h}={Bh:f^m,Bl:h^p},{Bh:f,Bl:h}={Bh:be.rotrBH(f,h,63),Bl:be.rotrBL(f,h,63)},ue[2*t]=c,ue[2*t+1]=u,ue[2*e]=h,ue[2*e+1]=f,ue[2*r]=p,ue[2*r+1]=m,ue[2*n]=g,ue[2*n+1]=x}var GS=class extends bg{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=gr[0]|0,this.v0h=gr[1]|0,this.v1l=gr[2]|0,this.v1h=gr[3]|0,this.v2l=gr[4]|0,this.v2h=gr[5]|0,this.v3l=gr[6]|0,this.v3h=gr[7]|0,this.v4l=gr[8]|0,this.v4h=gr[9]|0,this.v5l=gr[10]|0,this.v5h=gr[11]|0,this.v6l=gr[12]|0,this.v6h=gr[13]|0,this.v7l=gr[14]|0,this.v7h=gr[15]|0;let r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){let n=ad(ko(e.salt));this.v4l^=Jo(n[0]),this.v4h^=Jo(n[1]),this.v5l^=Jo(n[2]),this.v5h^=Jo(n[3])}if(e.personalization){let n=ad(ko(e.personalization));this.v6l^=Jo(n[0]),this.v6h^=Jo(n[1]),this.v7l^=Jo(n[2]),this.v7h^=Jo(n[3])}if(e.key){let n=new Uint8Array(this.blockLen);n.set(ko(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:o,v2l:i,v2h:s,v3l:a,v3h:c,v4l:u,v4h:h,v5l:f,v5h:p,v6l:m,v6h:g,v7l:x,v7h:w}=this;return[e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w]}set(e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=o|0,this.v2l=i|0,this.v2h=s|0,this.v3l=a|0,this.v3h=c|0,this.v4l=u|0,this.v4h=h|0,this.v5l=f|0,this.v5h=p|0,this.v6l=m|0,this.v6h=g|0,this.v7l=x|0,this.v7h=w|0}compress(e,r,n){this.get().forEach((c,u)=>ue[u]=c),ue.set(gr,16);let{h:o,l:i}=be.fromBig(BigInt(this.length));ue[24]=gr[8]^i,ue[25]=gr[9]^o,n&&(ue[28]=~ue[28],ue[29]=~ue[29]);let s=0,a=pP;for(let c=0;c<12;c++)Fa(0,4,8,12,e,r+2*a[s++]),Ha(0,4,8,12,e,r+2*a[s++]),Fa(1,5,9,13,e,r+2*a[s++]),Ha(1,5,9,13,e,r+2*a[s++]),Fa(2,6,10,14,e,r+2*a[s++]),Ha(2,6,10,14,e,r+2*a[s++]),Fa(3,7,11,15,e,r+2*a[s++]),Ha(3,7,11,15,e,r+2*a[s++]),Fa(0,5,10,15,e,r+2*a[s++]),Ha(0,5,10,15,e,r+2*a[s++]),Fa(1,6,11,12,e,r+2*a[s++]),Ha(1,6,11,12,e,r+2*a[s++]),Fa(2,7,8,13,e,r+2*a[s++]),Ha(2,7,8,13,e,r+2*a[s++]),Fa(3,4,9,14,e,r+2*a[s++]),Ha(3,4,9,14,e,r+2*a[s++]);this.v0l^=ue[0]^ue[16],this.v0h^=ue[1]^ue[17],this.v1l^=ue[2]^ue[18],this.v1h^=ue[3]^ue[19],this.v2l^=ue[4]^ue[20],this.v2h^=ue[5]^ue[21],this.v3l^=ue[6]^ue[22],this.v3h^=ue[7]^ue[23],this.v4l^=ue[8]^ue[24],this.v4h^=ue[9]^ue[25],this.v5l^=ue[10]^ue[26],this.v5h^=ue[11]^ue[27],this.v6l^=ue[12]^ue[28],this.v6h^=ue[13]^ue[29],this.v7l^=ue[14]^ue[30],this.v7h^=ue[15]^ue[31],ue.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},cu=hP(t=>new GS(t));d();l();d();l();function wg(t,e){return hs.IntentMessage(hs.fixedArray(e.length,hs.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}function $S(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var cd=class{equals(e){return $S(this.toRawBytes(),e.toRawBytes())}toBase64(){return $t(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return $t(e)}verifyWithIntent(e,r,n){let o=wg(n,e),i=cu(o,{dkLen:32});return this.verify(i,r)}verifyPersonalMessage(e,r){return this.verifyWithIntent(hs.vector(hs.u8()).serialize(e).toBytes(),r,"PersonalMessage")}verifyTransaction(e,r){return this.verifyWithIntent(e,r,"TransactionData")}toSuiBytes(){let e=this.toRawBytes(),r=new Uint8Array(e.length+1);return r.set([this.flag()]),r.set(e,1),r}toSuiAddress(){return Di(gg(cu(this.toSuiBytes(),{dkLen:32})).slice(0,Ua*2))}};d();l();var ms={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},mP={ED25519:32,Secp256k1:33,Secp256r1:33},Ag={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};d();l();d();l();d();l();function gP(t,e){if(!!!t)throw new Error(e)}d();l();var YS={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},yQ=new Set(Object.keys(YS));function JS(t){let e=t?.kind;return typeof e=="string"&&yQ.has(e)}var QS;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(QS||(QS={}));d();l();var G0;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(G0||(G0={}));d();l();d();l();function XS(t){return t===9||t===32}function bP(t,e){let r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),o=n.length===1,i=n.length>1&&n.slice(1).every(m=>m.length===0||XS(m.charCodeAt(0))),s=r.endsWith('\\"""'),a=t.endsWith('"')&&!s,c=t.endsWith("\\"),u=a||c,h=!(e!=null&&e.minimize)&&(!o||t.length>70||u||i||s),f="",p=o&&XS(t.charCodeAt(0));return(h&&!p||i)&&(f+=`
`),f+=r,(h||u)&&(f+=`
`),'"""'+f+'"""'}d();l();function xP(t){return Sg(t,[])}function Sg(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return mQ(t,e);default:return String(t)}}function mQ(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";let r=[...e,t];if(gQ(t)){let n=t.toJSON();if(n!==t)return typeof n=="string"?n:Sg(n,r)}else if(Array.isArray(t))return xQ(t,r);return bQ(t,r)}function gQ(t){return typeof t.toJSON=="function"}function bQ(t,e){let r=Object.entries(t);return r.length===0?"{}":e.length>2?"["+wQ(t)+"]":"{ "+r.map(([o,i])=>o+": "+Sg(i,e)).join(", ")+" }"}function xQ(t,e){if(t.length===0)return"[]";if(e.length>2)return"[Array]";let r=Math.min(10,t.length),n=t.length-r,o=[];for(let i=0;i<r;++i)o.push(Sg(t[i],e));return n===1?o.push("... 1 more item"):n>1&&o.push(`... ${n} more items`),"["+o.join(", ")+"]"}function wQ(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}d();l();d();l();function wP(t){return`"${t.replace(AQ,SQ)}"`}var AQ=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function SQ(t){return vQ[t.charCodeAt(0)]}var vQ=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];d();l();var AP=Object.freeze({});function ZS(t,e,r=YS){let n=new Map;for(let S of Object.values(G0))n.set(S,SP(e,S));let o,i=Array.isArray(t),s=[t],a=-1,c=[],u=t,h,f,p=[],m=[];do{a++;let S=a===s.length,k=S&&c.length!==0;if(S){if(h=m.length===0?void 0:p[p.length-1],u=f,f=m.pop(),k)if(i){u=u.slice();let T=0;for(let[C,W]of c){let oe=C-T;W===null?(u.splice(oe,1),T++):u[oe]=W}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(let[T,C]of c)u[T]=C}a=o.index,s=o.keys,c=o.edits,i=o.inArray,o=o.prev}else if(f){if(h=i?a:s[a],u=f[h],u==null)continue;p.push(h)}let A;if(!Array.isArray(u)){var g,x;JS(u)||gP(!1,`Invalid AST Node: ${xP(u)}.`);let T=S?(g=n.get(u.kind))===null||g===void 0?void 0:g.leave:(x=n.get(u.kind))===null||x===void 0?void 0:x.enter;if(A=T?.call(e,u,h,f,p,m),A===AP)break;if(A===!1){if(!S){p.pop();continue}}else if(A!==void 0&&(c.push([h,A]),!S))if(JS(A))u=A;else{p.pop();continue}}if(A===void 0&&k&&c.push([h,u]),S)p.pop();else{var w;o={inArray:i,index:a,keys:s,edits:c,prev:o},i=Array.isArray(u),s=i?u:(w=r[u.kind])!==null&&w!==void 0?w:[],a=-1,c=[],f&&m.push(f),f=u}}while(o!==void 0);return c.length!==0?c[c.length-1][1]:t}function SP(t,e){let r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}function Eg(t){return ZS(t,IQ)}var EQ=80,IQ={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>he(t.definitions,`

`)},OperationDefinition:{leave(t){let e=Ye("(",he(t.variableDefinitions,", "),")"),r=he([t.operation,he([t.name,e]),he(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+Ye(" = ",r)+Ye(" ",he(n," "))},SelectionSet:{leave:({selections:t})=>Xo(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:o}){let i=Ye("",t,": ")+e,s=i+Ye("(",he(r,", "),")");return s.length>EQ&&(s=i+Ye(`(
`,vg(he(r,`
`)),`
)`)),he([s,he(n," "),o]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Ye(" ",he(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>he(["...",Ye("on ",t),he(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:o})=>`fragment ${t}${Ye("(",he(r,", "),")")} on ${e} ${Ye("",he(n," ")," ")}`+o},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?bP(t):wP(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+he(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+he(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Ye("(",he(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:r})=>Ye("",t,`
`)+he(["schema",he(e," "),Xo(r)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:r})=>Ye("",t,`
`)+he(["scalar",e,he(r," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:o})=>Ye("",t,`
`)+he(["type",e,Ye("implements ",he(r," & ")),he(n," "),Xo(o)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:r,type:n,directives:o})=>Ye("",t,`
`)+e+(vP(r)?Ye(`(
`,vg(he(r,`
`)),`
)`):Ye("(",he(r,", "),")"))+": "+n+Ye(" ",he(o," "))},InputValueDefinition:{leave:({description:t,name:e,type:r,defaultValue:n,directives:o})=>Ye("",t,`
`)+he([e+": "+r,Ye("= ",n),he(o," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:o})=>Ye("",t,`
`)+he(["interface",e,Ye("implements ",he(r," & ")),he(n," "),Xo(o)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:r,types:n})=>Ye("",t,`
`)+he(["union",e,he(r," "),Ye("= ",he(n," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:r,values:n})=>Ye("",t,`
`)+he(["enum",e,he(r," "),Xo(n)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:r})=>Ye("",t,`
`)+he([e,he(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:r,fields:n})=>Ye("",t,`
`)+he(["input",e,he(r," "),Xo(n)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:r,repeatable:n,locations:o})=>Ye("",t,`
`)+"directive @"+e+(vP(r)?Ye(`(
`,vg(he(r,`
`)),`
)`):Ye("(",he(r,", "),")"))+(n?" repeatable":"")+" on "+he(o," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>he(["extend schema",he(t," "),Xo(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>he(["extend scalar",t,he(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>he(["extend type",t,Ye("implements ",he(e," & ")),he(r," "),Xo(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>he(["extend interface",t,Ye("implements ",he(e," & ")),he(r," "),Xo(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>he(["extend union",t,he(e," "),Ye("= ",he(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>he(["extend enum",t,he(e," "),Xo(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>he(["extend input",t,he(e," "),Xo(r)]," ")}};function he(t,e=""){var r;return(r=t?.filter(n=>n).join(e))!==null&&r!==void 0?r:""}function Xo(t){return Ye(`{
`,vg(he(t,`
`)),`
}`)}function Ye(t,e,r=""){return e!=null&&e!==""?t+e+r:""}function vg(t){return Ye("  ",t.replace(/\n/g,`
  `))}function vP(t){var e;return(e=t?.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}d();l();var EP=t=>{throw TypeError(t)},IP=(t,e,r)=>e.has(t)||EP("Cannot "+r),Ig=(t,e,r)=>(IP(t,e,"read from private field"),r?r.call(t):e.get(t)),kg=(t,e,r)=>e.has(t)?EP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Tg=(t,e,r,n)=>(IP(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),_g,Pg,Bg,Cg,ev=class extends Error{},Dg=class{constructor({url:e,fetch:r=fetch,headers:n={},queries:o={}}){kg(this,_g),kg(this,Pg),kg(this,Bg),kg(this,Cg),Tg(this,_g,e),Tg(this,Pg,o),Tg(this,Bg,n),Tg(this,Cg,(...i)=>r(...i))}async query(e){let r=await Ig(this,Cg).call(this,Ig(this,_g),{method:"POST",headers:{"Content-Type":"application/json",...Ig(this,Bg)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):Eg(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!r.ok)throw new ev(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(e,r){return this.query({...r,query:Ig(this,Pg)[e]})}};_g=new WeakMap;Pg=new WeakMap;Bg=new WeakMap;Cg=new WeakMap;d();l();d();l();d();l();var $0={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};var nv=class extends Error{constructor(e,r,n,o,i,s,a){super(e),this.name="GraphQLError",this.message=e,i&&(this.path=i),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),o&&(this.positions=o),s&&(this.originalError=s);var c=a;if(!c&&s){var u=s.extensions;u&&typeof u=="object"&&(c=u)}this.extensions=c||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}},ct,Ee;function or(t){return new nv(`Syntax Error: Unexpected token at ${Ee} in ${t}`)}function Zn(t){if(t.lastIndex=Ee,t.test(ct))return ct.slice(Ee,Ee=t.lastIndex)}var Og=/ +(?=[^\s])/y;function kQ(t){for(var e=t.split(`
`),r="",n=0,o=0,i=e.length-1,s=0;s<e.length;s++)Og.lastIndex=0,Og.test(e[s])&&(s&&(!n||Og.lastIndex<n)&&(n=Og.lastIndex),o=o||s,i=s);for(var a=o;a<=i;a++)a!==o&&(r+=`
`),r+=e[a].slice(n).replace(/\\"""/g,'"""');return r}function Oe(){for(var t=0|ct.charCodeAt(Ee++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|ct.charCodeAt(Ee++))if(t===35)for(;(t=ct.charCodeAt(Ee++))!==10&&t!==13;);Ee--}var yn=/[_A-Za-z]\w*/y,tv=new RegExp("(?:(null|true|false)|\\$("+yn.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+yn.source+"))","y"),Ka=function(t){return t[t.Const=1]="Const",t[t.Var=2]="Var",t[t.Int=3]="Int",t[t.Float=4]="Float",t[t.BlockString=5]="BlockString",t[t.String=6]="String",t[t.Enum=7]="Enum",t}(Ka||{}),TQ=/\\/;function Ng(t){var e,r;if(tv.lastIndex=Ee,ct.charCodeAt(Ee)===91){Ee++,Oe();for(var n=[];ct.charCodeAt(Ee)!==93;)n.push(Ng(t));return Ee++,Oe(),{kind:"ListValue",values:n}}else if(ct.charCodeAt(Ee)===123){Ee++,Oe();for(var o=[];ct.charCodeAt(Ee)!==125;){if((e=Zn(yn))==null||(Oe(),ct.charCodeAt(Ee++)!==58))throw or("ObjectField");Oe(),o.push({kind:"ObjectField",name:{kind:"Name",value:e},value:Ng(t)})}return Ee++,Oe(),{kind:"ObjectValue",fields:o}}else if((r=tv.exec(ct))!=null){if(Ee=tv.lastIndex,Oe(),(e=r[Ka.Const])!=null)return e==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:e==="true"};if((e=r[Ka.Var])!=null){if(t)throw or("Variable");return{kind:"Variable",name:{kind:"Name",value:e}}}else if((e=r[Ka.Int])!=null){var i;return(i=r[Ka.Float])!=null?{kind:"FloatValue",value:e+i}:{kind:"IntValue",value:e}}else{if((e=r[Ka.BlockString])!=null)return{kind:"StringValue",value:kQ(e.slice(3,-3)),block:!0};if((e=r[Ka.String])!=null)return{kind:"StringValue",value:TQ.test(e)?JSON.parse(e):e.slice(1,-1),block:!1};if((e=r[Ka.Enum])!=null)return{kind:"EnumValue",value:e}}}throw or("Value")}function kP(t){if(ct.charCodeAt(Ee)===40){var e=[];Ee++,Oe();var r;do{if((r=Zn(yn))==null||(Oe(),ct.charCodeAt(Ee++)!==58))throw or("Argument");Oe(),e.push({kind:"Argument",name:{kind:"Name",value:r},value:Ng(t)})}while(ct.charCodeAt(Ee)!==41);return Ee++,Oe(),e}}function ud(t){if(ct.charCodeAt(Ee)===64){var e=[],r;do{if(Ee++,(r=Zn(yn))==null)throw or("Directive");Oe(),e.push({kind:"Directive",name:{kind:"Name",value:r},arguments:kP(t)})}while(ct.charCodeAt(Ee)===64);return e}}function _Q(){for(var t,e=0;ct.charCodeAt(Ee)===91;)e++,Ee++,Oe();if((t=Zn(yn))==null)throw or("NamedType");Oe();var r={kind:"NamedType",name:{kind:"Name",value:t}};do if(ct.charCodeAt(Ee)===33&&(Ee++,Oe(),r={kind:"NonNullType",type:r}),e){if(ct.charCodeAt(Ee++)!==93)throw or("NamedType");Oe(),r={kind:"ListType",type:r}}while(e--);return r}var rv=new RegExp("(?:(\\.{3})|("+yn.source+"))","y"),ov=function(t){return t[t.Spread=1]="Spread",t[t.Name=2]="Name",t}(ov||{});function Rg(){var t=[],e,r;do if(rv.lastIndex=Ee,(r=rv.exec(ct))!=null){if(Ee=rv.lastIndex,r[ov.Spread]!=null){Oe();var n=Zn(yn);if(n!=null&&n!=="on")Oe(),t.push({kind:"FragmentSpread",name:{kind:"Name",value:n},directives:ud(!1)});else{if(Oe(),n==="on"){if((n=Zn(yn))==null)throw or("NamedType");Oe()}var o=ud(!1);if(ct.charCodeAt(Ee++)!==123)throw or("InlineFragment");Oe(),t.push({kind:"InlineFragment",typeCondition:n?{kind:"NamedType",name:{kind:"Name",value:n}}:void 0,directives:o,selectionSet:Rg()})}}else if((e=r[ov.Name])!=null){var i=void 0;if(Oe(),ct.charCodeAt(Ee)===58){if(Ee++,Oe(),i=e,(e=Zn(yn))==null)throw or("Field");Oe()}var s=kP(!1);Oe();var a=ud(!1),c=void 0;ct.charCodeAt(Ee)===123&&(Ee++,Oe(),c=Rg()),t.push({kind:"Field",alias:i?{kind:"Name",value:i}:void 0,name:{kind:"Name",value:e},arguments:s,directives:a,selectionSet:c})}}else throw or("SelectionSet");while(ct.charCodeAt(Ee)!==125);return Ee++,Oe(),{kind:"SelectionSet",selections:t}}function PQ(){var t,e;if((t=Zn(yn))==null||(Oe(),Zn(yn)!=="on")||(Oe(),(e=Zn(yn))==null))throw or("FragmentDefinition");Oe();var r=ud(!1);if(ct.charCodeAt(Ee++)!==123)throw or("FragmentDefinition");return Oe(),{kind:"FragmentDefinition",name:{kind:"Name",value:t},typeCondition:{kind:"NamedType",name:{kind:"Name",value:e}},directives:r,selectionSet:Rg()}}var BQ=/(?:query|mutation|subscription|fragment)/y;function CQ(t){var e,r,n;if(t&&(Oe(),e=Zn(yn),r=function(){if(Oe(),ct.charCodeAt(Ee)===40){var i=[];Ee++,Oe();var s;do{if(ct.charCodeAt(Ee++)!==36||(s=Zn(yn))==null)throw or("Variable");if(Oe(),ct.charCodeAt(Ee++)!==58)throw or("VariableDefinition");Oe();var a=_Q(),c=void 0;ct.charCodeAt(Ee)===61&&(Ee++,Oe(),c=Ng(!0)),Oe(),i.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:s}},type:a,defaultValue:c,directives:ud(!0)})}while(ct.charCodeAt(Ee)!==41);return Ee++,Oe(),i}}(),n=ud(!1)),ct.charCodeAt(Ee)===123)return Ee++,Oe(),{kind:"OperationDefinition",operation:t||"query",name:e?{kind:"Name",value:e}:void 0,variableDefinitions:r,directives:n,selectionSet:Rg()}}function TP(t,e){return Ee=0,function(n,o){var i,s;Oe();var a=[];do if((i=Zn(BQ))==="fragment")Oe(),a.push(PQ());else if((s=CQ(i))!=null)a.push(s);else throw or("Document");while(Ee<n.length);if(!o){var c;return{kind:"Document",definitions:a,set loc(u){c=u},get loc(){return c||(c={start:0,end:n.length,startToken:void 0,endToken:void 0,source:{body:n,name:"graphql.web",locationOffset:{line:1,column:1}}}),c}}}return{kind:"Document",definitions:a}}(ct=typeof t.body=="string"?t.body:t,e&&e.noLocation)}var _P=0,iv=new Set;function sv(){function t(e,r){var n=TP(e).definitions,o=new Set;for(var i of r||[])for(var s of i.definitions)s.kind===$0.FRAGMENT_DEFINITION&&!o.has(s)&&(n.push(s),o.add(s));var a;(a=n[0].kind===$0.FRAGMENT_DEFINITION)&&n[0].directives&&(n[0].directives=n[0].directives.filter(u=>u.name.value!=="_unmask"));var c;return{kind:$0.DOCUMENT,definitions:n,get loc(){if(!c&&a){var u=e+function(f){try{_P++;var p="";for(var m of f)if(!iv.has(m)){iv.add(m);var{loc:g}=m;g&&(p+=g.source.body)}return p}finally{--_P==0&&iv.clear()}}(r||[]);return{start:0,end:u.length,source:{body:u,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return c},set loc(u){c=u}}}return t.scalar=function(r,n){return n},t.persisted=function(r,n){return{kind:$0.DOCUMENT,definitions:n?n.definitions:[],documentId:r}},t}var q2e=sv();var PP=sv();d();l();function DQ(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(r===-1)throw new Error("Invalid base64Url character: "+t);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}function OQ(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charAt(r),o=DQ(n);e=e.concat(o)}return e}function NQ(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let r=OQ(t),n=e%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);let o=(e+t.length-1)%4;if(o!==3)if(o===2)r=r.slice(0,r.length-2);else if(o===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let i=new Uint8Array(Math.floor(r.length/8)),s=0;for(let a=0;a<r.length;a+=8){let c=r.slice(a,a+8),u=parseInt(c.join(""),2);i[s++]=u}return new TextDecoder().decode(i)}function RQ(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");let e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");let r=Object.keys(e)[0];return[r,e[r]]}function BP(t,e){let r=NQ(t.value,t.indexMod4),[n,o]=RQ(r);if(n!==e)throw new Error(`Invalid field name: found ${n} expected ${e}`);return o}d();l();d();l();var CP=E.struct("ZkLoginSignature",{inputs:E.struct("ZkLoginSignatureInputs",{proofPoints:E.struct("ZkLoginSignatureInputsProofPoints",{a:E.vector(E.string()),b:E.vector(E.vector(E.string())),c:E.vector(E.string())}),issBase64Details:E.struct("ZkLoginSignatureInputsClaim",{value:E.string(),indexMod4:E.u8()}),headerBase64:E.string(),addressSeed:E.string()}),maxEpoch:E.u64(),userSignature:E.vector(E.u8())});function DP(t){return CP.parse(typeof t=="string"?Cr(t):t)}d();l();function UQ(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return e;return-1}function Ug(t,e){let r=t.toString(16);return dP(r.padStart(e*2,"0").slice(-e*2))}function av(t,e){let r=Ug(t,e),n=UQ(r);return n===-1?new Uint8Array([0]):r.slice(n)}var RP=t=>{throw TypeError(t)},UP=(t,e,r)=>e.has(t)||RP("Cannot "+r),gs=(t,e,r)=>(UP(t,e,"read from private field"),r?r.call(t):e.get(t)),cv=(t,e,r)=>e.has(t)?RP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),fd=(t,e,r,n)=>(UP(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Zo,Q0,Y0,LQ=class uv extends cd{constructor(e,{client:r}={}){super(),cv(this,Zo),cv(this,Q0),cv(this,Y0),fd(this,Q0,r),typeof e=="string"?fd(this,Zo,Cr(e)):e instanceof Uint8Array?fd(this,Zo,e):fd(this,Zo,Uint8Array.from(e)),fd(this,Y0,gs(this,Zo).length!==gs(this,Zo)[0]+1+32),gs(this,Y0)&&fd(this,Zo,OP(gs(this,Zo)))}equals(e){return super.equals(e)}toSuiAddress(){if(gs(this,Y0)){let e=OP(gs(this,Zo),!0),r=new Uint8Array(e.length+1);return r[0]=this.flag(),r.set(e,1),Di(gg(cu(r,{dkLen:32})).slice(0,Ua*2))}return super.toSuiAddress()}toRawBytes(){return gs(this,Zo)}flag(){return ms.ZkLogin}async verify(e,r){throw Error("does not support")}verifyPersonalMessage(e,r){let n=Lg(r),o=new uv(n.publicKey).toSuiAddress();return NP({address:o,bytes:$t(e),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:gs(this,Q0)})}verifyTransaction(e,r){let n=Lg(r),o=new uv(n.publicKey).toSuiAddress();return NP({address:o,bytes:$t(e),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:gs(this,Q0)})}};Zo=new WeakMap;Q0=new WeakMap;Y0=new WeakMap;var MQ=LQ;function FQ(t,e,r){let n=r?.legacyAddress?av(t,32):Ug(t,32),o=new TextEncoder().encode(e),i=new Uint8Array(1+o.length+n.length);return i.set([o.length],0),i.set(o,1),i.set(n,1+o.length),new MQ(i,r)}var HQ=PP(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function OP(t,e=!1){let r=t[0]+1,n=BigInt(`0x${Io(t.slice(r))}`),o=e?av(n,32):Ug(n,32),i=new Uint8Array(r+o.length);return i.set(t.slice(0,r),0),i.set(o,r),i}async function NP({address:t,bytes:e,signature:r,intentScope:n,client:o=new Dg({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let i=await o.query({query:HQ,variables:{bytes:e,signature:r,intentScope:n,author:t}});return i.data?.verifyZkloginSignature.success===!0&&i.data?.verifyZkloginSignature.errors.length===0}function Lg(t){let e=typeof t=="string"?Cr(t):t;if(e[0]!==ms.ZkLogin)throw new Error("Invalid signature scheme");let r=e.slice(1),{inputs:n,maxEpoch:o,userSignature:i}=DP(r),{issBase64Details:s,addressSeed:a}=n,c=BP(s,"iss"),u=FQ(BigInt(a),c);return{serializedSignature:$t(e),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:o,userSignature:i,iss:c,addressSeed:BigInt(a)},signature:e,publicKey:u.toRawBytes()}}function LP({signature:t,signatureScheme:e,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),o=new Uint8Array(1+t.length+n.length);return o.set([ms[e]]),o.set(t,1),o.set(n,1+t.length),$t(o)}function MP(t){let e=Cr(t),r=Ag[e[0]];switch(r){case"MultiSig":let n=hs.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:r,multisig:n,bytes:e};case"ZkLogin":return Lg(t);case"ED25519":case"Secp256k1":case"Secp256r1":let o=mP[r],i=e.slice(1,e.length-o),s=e.slice(1+i.length);return{serializedSignature:t,signatureScheme:r,signature:i,publicKey:s,bytes:e};default:throw new Error("Unsupported signature scheme")}}d();l();d();l();d();l();function dd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function KQ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function J0(t,...e){if(!KQ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Mg(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");dd(t.outputLen),dd(t.blockLen)}function ld(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function FP(t,e){J0(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}d();l();d();l();d();l();var pd=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function VQ(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Va(t){return typeof t=="string"&&(t=VQ(t)),J0(t),t}var hd=class{clone(){return this._cloneInto()}};function HP(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function KP(t){let e=n=>t().update(Va(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}var Fg=class extends hd{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Mg(e);let n=Va(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return ld(this),this.iHash.update(e),this}digestInto(e){ld(this),J0(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},fv=(t,e,r)=>new Fg(t,e).update(r).digest();fv.create=(t,e)=>new Fg(t,e);function qQ(t,e,r,n){Mg(t);let o=HP({dkLen:32,asyncTick:10},n),{c:i,dkLen:s,asyncTick:a}=o;if(dd(i),dd(s),dd(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=Va(e),u=Va(r),h=new Uint8Array(s),f=fv.create(t,c),p=f._cloneInto().update(u);return{c:i,dkLen:s,asyncTick:a,DK:h,PRF:f,PRFSalt:p}}function zQ(t,e,r,n,o){return t.destroy(),e.destroy(),n&&n.destroy(),o.fill(0),r}function VP(t,e,r,n){let{c:o,dkLen:i,DK:s,PRF:a,PRFSalt:c}=qQ(t,e,r,n),u,h=new Uint8Array(4),f=pd(h),p=new Uint8Array(a.outputLen);for(let m=1,g=0;g<i;m++,g+=a.outputLen){let x=s.subarray(g,g+a.outputLen);f.setInt32(0,m,!1),(u=c._cloneInto(u)).update(h).digestInto(p),x.set(p.subarray(0,x.length));for(let w=1;w<o;w++){a._cloneInto(u).update(p).digestInto(p);for(let S=0;S<x.length;S++)x[S]^=p[S]}}return zQ(a,c,s,u,p)}d();l();function jQ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var Hg=class extends hd{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=pd(this.buffer)}update(e){ld(this);let{view:r,buffer:n,blockLen:o}=this;e=Va(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=pd(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ld(this),FP(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;jQ(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=pd(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};d();l();d();l();var Kg=BigInt(4294967295),dv=BigInt(32);function qP(t,e=!1){return e?{h:Number(t&Kg),l:Number(t>>dv&Kg)}:{h:Number(t>>dv&Kg)|0,l:Number(t&Kg)|0}}function WQ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){let{h:i,l:s}=qP(t[o],e);[r[o],n[o]]=[i,s]}return[r,n]}var GQ=(t,e)=>BigInt(t>>>0)<<dv|BigInt(e>>>0),$Q=(t,e,r)=>t>>>r,QQ=(t,e,r)=>t<<32-r|e>>>r,YQ=(t,e,r)=>t>>>r|e<<32-r,JQ=(t,e,r)=>t<<32-r|e>>>r,XQ=(t,e,r)=>t<<64-r|e>>>r-32,ZQ=(t,e,r)=>t>>>r-32|e<<64-r,eY=(t,e)=>e,tY=(t,e)=>t,rY=(t,e,r)=>t<<r|e>>>32-r,nY=(t,e,r)=>e<<r|t>>>32-r,oY=(t,e,r)=>e<<r-32|t>>>64-r,iY=(t,e,r)=>t<<r-32|e>>>64-r;function sY(t,e,r,n){let o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}var aY=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),cY=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,uY=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),fY=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,dY=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),lY=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0;var hY={fromBig:qP,split:WQ,toBig:GQ,shrSH:$Q,shrSL:QQ,rotrSH:YQ,rotrSL:JQ,rotrBH:XQ,rotrBL:ZQ,rotr32H:eY,rotr32L:tY,rotlSH:rY,rotlSL:nY,rotlBH:oY,rotlBL:iY,add:sY,add3L:aY,add3H:cY,add4L:uY,add4H:fY,add5H:lY,add5L:dY},Re=hY;var[pY,yY]=Re.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),qa=new Uint32Array(80),za=new Uint32Array(80),lv=class extends Hg{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:u,El:h,Fh:f,Fl:p,Gh:m,Gl:g,Hh:x,Hl:w}=this;return[e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w]}set(e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=g|0,this.Hh=x|0,this.Hl=w|0}process(e,r){for(let A=0;A<16;A++,r+=4)qa[A]=e.getUint32(r),za[A]=e.getUint32(r+=4);for(let A=16;A<80;A++){let T=qa[A-15]|0,C=za[A-15]|0,W=Re.rotrSH(T,C,1)^Re.rotrSH(T,C,8)^Re.shrSH(T,C,7),oe=Re.rotrSL(T,C,1)^Re.rotrSL(T,C,8)^Re.shrSL(T,C,7),Y=qa[A-2]|0,G=za[A-2]|0,re=Re.rotrSH(Y,G,19)^Re.rotrBH(Y,G,61)^Re.shrSH(Y,G,6),Z=Re.rotrSL(Y,G,19)^Re.rotrBL(Y,G,61)^Re.shrSL(Y,G,6),D=Re.add4L(oe,Z,za[A-7],za[A-16]),O=Re.add4H(D,W,re,qa[A-7],qa[A-16]);qa[A]=O|0,za[A]=D|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:p,Fh:m,Fl:g,Gh:x,Gl:w,Hh:S,Hl:k}=this;for(let A=0;A<80;A++){let T=Re.rotrSH(f,p,14)^Re.rotrSH(f,p,18)^Re.rotrBH(f,p,41),C=Re.rotrSL(f,p,14)^Re.rotrSL(f,p,18)^Re.rotrBL(f,p,41),W=f&m^~f&x,oe=p&g^~p&w,Y=Re.add5L(k,C,oe,yY[A],za[A]),G=Re.add5H(Y,S,T,W,pY[A],qa[A]),re=Y|0,Z=Re.rotrSH(n,o,28)^Re.rotrBH(n,o,34)^Re.rotrBH(n,o,39),D=Re.rotrSL(n,o,28)^Re.rotrBL(n,o,34)^Re.rotrBL(n,o,39),O=n&i^n&a^i&a,R=o&s^o&c^s&c;S=x|0,k=w|0,x=m|0,w=g|0,m=f|0,g=p|0,{h:f,l:p}=Re.add(u|0,h|0,G|0,re|0),u=a|0,h=c|0,a=i|0,c=s|0,i=n|0,s=o|0;let Q=Re.add3L(re,D,R);n=Re.add3H(Q,G,Z,O),o=Q|0}({h:n,l:o}=Re.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=Re.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=Re.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:h}=Re.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:p}=Re.add(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:g}=Re.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:x,l:w}=Re.add(this.Gh|0,this.Gl|0,x|0,w|0),{h:S,l:k}=Re.add(this.Hh|0,this.Hl|0,S|0,k|0),this.set(n,o,i,s,a,c,u,h,f,p,m,g,x,w,S,k)}roundClean(){qa.fill(0),za.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var zP=KP(()=>new lv);function jP(t){if(typeof t!="string")throw new TypeError("invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}function mY(t){let e=jP(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}var gY=t=>jP("mnemonic"+t);function WP(t,e=""){return VP(zP,mY(t).nfkd,gY(e),{c:2048,dkLen:64})}function hv(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}function bY(t){return WP(t,"")}function GP(t){return Io(bY(t))}d();l();var X0=z(gd(),1);var bd=32;var yv="suiprivkey",qg=class{async signWithIntent(e,r){let n=wg(r,e),o=cu(n,{dkLen:32});return{signature:LP({signature:await this.sign(o),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:$t(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){let{signature:r}=await this.signWithIntent(E.vector(E.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:$t(e),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},Z0=class extends qg{};function uu(t){let{prefix:e,words:r}=X0.bech32.decode(t);if(e!==yv)throw new Error("invalid private key prefix");let n=new Uint8Array(X0.bech32.fromWords(r)),o=n.slice(1);return{schema:Ag[n[0]],secretKey:o}}function mv(t,e){if(t.length!==bd)throw new Error("Invalid bytes length");let r=ms[e],n=new Uint8Array(t.length+1);return n.set([r]),n.set(t,1),X0.bech32.encode(yv,X0.bech32.toWords(n))}d();l();d();l();var fu=z(gl(),1);d();l();d();l();var zg=class extends La{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,cP(e);let n=ko(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return ps(this),this.iHash.update(e),this}digestInto(e){ps(this),sd(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},jg=(t,e,r)=>new zg(t,e).update(r).digest();jg.create=(t,e)=>new zg(t,e);d();l();d();l();function SY(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var Wg=class extends La{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=mg(this.buffer)}update(e){ps(this);let{view:r,buffer:n,blockLen:o}=this;e=ko(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=mg(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ps(this),yg(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;SY(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=mg(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};var[vY,EY]=be.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ja=new Uint32Array(80),Wa=new Uint32Array(80),gv=class extends Wg{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:u,El:h,Fh:f,Fl:p,Gh:m,Gl:g,Hh:x,Hl:w}=this;return[e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w]}set(e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=g|0,this.Hh=x|0,this.Hl=w|0}process(e,r){for(let A=0;A<16;A++,r+=4)ja[A]=e.getUint32(r),Wa[A]=e.getUint32(r+=4);for(let A=16;A<80;A++){let T=ja[A-15]|0,C=Wa[A-15]|0,W=be.rotrSH(T,C,1)^be.rotrSH(T,C,8)^be.shrSH(T,C,7),oe=be.rotrSL(T,C,1)^be.rotrSL(T,C,8)^be.shrSL(T,C,7),Y=ja[A-2]|0,G=Wa[A-2]|0,re=be.rotrSH(Y,G,19)^be.rotrBH(Y,G,61)^be.shrSH(Y,G,6),Z=be.rotrSL(Y,G,19)^be.rotrBL(Y,G,61)^be.shrSL(Y,G,6),D=be.add4L(oe,Z,Wa[A-7],Wa[A-16]),O=be.add4H(D,W,re,ja[A-7],ja[A-16]);ja[A]=O|0,Wa[A]=D|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:p,Fh:m,Fl:g,Gh:x,Gl:w,Hh:S,Hl:k}=this;for(let A=0;A<80;A++){let T=be.rotrSH(f,p,14)^be.rotrSH(f,p,18)^be.rotrBH(f,p,41),C=be.rotrSL(f,p,14)^be.rotrSL(f,p,18)^be.rotrBL(f,p,41),W=f&m^~f&x,oe=p&g^~p&w,Y=be.add5L(k,C,oe,EY[A],Wa[A]),G=be.add5H(Y,S,T,W,vY[A],ja[A]),re=Y|0,Z=be.rotrSH(n,o,28)^be.rotrBH(n,o,34)^be.rotrBH(n,o,39),D=be.rotrSL(n,o,28)^be.rotrBL(n,o,34)^be.rotrBL(n,o,39),O=n&i^n&a^i&a,R=o&s^o&c^s&c;S=x|0,k=w|0,x=m|0,w=g|0,m=f|0,g=p|0,{h:f,l:p}=be.add(u|0,h|0,G|0,re|0),u=a|0,h=c|0,a=i|0,c=s|0,i=n|0,s=o|0;let Q=be.add3L(re,D,R);n=be.add3H(Q,G,Z,O),o=Q|0}({h:n,l:o}=be.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=be.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=be.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:h}=be.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:p}=be.add(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:g}=be.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:x,l:w}=be.add(this.Gh|0,this.Gl|0,x|0,w|0),{h:S,l:k}=be.add(this.Hh|0,this.Hl|0,S|0,k|0),this.set(n,o,i,s,a,c,u,h,f,p,m,g,x,w,S,k)}roundClean(){ja.fill(0),Wa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var bv=lP(()=>new gv);var IY=z(gl(),1),kY="ed25519 seed",TY=2147483648,_Y=new RegExp("^m(\\/[0-9]+')+$"),JP=t=>t.replace("'",""),PY=t=>{let r=jg.create(bv,kY).update(Na(t)).digest(),n=r.slice(0,32),o=r.slice(32);return{key:n,chainCode:o}},BY=({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let i=new Uint8Array(1+t.length+n.byteLength);i.set(new Uint8Array(1).fill(0)),i.set(t,1),i.set(new Uint8Array(n,0,n.byteLength),t.length+1);let s=jg.create(bv,e).update(i).digest(),a=s.slice(0,32),c=s.slice(32);return{key:a,chainCode:c}};var CY=t=>_Y.test(t)?!t.split("/").slice(1).map(JP).some(isNaN):!1,xv=(t,e,r=TY)=>{if(!CY(t))throw new Error("Invalid derivation path");let{key:n,chainCode:o}=PY(e);return t.split("/").slice(1).map(JP).map(s=>parseInt(s,10)).reduce((s,a)=>BY(s,a+r),{key:n,chainCode:o})};d();l();var XP=z(gl(),1);var wv=32,Ga=class extends cd{constructor(e){if(super(),typeof e=="string"?this.data=Cr(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==wv)throw new Error(`Invalid public key input. Expected ${wv} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return ms.ED25519}async verify(e,r){let n;if(typeof r=="string"){let o=MP(r);if(o.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!$S(this.toRawBytes(),o.publicKey))throw new Error("Signature does not match public key");n=o.signature}else n=r;return XP.default.sign.detached.verify(e,n,this.toRawBytes())}};Ga.SIZE=wv;var Av="m/44'/784'/0'/0'/0'",du=class t extends Z0{constructor(e){super(),e?this.keypair=e:this.keypair=fu.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new t(fu.default.sign.keyPair())}static fromSecretKey(e,r){if(typeof e=="string"){let i=uu(e);if(i.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${i.schema}`);return this.fromSecretKey(i.secretKey,r)}let n=e.length;if(n!==bd)throw new Error(`Wrong secretKey size. Expected ${bd} bytes, got ${n}.`);let o=fu.default.sign.keyPair.fromSeed(e);if(!r||!r.skipValidation){let s=new TextEncoder().encode("sui validation"),a=fu.default.sign.detached(s,o.secretKey);if(!fu.default.sign.detached.verify(s,a,o.publicKey))throw new Error("provided secretKey is invalid")}return new t(o)}getPublicKey(){return new Ga(this.keypair.publicKey)}getSecretKey(){return mv(this.keypair.secretKey.slice(0,bd),this.getKeyScheme())}async sign(e){return fu.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,r){if(r==null&&(r=Av),!hv(r))throw new Error("Invalid derivation path");let{key:n}=xv(r,GP(e));return t.fromSecretKey(n)}static deriveKeypairFromSeed(e,r){if(r==null&&(r=Av),!hv(r))throw new Error("Invalid derivation path");let{key:n}=xv(r,e);return t.fromSecretKey(n)}};var Gg=class{addressTypes=["sui"];generateKeypairFromPrivateKey(e){let r=e.fold(s=>new Uint8Array(s)),n=du.fromSecretKey(r),o=n.getPublicKey().toRawBytes(),i=uu(n.getSecretKey());if(i.schema!=="ED25519")throw new Error(`got unexpected schema ${i.schema} for Sui`);return{publicKey:o,privateKey:i.secretKey}}generateKeypairFromSeed(e,r,n){let o=e.fold(i=>new Si(i));try{let i=o.derivePathType(n,r);return{publicKey:i.publicKey,privateKey:i.secretKey}}finally{o.cleanup()}}};var eh=class{cryptoChainPlugins=new Map;constructor(){this.registerChainPlugin(new wm),this.registerChainPlugin(new rg),this.registerChainPlugin(new sg),this.registerChainPlugin(new Gg)}registerChainPlugin(e){for(let r of e.addressTypes)this.cryptoChainPlugins.set(r,e)}generateKeypairFromPrivateKey(e,r){let n=this.cryptoChainPlugins.get(r);if(!n)throw new Error(`No plugin found for address type ${r}, please register the plugin first.`);return n.generateKeypairFromPrivateKey(e)}generateKeypairFromSeed(e,r,n){let o=qo.getAddressType(n),i=this.cryptoChainPlugins.get(o);if(!i)throw new Error(`No plugin found for address type ${o}, please register the plugin first.`);return i.generateKeypairFromSeed(e,r,n)}};d();l();function Sv(t){return qo.getAll().includes(t)}d();l();var v7=z(Ms()),E7=z(wd()),eb=z(gl()),I7=z(Nv());var Rv=t=>{let{privateKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":try{return{key:uJ(e,t.networkIDValue),encoding:"hex"}}catch{throw new Error("Could not find encoding for Bitcoin private key")}case"eip155":try{return{key:fJ(e),encoding:"hex"}}catch{throw new Error("Could not find encoding for EVM private key")}case"solana":try{return lJ(e)}catch{throw new Error("Could not find encoding for Solana private key")}case"sui":try{return{key:dJ(e),encoding:"base64"}}catch{throw new Error("Could not find encoding for Sui private key")}default:return ot(r)}},uJ=(t,e)=>{try{let{privateKey:r}=I7.decodeRaw(E7.default.decode(t),e);return r}catch{throw new Error("Provided Bitcoin private key is invalid!")}},fJ=t=>{let e=Buffer.from(t.replace("0x",""),"hex");try{return new Xf(new Uint8Array(e)),e}catch{throw new Error("Provided Ethereum private key is invalid!")}},Zg=t=>{let e=eb.default.sign.keyPair.fromSecretKey(t),r=Buffer.from("phantom-secret-key-validation"),n=eb.default.sign.detached(r,t);if(!eb.default.sign.detached.verify(r,n,e.publicKey))throw new Error("Provided Solana private key is invalid!")},dJ=t=>{try{let e=uu(t);if(e.schema!=="ED25519")throw new Error("Invalid schema");return e.secretKey}catch{throw new Error("Provided Sui private key is invalid!")}},lJ=t=>{try{let e=JSON.parse(t);return Zg(Uint8Array.from(e)),{key:e,encoding:"uint8array"}}catch{}try{let e=v7.default.decode(t);return Zg(e),{key:e,encoding:"base58"}}catch{}try{let e=Buffer.from(t,"hex");return Zg(e),{key:e,encoding:"hex"}}catch{}try{let e=Buffer.from(t,"base64");return Zg(e),{key:e,encoding:"base64"}}catch{}throw new Error("Provided Solana private key is invalid!")};d();l();var k7=z(Ms()),T7=z(wd()),_7=z(Nv());var hJ=t=>{let{privateKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return T7.default.encode(_7.encodeRaw(t.networkIDValue,Buffer.from(e),!0));case"eip155":return"0x"+Buffer.from(e).toString("hex");case"solana":return k7.default.encode(e);case"sui":return du.fromSecretKey(e).getSecretKey();default:return ot(r)}};d();l();var rh=t=>{try{return V1.from(Rv(t).key)}catch(e){return console.error(e),V1.from(Buffer.from(""))}};d();l();var eoe=z(Yv());d();l();var[Q7,Y7,J7]=[[],[],[]],aX=BigInt(0),ah=BigInt(1),cX=BigInt(2),uX=BigInt(7),fX=BigInt(256),dX=BigInt(113);for(let t=0,e=ah,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Q7.push(2*(5*n+r)),Y7.push((t+1)*(t+2)/2%64);let o=aX;for(let i=0;i<7;i++)e=(e<<ah^(e>>uX)*dX)%fX,e&cX&&(o^=ah<<(ah<<BigInt(i))-ah);J7.push(o)}var[lX,hX]=_e.split(J7,!0),G7=(t,e,r)=>r>32?_e.rotlBH(t,e,r):_e.rotlSH(t,e,r),$7=(t,e,r)=>r>32?_e.rotlBL(t,e,r):_e.rotlSL(t,e,r);function pX(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,u=r[c],h=r[c+1],f=G7(u,h,1)^r[a],p=$7(u,h,1)^r[a+1];for(let m=0;m<50;m+=10)t[s+m]^=f,t[s+m+1]^=p}let o=t[2],i=t[3];for(let s=0;s<24;s++){let a=Y7[s],c=G7(o,i,a),u=$7(o,i,a),h=Q7[s];o=t[h],i=t[h+1],t[h]=c,t[h+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=lX[n],t[1]^=hX[n]}r.fill(0)}var ub=class t extends Zf{constructor(e,r,n,o=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,$o.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=q_(this.state)}keccak(){pX(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){$o.exists(this);let{blockLen:r,state:n}=this;e=ed(e);let o=e.length;for(let i=0;i<o;){let s=Math.min(r-this.pos,o-i);for(let a=0;a<s;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:o}=this;e[n]^=r,r&128&&n===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){$o.exists(this,!1),$o.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let o=0,i=e.length;o<i;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,i-o);e.set(r.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return $o.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if($o.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:o,rounds:i,enableXOF:s}=this;return e||(e=new t(r,n,o,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}},ec=(t,e,r)=>ou(()=>new ub(e,t,r)),g3e=ec(6,144,224/8),b3e=ec(6,136,256/8),x3e=ec(6,104,384/8),w3e=ec(6,72,512/8),A3e=ec(1,144,224/8),Jv=ec(1,136,256/8),S3e=ec(1,104,384/8),v3e=ec(1,72,512/8),X7=(t,e,r)=>z_((n={})=>new ub(e,t,n.dkLen===void 0?r:n.dkLen,!0)),E3e=X7(31,168,128/8),I3e=X7(31,136,256/8);var ri=z(m3()),vD=z(Ms());function gx(t){let{publicKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return toe(e,r,t.networkID);case"eip155":return roe(e);case"solana":return vD.default.encode(e);case"sui":return new Ga(e).toSuiAddress();default:return ot(r)}}var toe=(t,e,r)=>{let n=r==="bip122:000000000933ea01ad0ee984209779ba"?ri.networks.testnet:ri.networks.bitcoin,o;switch(e){case"bip122_p2tr":ri.initEccLib(eoe),o=ri.payments.p2tr({internalPubkey:Buffer.from(t.slice(1,33)),network:n},{validate:!1})?.address;break;case"bip122_p2wpkh":o=ri.payments.p2wpkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break;case"bip122_p2sh":{let i=Buffer.from(t),s=ri.payments.p2wpkh({pubkey:i,network:n},{validate:!1});o=ri.payments.p2sh({pubkey:i,network:n,redeem:s},{validate:!1})?.address;break}case"bip122_p2pkh":{o=ri.payments.p2pkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break}default:ot(e)}if(!o)throw new Error("Could not derive Bitcoin address from public key");return o},roe=t=>{let e=t.slice(1),n=Jv(e).slice(12);return noe(`0x${Buffer.from(n).toString("hex")}`)},noe=t=>{if(!Tc.safeParse(t).success)throw new Error("toChecksumAddress: Input address is not a valid hex string.");let e=t.toLowerCase().replace("0x",""),r=Buffer.from(Jv(Buffer.from(e,"utf-8"))).toString("hex"),n="0x";for(let o=0;o<e.length;o++)parseInt(r[o],16)>=8?n+=e[o].toUpperCase():n+=e[o];return n};d();l();function Ph(t){return tA.safeParse(t).success}d();l();function ooe(t){switch(t){case"bip44Root":case"bip44Change":case"bip44":case"deprecated":return"solana";case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":return"eip155";case"bitcoinLegacy":return"bip122_p2pkh";case"bitcoinNativeSegwit":return"bip122_p2wpkh";case"bitcoinNestedSegwit":return"bip122_p2sh";case"bitcoinTaproot":return"bip122_p2tr";case"bip44Sui":return"sui"}}d();l();d();l();d();l();var Wr=(a=>(a.Solana="solana",a.Monad="monad",a.Ethereum="ethereum",a.Base="base",a.Polygon="polygon",a.Bitcoin="bitcoin",a.Sui="sui",a))(Wr||{}),ro=(a=>(a.Ethereum="60",a.Monad="143",a.Polygon="966",a.Base="8453",a.Solana="501",a.Bitcoin="0",a.Sui="784",a))(ro||{}),g3=class extends Error{constructor(r,n){super(`${n} is not yet supported for ${r}`);this.chain=r;this.feature=n;this.name="UnsupportedChainFeatureError"}},b3=class extends g3{constructor(e){super("sui",e)}};var bx=(r=>(r.Mainnet="eip155:8453",r.Sepolia="eip155:84532",r))(bx||{}),ED=v.union([v.literal("eip155:8453"),v.literal("eip155:84532")]),x3={id:"base",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/base.png",name:"Base",networks:{"eip155:8453":{id:"eip155:8453",name:"Base",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/mainnet",value:8453},"eip155:84532":{id:"eip155:84532",name:"Base Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/sepolia",value:84532}},mainnetID:"eip155:8453",tokenDecimals:18,tokenSymbol:"ETH",slip44:"8453",parentChain:"ethereum"};d();l();var ioe=z(Yv());var wx=z(m3());d();l();var Bh=(r=>(r.Mainnet="sui:mainnet",r.Testnet="sui:testnet",r))(Bh||{}),Kd=v.union([v.literal("sui:mainnet"),v.literal("sui:testnet")]),w3={id:"sui",addressTypes:["sui"],iconUrl:"https://static.phantom.app/assets/sui.png",name:"Sui",networks:{"sui:mainnet":{id:"sui:mainnet",name:"Sui",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/mainnet",value:"mainnet"},"sui:testnet":{id:"sui:testnet",name:"Sui Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/testnet",value:"testnet"}},mainnetID:"sui:mainnet",tokenDecimals:9,tokenSymbol:"SUI",slip44:"784"},xx=v.object({networkID:Kd,addressType:v.nativeEnum(Be),address:Gu,publicKey:v.instanceof(Uint8Array).optional()});var Ax=(r=>(r.Mainnet="bip122:000000000019d6689c085ae165831e93",r.Testnet="bip122:000000000933ea01ad0ee984209779ba",r))(Ax||{}),mc=v.union([v.literal("bip122:000000000019d6689c085ae165831e93"),v.literal("bip122:000000000933ea01ad0ee984209779ba")]),ID=v.union([v.literal("sui:mainnet"),v.literal("sui:testnet")]),Vd=v.string().refine(t=>{try{return wx.initEccLib(ioe),wx.address.toOutputScript(t),!0}catch{return!1}},{message:"Invalid Bitcoin address."}),Ch=v.object({networkID:mc,addressType:v.nativeEnum(Be),address:Vd,publicKey:v.instanceof(Uint8Array).optional()}),A3={id:"bitcoin",addressTypes:["bip122_p2tr","bip122_p2wpkh"],iconUrl:"https://static.phantom.app/assets/bitcoin.png",name:"Bitcoin",networks:{"bip122:000000000019d6689c085ae165831e93":{id:"bip122:000000000019d6689c085ae165831e93",name:"Bitcoin",value:128},"bip122:000000000933ea01ad0ee984209779ba":{id:"bip122:000000000933ea01ad0ee984209779ba",name:"Bitcoin Testnet",shortName:"Testnet",value:239}},mainnetID:"bip122:000000000019d6689c085ae165831e93",tokenDecimals:8,tokenSymbol:"BTC",slip44:"0"};d();l();d();l();var Dh=(n=>(n.Mainnet="eip155:143",n.Testnet="eip155:10143",n.Devnet="eip155:41454",n))(Dh||{}),S3=v.union([v.literal("eip155:143"),v.literal("eip155:10143"),v.literal("eip155:41454")]),v3={id:"monad",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/monad.png",name:"Monad",networks:{"eip155:143":{id:"eip155:143",name:"Monad",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/mainnet",value:143,hidden:!0},"eip155:10143":{id:"eip155:10143",name:"Monad Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/testnet",value:10143},"eip155:41454":{id:"eip155:41454",name:"Monad Devnet",shortName:"Devnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/devnet1",value:41454,hidden:!0}},mainnetID:"eip155:10143",tokenDecimals:18,tokenSymbol:"MON",slip44:"143"};d();l();var Sx=(r=>(r.Mainnet="eip155:137",r.Amoy="eip155:80002",r))(Sx||{}),E3=v.union([v.literal("eip155:137"),v.literal("eip155:80002")]),I3={id:"polygon",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/polygon.png",name:"Polygon",networks:{"eip155:137":{id:"eip155:137",name:"Polygon",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/mainnet",value:137},"eip155:80002":{id:"eip155:80002",name:"Polygon Amoy",shortName:"Amoy",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/amoy",value:80002}},mainnetID:"eip155:137",tokenDecimals:18,tokenSymbol:"POL",slip44:"966",parentChain:"ethereum"};var vx=(r=>(r.Mainnet="eip155:1",r.Sepolia="eip155:11155111",r))(vx||{}),kD=v.union([v.literal("eip155:1"),v.literal("eip155:11155111")]),gc=v.union([kD,E3,ED,S3]),Oh=v.object({networkID:gc,addressType:v.nativeEnum(Be),address:Hs}),k3={id:"ethereum",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/ethereum.png",name:"Ethereum",networks:{"eip155:1":{id:"eip155:1",name:"Ethereum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/mainnet",value:1},"eip155:11155111":{id:"eip155:11155111",name:"Ethereum Sepolia",shortName:"Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/sepolia",value:11155111}},mainnetID:"eip155:1",tokenDecimals:18,tokenSymbol:"ETH",slip44:"60"};d();l();var Nh=(o=>(o.Mainnet="solana:101",o.Testnet="solana:102",o.Devnet="solana:103",o.Localnet="solana:localnet",o))(Nh||{}),bc=v.union([v.literal("solana:101"),v.literal("solana:102"),v.literal("solana:103"),v.literal("solana:localnet")]),Rh=v.object({networkID:bc,addressType:v.nativeEnum(Be),address:Wu}),T3={id:"solana",addressTypes:["solana"],iconUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",networks:{"solana:101":{id:"solana:101",name:"Solana",rpcProxyUrl:"https://solana-mainnet.phantom.app/YBPpkkN4g91xDiAnTE9r0RcMkjg0sKUIWvAfoFVJ?advancedTxSubmission=true",value:"mainnet"},"solana:102":{id:"solana:102",name:"Solana Testnet",shortName:"Testnet",value:"testnet"},"solana:103":{id:"solana:103",name:"Solana Devnet",shortName:"Devnet",value:"devnet"},"solana:localnet":{id:"solana:localnet",name:"Solana Localnet",shortName:"Localnet",value:"localnet"}},localnetID:"solana:localnet",mainnetID:"solana:101",tokenDecimals:9,tokenSymbol:"SOL",slip44:"501"};d();l();function Ex(t){return Object.values(Wr).includes(t)}var In={bitcoin:A3,ethereum:k3,polygon:I3,monad:v3,solana:T3,base:x3,sui:w3},Ix={solana:1,ethereum:2,monad:3,base:4,sui:5,polygon:6,bitcoin:7},soe={solana:!0,ethereum:!0,monad:!1,base:!0,polygon:!0,bitcoin:!0,sui:!1},_3=(t,e)=>{let r=Ix[t]-Ix[e];return r===0?0:r>0?1:-1},aoe=()=>{let t=Object.values(Wr).sort(_3),e=t.map(H=>In[H]),r={},n=[],o={},i={},s={};e.forEach(H=>{let xe=Object.fromEntries(Object.entries(H.networks).filter(([q,de])=>!de.hidden)),_=Object.keys(xe);n.push(..._),_.forEach(q=>{r[q]=H});let F=Object.values(xe);o[H.id]=F.map(q=>q.id),F.forEach(q=>{i[q.id]=q});for(let q of H.addressTypes){let de=s[q];de?de.push(H.id):s[q]=[H.id]}});let a=new Set(n);function c(H){return H?.evmOnly?t.filter(xe=>In[xe].addressTypes.includes("eip155")):t}function u(H,xe){return H==="sui"?xe:soe[H]}function h(H){return n.filter(xe=>r[xe].id===H)}function f(H){if(!H)return n;let xe=n;return H.evmOnly&&(xe=xe.filter(_=>Q(_))),H.mainnetOnly&&(xe=xe.filter(_=>N(_))),xe}function p(H){return r[H]}function m(H){return i[H].rpcProxyUrl}function g(H){return r[H].addressTypes[0]}function x(H){let xe=r[H];if(xe.addressTypes.length===1){let[_]=xe.addressTypes;return _}else throw`The chain ${xe.id} has multiple address types`}function w(H){return r[H].addressTypes}function S(H){return r[H].id}function k(H){return In[$e(H)].name}function A(H){return r[H].tokenDecimals}function T(H){return(G(H)?r[H]:In[H]).tokenSymbol}function C(H){return(G(H)?r[H]:In[H]).iconUrl}function W(H){return r[H].slip44}function oe(H){return In[$e(H)].mainnetID}function Y(H){let xe;if(Q(H)&&(xe=i[H].value),typeof xe=="number")return xe;throw new Error(`Invalid NetworkID: ${H}. Must be an EVM NetworkID.`)}function G(H){return a.has(H)}function re(H){return Object.keys(In.bitcoin.networks).includes(H)}function Z(H){return Object.keys(In.ethereum.networks).includes(H)}function D(H){return Object.keys(In.polygon.networks).includes(H)}function O(H){return Object.keys(In.base.networks).includes(H)}function R(H){return Object.keys(In.monad.networks).includes(H)}function Q(H){return Z(H)||D(H)||O(H)||R(H)}function fe(H){return Object.keys(In.solana.networks).includes(H)}function ae(H){return Object.keys(In.sui.networks).includes(H)}function Ie(H){if(!fe(H))throw new Error(`Invalid NetworkID: ${H}. Must be a Solana NetworkID.`);return In.solana.networks[H].value}function B(H){return r[H].localnetID===H}function N(H){return r[H].mainnetID===H}function X(H){return i[H]}function L(H,xe=!1){let _=i[H];return xe&&_.shortName?_.shortName:_.name}function M(H){return r[H].parentChain}function ye(H){return s[H]}function vt(H,xe){let _=r[H].id,F=r[xe].id;return _3(_,F)}function $e(H){return Ex(H)?H:G(H)?V.getChainID(H):ot(H)}return{...In,getAllChainIDs:c,isChainDefaultEnabled:u,getNetworkIDs:h,getAllNetworkIDs:f,getChainDefinition:p,getAddressType:x,getAddressTypes:w,getChainID:S,getChainName:k,getTokenDecimals:A,getTokenSymbol:T,getChainIconUrl:C,getSlip44:W,getMainnetNetworkID:oe,getEVMNetworkIDValue:Y,getSolanaNetworkIDValue:Ie,_DO_NOT_USE_getAddressType:g,isNetworkID:G,isBitcoinNetworkID:re,isEVMNetworkID:Q,isSolanaNetworkID:fe,isEthereumNetworkID:Z,isPolygonNetworkID:D,isBaseNetworkID:O,isSuiNetworkID:ae,isLocalNetworkID:B,isMainnetNetworkID:N,getNetworkDefinition:X,getNetworkName:L,getChainIDs:ye,compareChain:_3,compareNetworkID:vt,getRpcProxyUrl:m,getParentChain:M}},V=aoe();d();l();var nt={Bitcoin:Ax,Ethereum:vx,Polygon:Sx,Solana:Nh,Sui:Bh,Base:bx,Monad:Dh},Ps=v.union([mc,gc,bc,Kd]),coe=v.union([Ch,Oh,Rh,xx]);d();l();d();l();var ni=(n=>(n.address="address",n.tx="tx",n.nativeToken="nativeToken",n))(ni||{}),TD=v.string(),_D=v.object({chainId:Ps,resourceType:v.nativeEnum(ni)}),P3=_D.extend({resourceType:v.literal("nativeToken"),slip44:v.nativeEnum(ro)}),Du=_D.extend({resourceType:v.literal("address"),address:v.string()}),B3=Du.extend({chainId:bc,address:Wu}),C3=Du.extend({chainId:gc,address:Hs,tokenId:v.string().optional()}),D3=Du.extend({chainId:mc,address:Vd.or(v.string())}),uoe=Du.extend({chainId:ID,address:Gu,tokenId:v.string().optional()}),PD=v.union([P3,Du,B3,C3,D3,uoe]);var BD=t=>{let e=t.split("/");if(e.length>3||e.length<2)throw new Error(`Cannot decode malformed caip19 string '${t}'`);let r=e[0];if(!(V.isEVMNetworkID(r)||V.isSolanaNetworkID(r)||V.isBitcoinNetworkID(r)||V.isSuiNetworkID(r)))throw new Error(`Cannot decode unsupported chain '${r}'`);let n=e[1].split(/:(.+)/),[o,i]=n;if(!o||!i)throw new Error(`Invalid resource specification '${e[1]}'`);if(!Object.values(ni).includes(o))throw new Error(`Unsupported resource type '${o}'`);if(o==="nativeToken"){if(!Object.values(ro).includes(i))throw new Error(`Unsupported slip44 '${i}'`);return{chainId:r,resourceType:o,slip44:i}}else if(V.isEVMNetworkID(r)){if(o==="address")return e.length===3?{chainId:r,address:i,resourceType:o,tokenId:e[2]}:{chainId:r,address:i,resourceType:o};throw new Error(`Unsupported resource type ${o} for chain ${r}`)}else if(V.isSolanaNetworkID(r)){if(o==="address")return{chainId:r,address:i,resourceType:o};throw new Error(`Unsupported resource type ${o} for chain ${r}`)}else if(V.isBitcoinNetworkID(r)){if(o==="address")return{chainId:r,address:i,resourceType:o};throw new Error(`Unsupported resource type ${o} for chain ${r}`)}else if(V.isSuiNetworkID(r)){if(o==="address")return{chainId:r,address:i,resourceType:o};throw new Error(`Unsupported resource type ${o} for chain ${r}`)}throw new Error(`Cannot decode malformed caip19 string '${t}'`)};d();l();var kx=t=>{if(t.resourceType==="nativeToken")return`${t.chainId}/nativeToken:${t.slip44}`;if(V.isEVMNetworkID(t.chainId))return t.address=t.address.toLowerCase(),"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`;if(V.isSolanaNetworkID(t.chainId))return`${t.chainId}/address:${t.address}`;if(V.isBitcoinNetworkID(t.chainId)){let e=t;return`${e.chainId}/address:${e.address}`}return V.isSuiNetworkID(t.chainId)?"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`:ot(t.chainId)};d();l();d();l();var CD=v.string().refine(t=>{let e=t.split("/");if(e.length<2)return!1;let r=e[0],o=e[1].split(":");if(o.length<2)return!1;let i=o[0],s=o[1];return typeof t=="string"&&V.isNetworkID(r)&&i.match(/^[-a-z0-9]{2,8}/)&&s.match(/^[-a-zA-Z0-9]{1,64}/)},{message:"Value is not a valid BRI string."});d();l();function DD(t){return!t||t.resourceType!=="address"?!1:!!V.isEVMNetworkID(t.chainId)}d();l();d();l();function Tx(t,e){return V.isBitcoinNetworkID(e)?Vd.safeParse(t).success:V.isEVMNetworkID(e)?Hs.safeParse(t).success:V.isSolanaNetworkID(e)?Wu.safeParse(t).success:V.isSuiNetworkID(e)?Gu.safeParse(t).success:ot(e)}d();l();var _x=t=>{let e=V.getNetworkIDs(t),r=V.getMainnetNetworkID(e[0]),n=V[t].slip44;return{chainId:r,resourceType:"nativeToken",slip44:n}};d();l();d();l();d();l();function OD(t){return Ch.safeParse(t).success}function ND(t){return Rh.safeParse(t).success}function RD(t){return Oh.safeParse(t).success}var UD=v.object({networkID:Ps,addressType:v.nativeEnum(Be),address:v.string()}),doe=t=>`${t.networkID}-${t.address}`,LD={toKey:doe},MD=t=>{let e={chainId:t.networkID,address:t.address,resourceType:"address"};return V.isEVMNetworkID(t.networkID)&&(e.address=e.address.toLowerCase()),e};d();l();function FD(t){return[nt.Solana.Devnet,nt.Solana.Testnet,nt.Solana.Mainnet].map(r=>parseInt(r.replace("solana:",""))).includes(parseInt(t,16))?`solana:${parseInt(t,16)}`:`eip155:${parseInt(t,16)}`}d();l();var HD=v.object({id:Ps,name:v.string(),symbol:v.string(),imageUrl:v.string()});function KD(t){let{name:e,tokenSymbol:r,iconUrl:n}=V.getChainDefinition(t);return{id:t,name:e,symbol:r,imageUrl:n}}d();l();function VD(t){switch(t){case"devnet":return nt.Solana.Devnet;case"mainnet":return nt.Solana.Mainnet;case"testnet":return nt.Solana.Testnet;case"localnet":return nt.Solana.Localnet}}function qD(t){switch(t){case"mainnet":return"mainnet-beta";case"localnet":return"localhost";default:return t}}d();l();var qd=(t,e)=>{if(V.isBitcoinNetworkID(t)){switch(!0){case(e.startsWith("bc1p")||e.startsWith("bcrt1p")||e.startsWith("tb1p")):return"bip122_p2tr";case(e.startsWith("bc1q")||e.startsWith("tb1q")):return"bip122_p2wpkh";case(e.startsWith("3")||e.startsWith("2")):return"bip122_p2sh";case(e.startsWith("1")||e.startsWith("m")):return"bip122_p2pkh"}throw new Error(`Unable to get address type from invalid Bitcoin address: ${e}`)}else return V.isEVMNetworkID(t)?"eip155":V.isSolanaNetworkID(t)?"solana":V.isSuiNetworkID(t)?"sui":ot(t)};d();l();var loe=V.getAllNetworkIDs().filter(t=>V.isEVMNetworkID(t)),zD=t=>loe.find(e=>V.getNetworkDefinition(e).value===t);d();l();var jD=t=>V.getAllNetworkIDs({evmOnly:!0}).filter(e=>{if(t){if(t==="mainnets_only")return V.isMainnetNetworkID(e);if(t==="testnets_only")return!V.isMainnetNetworkID(e)}else return!0}).map(hoe),hoe=t=>`0x${V.getNetworkDefinition(t).value.toString(16)}`;d();l();var goe={[nt.Monad.Mainnet]:1,[nt.Monad.Devnet]:1,[nt.Monad.Testnet]:1,[nt.Ethereum.Mainnet]:6,[nt.Ethereum.Sepolia]:6,[nt.Polygon.Mainnet]:128,[nt.Polygon.Amoy]:128,[nt.Base.Mainnet]:3,[nt.Base.Sepolia]:3},boe={[nt.Bitcoin.Mainnet]:1,[nt.Bitcoin.Testnet]:1};var xoe="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",woe=100;d();l();d();l();function Aoe(t,e){return e.getSupportedChains().includes(t)}function WD(t,e){if(Ex(t))return e.get(t);if(V.isNetworkID(t)){let r=V.getChainID(t);if(Aoe(r,e))return e.get(r)}throw new Error("Invalid input type for chain config get method")}function O3(t){return{get:e=>WD(e,t),supportedChains:t.getSupportedChains()}}d();l();var Uh=class{chainConfigMap=new Map;constructor(e){Object.entries(e).forEach(([r,n])=>{this.register(r,n)})}register(e,r){this.chainConfigMap.set(e,r)}getSupportedChains(){return Array.from(this.chainConfigMap.keys())}get(e){let r=this.chainConfigMap.get(e);if(!r)throw new Error(`No chain config found for chain: ${e}`);return r}};d();l();var GD=".phantom-labs.internal.enabledChainsOverrideSettings",$D=async t=>{try{return(await t.get(GD))?.settings}catch{return null}},QD=async(t,e,r)=>{let n=await $D(r);return r.set(GD,{version:1,settings:{...n!=null&&n,[t]:e}})},YD=async t=>{let e=[],r;try{r=await $D(t),r&&Object.entries(r).forEach(([o,i])=>{i||e.push(o)})}catch{}try{let o=await t.get(Soe);!o||o.version===1||o.chains.forEach(i=>{r&&r[i]||e.push(i)})}catch{}let n=await Kn.isFeatureEnabledAsync("enable-sui-default-on");try{V.getAllChainIDs().forEach(o=>{r&&r[o]||V.isChainDefaultEnabled(o,n)||e.push(o)})}catch{}return[...new Set(e)]},JD=async(t,e)=>QD(t,!1,e),N3=async(t,e)=>QD(t,!0,e),zd=".phantom-labs.internal.disabledAddressTypes",XD=async t=>{let e;try{e=await t.get(zd)!==null}catch{e=!1}return e},ZD=async t=>{let e;try{e=(await t.get(zd))?.addressTypes??[]}catch{e=[]}return[...new Set([...e,"bip122_p2sh","bip122_p2pkh"])]},eO=async(t,e)=>{let r=await e.get(zd),n=new Set(r?.addressTypes??[]);return n.delete(t),e.set(zd,{version:1,addressTypes:Array.from(n)})},tO=async(t,e)=>{let r=await e.get(zd),n=new Set(r?.addressTypes??[]);return n.add(t),e.set(zd,{version:1,addressTypes:Array.from(n)})},Soe=".phantom-labs.internal.disabledChains";d();l();var rO=!1,R3=async(t,e)=>{e=e??await Kn.isFeatureEnabledAsync("enable-monad"),rO||(ee.addBreadcrumb("network",`Fetched chain availability where ${JSON.stringify({isMonadFeatureEnabled:e})}`,"info"),rO=!0);let r=V.getAllChainIDs().filter(w=>w!=="monad"||e),n=await YD(t),o=new Set(n),i=r.filter(w=>!o.has(w)),s=w=>{let S=V.getChainID(w);return i.includes(S)},a=V.getAllNetworkIDs({mainnetOnly:!1}).filter(s),c=V.getAllNetworkIDs({mainnetOnly:!0}).filter(s),u=new Set(n.flatMap(w=>V.getNetworkIDs(w))),h=a.filter(w=>!u.has(w)),f=c.filter(w=>!u.has(w)),p=qo.getAll(),m=await ZD(t),g=new Set(m);for(let w of p){let S=V.getChainIDs(w);if(!S){g.add(w);continue}S.every(A=>o.has(A))&&g.add(w)}let x=p.filter(w=>!g.has(w));return{supportedChainIDs:r,supportedAddressTypes:p,disabledChainIDs:n,enabledChainIDs:i,enabledAddressTypes:x,enabledNetworkIDs:h,enabledMainnetOnlyNetworkIDs:f}};d();l();d();l();var Px="@phantom/chains",Bx={enabledChains:[`${Px}:enabled-chains`],enabledAddressTypes:[`${Px}:enabled-address-types`],enabledNetworkIDs(t){return[`${Px}:enabled-network-ids`,{mainnetOnly:t}]},chainAvailability(t){return[`${Px}:chain-availability`,t]}};var nO=[],U3=t=>{nO.push(t)},Bs=async t=>{let e=Kn.isFeatureEnabled("enable-monad");await t.invalidateQueries({queryKey:Bx.chainAvailability({isMonadEnabled:e})}),await Promise.all(nO.map(r=>r(t)))};d();l();d();l();var L3=(o=>(o.Image="image",o.Emoji="emoji",o.ReadOnlyDefault="read-only-default",o.Default="default",o))(L3||{}),voe=v.object({type:v.nativeEnum(L3),imageUrl:v.string().optional(),unicode:v.string().optional()}),M3=(e=>(e.Ledger="ledger",e))(M3||{}),F3=(e=>(e.BLE="ble",e))(F3||{}),Eoe=v.object({version:v.literal(1),connectionType:v.nativeEnum(F3),deviceType:v.nativeEnum(M3),id:v.string().min(1),name:v.string().optional(),model:v.string().optional()}),Ioe=v.object({value:v.number(),timestamp:v.number()}),JPe=v.object({name:v.string(),icon:voe.optional(),connectedDevices:Eoe.array().optional(),balance:Ioe.optional()});var i7e=100,s7e={unicode:void 0,imageUrl:void 0,type:"default"},oO={version:1,isDeveloperMode:!1};var H3=nt.Solana.Devnet,K3=nt.Ethereum.Sepolia,koe=nt.Sui.Testnet;function Lh(t){return{version:1,setting:{solana:H3,eip155:K3,...t?{sui:koe}:{}}}}function a7e(t){return t.map(e=>qo[e].defaultDerivationPathType)}var c7e={bip44Root:"bip44RootEthereum",bip44Change:"bip44Ethereum",bip44:"bip44EthereumSecondary",deprecated:"bip44EthereumTertiary",bip44RootEthereum:null,bip44Ethereum:null,bip44EthereumSecondary:null,bip44EthereumTertiary:null,bitcoinTaproot:null,bitcoinNativeSegwit:null,bitcoinNestedSegwit:null,bitcoinLegacy:null,bip44Sui:null},u7e={bip44Root:-1,bip44RootEthereum:-1,bitcoinTaproot:0,bitcoinNativeSegwit:0,bitcoinNestedSegwit:0,bitcoinLegacy:0,bip44Change:0,bip44Ethereum:0,bip44:1,bip44EthereumSecondary:1,deprecated:2,bip44EthereumTertiary:2,bip44Sui:0},f7e="https://help.phantom.com/hc/en-us/articles/4406563212819";var d7e="https://help.phantom.com/hc/en-us/articles/21872962238355";d();l();var jd=z(Pt()),iO=(0,jd.createContext)(null);function Toe({children:t,authRepository:e}){return jd.default.createElement(iO.Provider,{value:e},t)}function Mn(){let t=(0,jd.useContext)(iO);if(!t)throw new Error("useAuthRepository must be used within an AuthProvider");return t}function Ki(){return Mn().useUser()}d();l();d();l();var X3=z(Hn());d();l();var V3="https://phantom.app",q3="https://api.phantom.app/oauth2/auth",Cx={prod:"a61bc25e-0c4f-4ab3-aa54-b50ec746eea2",staging:"fe26708b-7db7-4146-9fbb-9a9736acfb2b"},Dx={prod:"https://auth.phantom.app",staging:"https://staging-auth.phantom.app"},sO="/login/start",aO="/oauth2/token";var _oe="https://help.phantom.com/hc/en-us/articles/32367778944403";var Ox=Lo({minutes:60})-Lo({minutes:15}),Ou="/v1/authentication-keys";d();l();var Wd=t=>Buffer.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");d();l();d();l();d();l();d();l();var z3=null;function j3(t){z3=t}async function cO(){if(!z3)throw new Error("No fetch bearer token function registered. Register one with registerFetchBearerToken().");return await z3()}d();l();d();l();function uO(...t){let e=new AbortController;for(let r of t){let n=r instanceof AbortController?r.signal:r;if(n?.aborted)return e.abort(n.reason),e.signal;n?.addEventListener("abort",()=>{e.abort(n.reason)},{once:!0})}return e.signal}var Poe=2*60*1e3,Boe=[];function fO(t,e){let{fetchTimeout:r,retryDelays:n,...o}=e||{},i=e?.fetchTimeout??Poe,s=e?.retryDelays??Boe,a=0,c=0;return new Promise((u,h)=>{function f(){a++,c=Date.now();let g=!0,x=new AbortController,w=fetch(t,{...o,signal:uO(...o.signal?[o.signal,x.signal]:[x.signal])}),S=setTimeout(()=>{x.abort(),g=!1,m(a)?p():h(new Error(`fetchWithTimeoutAndRetry(): Failed to get response from server due to timeout of ${i} ms, tried ${a} times.`))},i);w.then(k=>{clearTimeout(S),g&&(k.status>=200&&k.status<300?u(k):m(a,k.status)?p():u(k))}).catch(k=>{clearTimeout(S),m(a)?p():h(k)})}function p(){let g=s[a-1],x=c+g;setTimeout(f,Math.max(x-Date.now(),0))}function m(g,x){let w=x?x>=400&&x<=499:!1;return g<=s.length&&!w}f()})}d();l();var Nx=(t={},e={})=>{let r=new Headers(t),n=new Headers(e);for(let[o,i]of n.entries())i===void 0||i==="undefined"?r.delete(o):r.set(o,i);return r};d();l();var Qd=z(Hn());d();l();d();l();function dO(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function W3(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function lO(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");dO(t.outputLen),dO(t.blockLen)}function Gd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hO(t,e){W3(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();l();d();l();var Rx=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var pO=t=>t instanceof Uint8Array;var Ux=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),oi=(t,e)=>t<<32-e|t>>>e,Coe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Coe)throw new Error("Non little-endian hardware is not supported");function Doe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Mh(t){if(typeof t=="string"&&(t=Doe(t)),!pO(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function j7e(...t){let e=new Uint8Array(t.reduce((n,o)=>n+o.length,0)),r=0;return t.forEach(n=>{if(!pO(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}var $d=class{clone(){return this._cloneInto()}},W7e={}.toString;function yO(t){let e=n=>t().update(Mh(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function G7e(t=32){if(Rx&&typeof Rx.getRandomValues=="function")return Rx.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var Lx=class extends $d{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,lO(e);let n=Mh(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Gd(this),this.iHash.update(e),this}digestInto(e){Gd(this),W3(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},G3=(t,e,r)=>new Lx(t,e).update(r).digest();G3.create=(t,e)=>new Lx(t,e);d();l();d();l();function Ooe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var Mx=class extends $d{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ux(this.buffer)}update(e){Gd(this);let{view:r,buffer:n,blockLen:o}=this;e=Mh(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=Ux(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Gd(this),hO(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;Ooe(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=Ux(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};var Noe=(t,e,r)=>t&e^~t&r,Roe=(t,e,r)=>t&e^t&r^e&r,Uoe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wc=new Uint32Array(64),$3=class extends Mx{constructor(){super(64,32,8,!1),this.A=xc[0]|0,this.B=xc[1]|0,this.C=xc[2]|0,this.D=xc[3]|0,this.E=xc[4]|0,this.F=xc[5]|0,this.G=xc[6]|0,this.H=xc[7]|0}get(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)wc[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=wc[f-15],m=wc[f-2],g=oi(p,7)^oi(p,18)^p>>>3,x=oi(m,17)^oi(m,19)^m>>>10;wc[f]=x+wc[f-7]+g+wc[f-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){let p=oi(a,6)^oi(a,11)^oi(a,25),m=h+p+Noe(a,c,u)+Uoe[f]+wc[f]|0,x=(oi(n,2)^oi(n,13)^oi(n,22))+Roe(n,o,i)|0;h=u,u=c,c=a,a=s+m|0,s=i,i=o,o=n,n=m+x|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(n,o,i,s,a,c,u,h)}roundClean(){wc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var mO=yO(()=>new $3);var Loe=[86,120,48,81,89,86,110,49,100,114,111,113,49,70,56,84,77,115,80,81,66,75,72,51,90,83,110,100,110,116,68,88,107,118,83,53,102,80,114,89,111,88,85,75,57,43,67,57,97,103,74,113,68,76,112,112,100,48,102,101,80,122,83,111,108,113,75,90,56,114,66,70,119,87,84,104,98,57,110,119,43,79,70,51,51,65,61,61],Moe=[87,67,49,81,97,71,70,117,100,71,57,116,81,88,86,48,97,70,82,118,97,50,86,117],Foe=[87,67,49,81,97,71,70,117,100,71,57,116,84,109,57,117,89,50,85,61];function Hoe(t){let e=new URL(t);return e.pathname+e.search}function gO(t,e){let r=Hoe(t),n=JSON.stringify(Math.floor(Date.now()/1e3)),o=r+n,i=G3(mO,Qd.Buffer.from(String.fromCharCode(...Loe)),Qd.Buffer.from(o)),s=new Headers(e);return s.set(Qd.Buffer.from(String.fromCharCode(...Moe),"base64").toString(),encodeURIComponent(Qd.Buffer.from(i).toString("base64"))),s.set(Qd.Buffer.from(String.fromCharCode(...Foe),"base64").toString(),n),s}var Nu=class extends Error{constructor(e,r){super(e),this.response=r}response},Koe={"Content-Type":"application/json","X-Phantom-Version":D6,"X-Phantom-Platform":O6},Yd=async t=>{let e,r;try{r=await t.clone().blob()}catch{}try{e=await t.clone().json()}catch{}let{status:n,statusText:o}=t;return{blob:r,data:e,status:n,statusText:o}},Q3=class t{config;constructor(e={}){this.config={withClientAuth:!0,numRetries:0,delayBetweenEachRetryMs:0,timeoutMs:null,validateStatus:!1,headers:Koe,withApiEnvironment:"none",fetchBearerToken:!1,...e}}fetch=async(e,r={})=>{try{if(typeof e=="function"){let c=_c()==="https://api.phantom.app"?"prod":"staging";e=e({apiEnv:c})}let n="";this.config.withApiEnvironment==="prod"?n="https://api.phantom.app":this.config.withApiEnvironment==="staging"?n="https://staging-api.phantom.app":this.config.withApiEnvironment==="default"&&(n=_c());let o=new URL(`${n}${e}`);r?.params&&(o.search=new URLSearchParams(r.params).toString());let i=r;r.headers=Nx(this.config.headers,r.headers),this.config.withClientAuth&&(r.headers=gO(o.toString(),r.headers));let s=this.config.validateStatus;if(r?.validateStatus&&(s=r?.validateStatus),i.body&&typeof i.body!="string"&&(i.body=JSON.stringify(i.body)),this.config.timeoutMs&&(i.fetchTimeout=this.config.timeoutMs),this.config.numRetries&&(i.retryDelays=Array(this.config.numRetries).fill(this.config.delayBetweenEachRetryMs)),this.config.fetchBearerToken){let c=await cO();if(c)i.headers=Nx(i.headers,{authorization:`Bearer ${c}`});else throw new Nu("Unable to get bearer token. Full auth is required.")}let a=await fO(o.toString(),i);if(s&&!a.ok)throw new Nu(`Request failed with status code ${a.status}`,await Yd(a));return a}catch(n){throw n instanceof Nu?n:new Nu(n?.message,n?.response)}};auth(e){return new t({...this.config,withClientAuth:e})}bearer(e){return typeof e=="string"&&e?this.headers({authorization:`Bearer ${e}`}):typeof e=="boolean"&&e?new t({...this.config,fetchBearerToken:!0}):this}headers(e,r){let n=r?.mergeHeaders===!1?e:Nx(this.config.headers,e);return new t({...this.config,headers:n})}timeout(e){return new t({...this.config,timeoutMs:e})}retry(e,r){return new t({...this.config,numRetries:e,delayBetweenEachRetryMs:r})}validateStatus(e){return new t({...this.config,validateStatus:e})}api(e="default"){return new t({...this.config,withApiEnvironment:e})}async get(e,r={}){r.method="GET";let n=await this.fetch(e,r);return Yd(n)}async post(e,r,n={}){n.method="POST";let o=await this.fetch(e,{...n,body:r});return Yd(o)}async put(e,r,n={}){n.method="PUT";let o=await this.fetch(e,{...n,body:r});return Yd(o)}async patch(e,r,n={}){n.method="PATCH";let o=await this.fetch(e,{...n,body:r});return Yd(o)}async delete(e,r,n={}){n.method="DELETE";let o=await this.fetch(e,{...n,body:r});return Yd(o)}},lt=new Q3;function Voe(t){if(t===void 0)throw new Error("rpcUrl undefined");return async(e,r)=>{let n={jsonrpc:"2.0",id:+new Date,method:e,params:r},i=(await lt.post(t,n)).data;if("error"in i)throw new Error(JSON.stringify(i.error));return i.result}}async function qoe(t,e={}){return lt.fetch(t,e)}function Y3(t){return t.status>199&&t.status<400}function zoe(t){return t instanceof Nu}var joe="https://time.phantom.app/utc",Woe=v.number().int().positive();async function J3(){let t;try{let e=await lt.get(joe);if(e.status!==200)throw new Error("Failed to fetch time from server");t=Woe.parse(e.data)}catch{t=Date.now()}return Math.floor(t/1e3)}var Goe=60,$oe=()=>Math.floor(Date.now()/1e3);async function Ru(t=!0){let e={alg:"ES256",type:"JWT"},r=t?await J3():$oe(),n={iss:V3,aud:q3,nbf:r,exp:r+Goe,iat:r};return{header:e,payload:n}}function Uu(t){let e=Wd(X3.Buffer.from(JSON.stringify(t.header))),r=Wd(X3.Buffer.from(JSON.stringify(t.payload)));return[e,r,t.signature].join(".")}d();l();var xO=v.object({alg:v.string(),type:v.string(),kid:v.string()}),wO=v.object({sub:v.string(),iss:v.string(),aud:v.string(),nbf:v.number(),exp:v.number(),iat:v.number()}),Qoe=v.object({header:xO,payload:wO,signature:v.string()}),AO=v.object({alg:v.string(),type:v.string()}),SO=v.object({iss:v.string(),aud:v.string(),nbf:v.number(),exp:v.number(),iat:v.number()}),Yoe=v.object({header:AO,payload:SO}),Z3=v.object({id_token:v.string(),access_token:v.string(),refresh_token:v.string(),scope:v.string(),token_type:v.string(),expires_in:v.number().gte(0)}),Joe=v.object({redirectTo:v.string()}),vO=v.object({at_hash:v.string(),aud:v.array(v.string()),auth_time:v.number(),exp:v.number(),iat:v.number(),iss:v.string(),jti:v.string(),rat:v.number(),sid:v.string(),sub:v.string(),email:v.string().optional()}),Fx=v.object({authenticationKeys:v.array(v.object({createdAt:v.string().datetime().nullish().default(null),updatedAt:v.string().datetime().nullish().default(null),id:v.string().uuid(),publicKey:v.string(),userId:v.string().uuid()})).optional()});d();l();var Lu=z(p8());d();l();d();l();d();l();d();l();function y8(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Wie(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function VO(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Gie(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");y8(t.outputLen),y8(t.blockLen)}function $ie(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Qie(t,e){VO(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Yie={number:y8,bool:Wie,bytes:VO,hash:Gie,exists:$ie,output:Qie},Xx=Yie;d();l();d();l();var Jie={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var e1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ii=(t,e)=>t<<32-e|t>>>e,Xie=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Xie)throw new Error("Non little-endian hardware is not supported");var rCe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Zie(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function m8(t){if(typeof t=="string"&&(t=Zie(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var Zx=class{clone(){return this._cloneInto()}};function g8(t){let e=n=>t().update(m8(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function ese(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var t1=class extends Zx{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=e1(this.buffer)}update(e){Xx.exists(this);let{view:r,buffer:n,blockLen:o}=this;e=m8(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=e1(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Xx.exists(this),Xx.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;ese(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=e1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};var tse=(t,e,r)=>t&e^~t&r,rse=(t,e,r)=>t&e^t&r^e&r,nse=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ec=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ic=new Uint32Array(64),r1=class extends t1{constructor(){super(64,32,8,!1),this.A=Ec[0]|0,this.B=Ec[1]|0,this.C=Ec[2]|0,this.D=Ec[3]|0,this.E=Ec[4]|0,this.F=Ec[5]|0,this.G=Ec[6]|0,this.H=Ec[7]|0}get(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)Ic[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Ic[f-15],m=Ic[f-2],g=ii(p,7)^ii(p,18)^p>>>3,x=ii(m,17)^ii(m,19)^m>>>10;Ic[f]=x+Ic[f-7]+g+Ic[f-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){let p=ii(a,6)^ii(a,11)^ii(a,25),m=h+p+tse(a,c,u)+nse[f]+Ic[f]|0,x=(ii(n,2)^ii(n,13)^ii(n,22))+rse(n,o,i)|0;h=u,u=c,c=a,a=s+m|0,s=i,i=o,o=n,n=m+x|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(n,o,i,s,a,c,u,h)}roundClean(){Ic.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},b8=class extends r1{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},qO=g8(()=>new r1),hCe=g8(()=>new b8);var el=z(p8()),zO=z(gl()),x8={generateRandom:t=>{let e=(0,zO.randomBytes)(t);return(0,el.bufferToString)(e)},async deriveChallenge(t){let e=qO((0,el.textEncodeLite)(t));return(0,el.urlSafe)(e)}};d();l();var Ro=()=>{let t=_c();return t==="https://staging-api.phantom.app"?Dx.staging:t==="https://api.phantom.app"?Dx.prod:b.BASE_AUTH_ENDPOINT||Dx.staging},w8=()=>`${Ro()}${sO}`,n1=()=>`${Ro()}${aO}`;var jO=new Lu.BasicQueryStringUtils;async function Hh(t,e){let{url:r,codeVerifier:n}=await WO(t.getClientID(),t.redirectURL,e),o=e.type==="email",i=await t.fetchAuthorizationCode(t.redirectURL,r,o);return await A8({grantType:"authorization_code",clientID:t.getClientID(),redirectURI:t.redirectURL,tokenEndpoint:n1(),code:i,codeVerifier:n})}async function WO(t,e,r){let n=w8(),o,i=["openid","offline_access","user","incognito","seedless"],s;switch(r.type){case"key":{o={type:"key",jwt:Uu(r.clientJWT)};break}case"email":{o={type:"email",provider:r.provider,existingAccessToken:r.existingAccessToken},s=r.prompt,i.push("email");break}case"session":{o={type:"session",existingAccessToken:r.existingAccessToken};break}}let c=await new Lu.AuthorizationRequest({client_id:t,redirect_uri:e,scope:i.join(" "),response_type:"code"},x8).toJson(),u;switch(o.type){case"key":u=`jwt:${Wd(Buffer.from(o.jwt,"utf8"))}`;break;case"email":u=`sso:${o.provider}`,o.existingAccessToken&&(u=`${u}:${o.existingAccessToken}`);break;case"session":u=`session:${o.existingAccessToken}`;break}let h={redirect_uri:c.redirect_uri,client_id:c.client_id,response_type:c.response_type,state:c.state??"",scope:c.scope,login_hint:u};s&&(h.prompt=s);let f=c.extras?.code_challenge,p=c.extras?.code_challenge_method,m=c.internal?.code_verifier;if(f&&p&&(h.code_challenge=f,h.code_challenge_method=p),!f||!p||!m)throw new Error("Missing code challenge or code verifier for PKCE.");let g=jO.stringify(h);return{url:`${n}?${g}`,codeVerifier:m}}async function A8(t){let{grantType:e,tokenEndpoint:r,clientID:n,redirectURI:o}=t,i;e==="authorization_code"?i=new Lu.TokenRequest({client_id:n,redirect_uri:o,grant_type:e,code:t.code,extras:{code_verifier:t.codeVerifier}}):i=new Lu.TokenRequest({client_id:n,redirect_uri:o,grant_type:e,refresh_token:t.refreshToken});let s=await lt.headers({"Content-Type":"application/x-www-form-urlencoded"},{mergeHeaders:!1}).auth(C6()).post(r,jO.stringify(i.toStringMap()));ose(s,e);let a=Z3.safeParse(s.data);if(!a.success)throw new Error("Invalid OAuth2Token response.");let{data:c}=a;return{idToken:c.id_token,accessToken:c.access_token,refreshToken:c.refresh_token,scope:c.scope,tokenType:c.token_type,expiresAt:Date.now()+c.expires_in*1e3}}async function GO(t,e){return await A8({clientID:t.getClientID(),redirectURI:t.redirectURL,grantType:"refresh_token",tokenEndpoint:n1(),refreshToken:e})}function ose(t,e){if([401,400].includes(t.status)){let r="";if(t.status===401)switch(r="Token Request Unauthorized (401): ",e){case"authorization_code":r+="Authorization code is expired or invalid.";break;case"refresh_token":r+="Refresh token is expired or invalid.";break;default:r+=`Unknown grant type [${e}]. `}if(t.status===400)switch(r="Bad Token Request (400): ",e){case"authorization_code":r="for [authorization_code]. Possible causes: 1. The authorization code is expired or invalid. 2. Redirect URI mismatch. 3. Code verifier mismatch (if using PKCE).";break;case"refresh_token":r="for [refresh_token]. Possible causes: 1. The refresh token is expired, invalid, or revoked. 2. Client ID mismatch. 3. Missing or malformed refresh token in the request.";break;default:r=`for unknown grant type [${e}]. Check the payload and OAuth provider documentation.`}throw new Error(r)}}d();l();d();l();d();l();var Kh=class{subscribers={};subscribe(e,r){return this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(r),()=>{this.subscribers[e].splice(this.subscribers[e].indexOf(r),1)}}emitEvent(e,...r){(this.subscribers[e]??[]).forEach(o=>o(...r))}};var o1=class extends Kh{emit(e){e&&(this.emitEvent("user",e),this.emitEvent("userID",e.userID),this.emitEvent("accessToken",e.accessToken),e.email&&this.emitEvent("email",e.email))}emitLoggedOut(){this.emitEvent("loggedOut")}};d();l();d();l();function zi(t,e="expected value not found"){if(t==null)throw new Error(e);return t}function $O(t,e="expected value not found"){if(!t)throw new Error(e)}var i1=async(t,e)=>{let r=Ro(),n=zi(t.signer,"Signer is required for key-based auth.");try{let o=await n.getAuthenticationPublicKey(e),i=await Ru(t.isServerTimeEnabled()),s=await n.sign(i,e),{data:a}=await lt.get(`${r}${Ou}`,{params:{token:Uu(s)}}),c=Fx.safeParse(a);return c.success?(c.data.authenticationKeys??[]).some(f=>f.publicKey===o):!1}catch{return!1}};d();l();d();l();var QO="@phantom/auth",Ds={user:["auth",`${QO}:user`],authFactors:["auth",`${QO}:user-auth-factors`]};d();l();d();l();var s1=new Map;function sse(){s1.clear()}function YO(t){sse();let e=Date.now();s1.set(t,e)}var JO=async t=>{let e=Date.now(),r=s1.get(t)??0;if(e-r<Ox)return!0;try{let o=await lt.headers({"Content-Type":"application/x-www-form-urlencoded"},{mergeHeaders:!1}).bearer(t).get(`${Ro()}/userinfo`),i=Y3(o);return i&&s1.set(t,e),i}catch{return!1}};d();l();var S8=".phantom.auth",Mu=`${S8}.tokens`,XO=`${S8}.authentication-factors`,ase=`${S8}.email-provider`;d();l();d();l();var ZO=t=>Buffer.from(t.replace("-","+").replace("_","/").replace(/=+$/,""),"base64");var Vh=t=>{let e=t.idToken.split(".");if(e.length!==3)throw new Error("Malformed ID token. Expected 3 period-delimited parts to ID token.");let r;try{let n=ZO(e[1]).toString("utf-8"),o=JSON.parse(n);r=vO.parse(o)}catch{throw new Error("Unable to parse ID token payload.")}return{accessToken:t.accessToken,userID:r.sub,email:r.email}};var Os=(t,e)=>{let r=async()=>{let{storage:n,authConfig:o}=t,i=await n.get(Mu);if(!i)return null;if(await JO(i.accessToken))return Vh(i);if(i.refreshToken)try{let s=await GO(o,i.refreshToken);return await n.set(Mu,s),YO(s.accessToken),Vh(s)}catch(s){let a=s.message;return a.includes("400")?M6.write(`Failed to refresh access token: ${a}`,"Auth","error"):(ee.addBreadcrumb(`Failed to refresh access token: ${a}`,"Auth","error"),ee.captureError(s,"Auth")),null}return null};return t.runExclusive(async()=>{let n=await r();return e.emit(n),n})};d();l();var a1=async(t,e,r)=>{let{storage:n,authConfig:o}=t,i,{type:s}=r;switch(s){case"key":{let c=await cse(t,r),u=zi(t.signer,"Signer is required for key-based auth."),h=await Ru(t.isServerTimeEnabled()),f=await u.sign(h,c);i=await Hh(o,{type:s,clientJWT:f});break}case"email":{i=await Hh(o,{type:s,prompt:r.prompt,provider:r.provider});break}case"session":{i=await Hh(o,{type:s,existingAccessToken:r.accessToken});break}}await n.set(Mu,i);let a=Vh(i);return e.emit(a),a},cse=async(t,e)=>{if(e.secretIdentifier)return e.secretIdentifier;let r=await zi(t.signer).getAllSecretIdentifiers();for(let n of r)if(await i1(t,n))return n;throw new Error("Unable to log in with key-based auth. No auth factor found for login.")};var use=Ox,fse=Lo({minutes:5}),dse=async(t,e)=>{let r=await Os(t,e);if(r)return r;if((await zi(t.signer,"Signer is required for key-based auth.").getAllSecretIdentifiers()).length===0)throw new Error("Unable to log in with key-based auth. Vault is not yet onboarded.");try{return await a1(t,e,{type:"key"})}catch(i){throw ee.captureError(i instanceof Error?i:new Error("Unknown error"),"Auth"),new Error("Unable to automatically log in with key-based auth.")}},eN=(t,e)=>({queryKey:Ds.user,queryFn:()=>dse(t,e),gcTime:use,staleTime:fse}),tN=async(t,e)=>{let r=eN(t,e);return await t.queryClient.fetchQuery(r)},rN=(t,e)=>{let r=eN(t,e);return He({...r,retryOnMount:!1})};var lse=t=>{let e=new o1,r={getUser:()=>Os(t,e),autoLogIn:()=>tN(t,e),useUser:()=>rN(t,e),refreshTokens:()=>hse(t,e),logIn:n=>a1(t,e,n),isExistingAuthFactor:n=>i1(t,n),getAuthenticationKeys:()=>pse(t,e),getLocalAuthenticationPublicKeys:()=>yse(t),addAuthFactor:n=>mse(t,e,n),deleteAuthFactor:n=>gse(t,e,n),deleteAllAuthFactors:()=>bse(t,e),subscribe:(n,o)=>e.subscribe(n,o),logOut:()=>xse(t,e)};return j3(async()=>(await r.autoLogIn())?.accessToken??null),r},hse=async(t,e)=>!!await Os(t,e),pse=async(t,e)=>({authenticationPublicKeys:(await nN(t,e)).map(n=>n.publicKey)}),nN=async(t,e)=>{let r=Ro(),n=await Os(t,e);if(!n)throw new Error("User not authenticated.");let{data:o}=await lt.bearer(n.accessToken).get(`${r}${Ou}`),i=Fx.safeParse(o);if(!i.success)throw new Error("Unable to parse auth factors response.");return i.data.authenticationKeys??[]},yse=async t=>{try{let e=zi(t.signer,"Signer is required for key-based auth."),r=await e.getAllSecretIdentifiers(),n={};for(let o of r)n[o]=await e.getAuthenticationPublicKey(o);return n}catch{return{}}},mse=async(t,e,{secretIdentifier:r})=>{let n=Ro(),o=zi(t.signer,"Signer is required for key-based auth."),i=await Os(t,e);if(!i)throw new Error("User not authenticated.");let s=await Ru(t.isServerTimeEnabled()),a=await o.sign(s,r);await lt.bearer(i.accessToken).post(`${n}${Ou}`,{jwt:Uu(a)})},gse=async(t,e,{authenticationPublicKey:r})=>{let n=Ro(),o=await Os(t,e);if(!o)throw new Error("User not authenticated.");await lt.bearer(o.accessToken).delete(`${n}${Ou}/${encodeURIComponent(r)}`)},bse=async(t,e)=>{let r=Ro(),n=t.storage,o=await Os(t,e);if(!o)throw new Error("User not authenticated.");let i=await nN(t,e);await Promise.all(i.map(s=>lt.bearer(o.accessToken).delete(`${r}${Ou}/${s.id}`))),await n.remove(XO)},xse=async({storage:t},e)=>{await t.remove(Mu),e.emitLoggedOut()};d();l();var wse=(t,e)=>{let r=new URL(e);if(!r.toString().startsWith(t))throw new Error("Unexpected redirectURL. RedirectURL from auth flow must match local redirect URL.");let n=r.searchParams.get("code");if(!n)throw new Error("No authorization code");return n};d();l();var Ase=(t,e)=>{let r=new URL(e);if(!r.toString().startsWith(t))throw new Error("Unexpected redirectURL. RedirectURL from auth flow must match local redirect URL.");let n=r.searchParams.get("error"),o=r.searchParams.get("error_description");if(n)throw new Error(`${n}: ${o}`,{cause:n});return!1};d();l();var Sse=()=>_c()==="https://api.phantom.app"?Cx.prod:Cx.staging;d();l();var v8=()=>{let t=Mn(),{data:e}=Ki(),r=Ds.authFactors;return He({queryKey:r,queryFn:async()=>{let o=await t.getLocalAuthenticationPublicKeys();if(Object.keys(o).length===0)return{};let i=[];try{if(e){let{authenticationPublicKeys:a=[]}=await t.getAuthenticationKeys();i=a}}catch(a){a instanceof Error&&ee.addBreadcrumb("Auth",`Unable to fetch existing AuthFactors for user (${e?.userID}): ${a.message}`,"error")}let s={};for(let[a,c]of Object.entries(o)){let u=i.includes(c);!u&&await t.isExistingAuthFactor(a)||(s[a]={authenticationPublicKey:c,isExistingAuthFactor:u})}return Object.keys(s).length===0&&ee.addBreadcrumb("Auth",`Unable to build AuthFactors map: 
- user: ${e?.userID}
- locally available auth factors: ${Object.keys(o).length}
- auth factors registered with user: ${i.length}`,"error"),s},retryOnMount:!1})};d();l();d();l();var Ns=()=>{let{data:t}=Ki();return!!t};function vse(t,e){let r=Ns(),n;return t.enabled===void 0?n=r:typeof t.enabled=="function"?n=o=>($O(typeof t.enabled=="function","expected enabled to be a function"),r&&t.enabled(o)):typeof t.enabled=="boolean"?n=r&&t.enabled:ot(t.enabled),He({...t,enabled:n},e)}d();l();d();l();var E8=async t=>{await t.removeQueries({queryKey:Ds.user})},I8=async t=>{await t.resetQueries({queryKey:Ds.user})},qh=async t=>{await t.invalidateQueries({queryKey:Ds.user})},Rs=async t=>{await t.invalidateQueries({queryKey:Ds.authFactors})};var Ese=()=>{let t=Ae(),e=Mn(),r=async({secretIdentifier:n})=>{await e.addAuthFactor({secretIdentifier:n}),await Rs(t)};return Se({mutationFn:async n=>{try{return await r(n)}catch(o){ee.addBreadcrumb("Auth",`Could not add auth factor: ${n.secretIdentifier}`,"error");let i;throw o instanceof Error?i=o:i=new Error(`Could not add auth factor: ${n.secretIdentifier}`),ee.captureError(i,"Auth"),i}}})};d();l();var Ise=()=>{let t=Ae(),e=Mn(),r=async({authenticationPublicKey:n})=>{await e.deleteAuthFactor({authenticationPublicKey:n}),await Rs(t)};return Se({mutationFn:async n=>{try{return await r(n)}catch(o){ee.addBreadcrumb("Auth","Could not remove auth factor!","error");let i;throw o instanceof Error?i=o:i=new Error("Could not remove auth factor!"),ee.captureError(i,"Auth"),i}}})};d();l();var kse=()=>{let{data:t}=Ki();return t?.accessToken};d();l();d();l();var Tse=()=>{let{data:t}=Ki();return t?.email};d();l();var tl=z(Pt()),oN=(0,tl.createContext)(null);function _se({children:t,analytics:e}){return tl.default.createElement(oN.Provider,{value:e},t)}function $r(){let t=(0,tl.useContext)(oN);if(!t)throw new Error("useAnalytics must be used within a AnalyticsProvider");return t}d();l();d();l();var zh=$u($r,t=>new c1(t)),c1=class{#e;constructor(e){this.#e=e}onClaimFlowStart(){this.#e.capture("userUsernameClaimFlowStart")}onCheckAvailability(e,r){this.#e.capture("userUsernameCheckAvailability",{data:{username:e,isAvailable:r}})}onAvatarSaved(e){this.#e.capture("userUsernameClaimFlowAvatarSaved",{data:{avatarType:e}})}onAnonymousAuthSaved(e,r){this.#e.capture("userUsernameClaimFlowAnonymousAuthSaved",{data:{numAuthFactorsSaved:e,numAuthFactorsShown:r}})}onLinkWalletsSaved(e,r){this.#e.capture("userUsernameClaimFlowLinkWalletsSaved",{data:{numWalletsSaved:e,numWalletsShown:r}})}onPublicAddressesSaved(){this.#e.capture("userUsernameClaimFlowPublicAddressesSaved")}onClaimFlowComplete(e,r){this.#e.capture("userUsernameClaimComplete",{data:{username:e,authUserID:r}})}};d();l();var rl=z(Pt()),iN=(0,rl.createContext)(null);function Pse({children:t,userRepository:e,claimUsernameSigner:r}){return rl.default.createElement(iN.Provider,{value:{userRepository:e,claimUsernameSigner:r}},t)}function sN(){let t=(0,rl.useContext)(iN);if(!t)throw new Error("useUserContext must be used within a UserProvider");return t}function ut(){return sN().userRepository}function aN(){return sN().claimUsernameSigner}d();l();d();l();var jh=class extends Error{constructor(e="No user profile."){super(e),this.name="NoUserProfileError"}};d();l();var Wh="@phantom/users",ir={checkUsernameAvailability(t){return["user",`${Wh}:check-username-availability`,{username:t}]},userProfile(){return["user",`${Wh}:user-profile`]},userProfileAttributeEffect(t){return["user",`${Wh}:user-profile-attribute-effect`,{username:t}]},userSyncedAccounts(){return["user",`${Wh}:user-synced-accounts`]}};var Bse=Lo({days:1}),Cse=Lo({minutes:1});function si(){let t=ut(),e=Ns(),r=ir.userProfile();return He({enabled:e,queryKey:r,queryFn:async()=>{let o=await t.getUserProfile();if(!o)throw new jh;return o},gcTime:Bse,staleTime:Cse})}d();l();d();l();d();l();var nl=(t,e)=>e?`/user/v1/users/${t}/wallet-accounts/${e}`:`/user/v1/users/${t}/wallet-accounts`,Gh=t=>`/user/v1/users/${t}/profile`,u1=t=>`/user/v1/profiles/${t}`,cN=()=>"/user/v1/profiles/creation-check",uN=t=>`/v1/actors-search?query=${encodeURIComponent(t)}`,fN=["seed","seedless","privateKey"],Dse=(t,e)=>{let r=t[0],n=e[0],o=V.isNetworkID(r),i=V.isNetworkID(n);return o&&i?V.compareNetworkID(r,n):o?-1:i?1:0},k8=10,dN=500,$h={seedless:1,seed:2,privateKey:3};d();l();var T8=async t=>{await t.removeQueries({queryKey:ir.userProfile()})},_8=async t=>{await t.resetQueries({queryKey:ir.userProfile()})},Fu=async t=>{await t.invalidateQueries({queryKey:ir.userProfile()})},P8=async t=>{await t.removeQueries({queryKey:ir.userSyncedAccounts()})},Ose=async t=>{await t.resetQueries({queryKey:ir.userSyncedAccounts()})},ai=async t=>{await t.invalidateQueries({queryKey:ir.userSyncedAccounts()})};d();l();d();l();var ol=(o=>(o.PUBLIC="public",o.PRIVATE="private",o.INVISIBLE="invisible",o.HIDDEN="hidden",o))(ol||{}),Nse=Object.values(ol),pN=v.string().brand("ProfileId"),f1=v.object({id:pN,username:v.string(),icon:v.string().nullish(),addresses:v.record(v.string(),v.string()),privacyState:v.nativeEnum(ol).optional().default("public"),biography:v.string().nullish(),phantomJoinDate:v.string().nullish()}),B8=v.string().url().brand("ActorId"),Rse=v.object({id:v.string().optional(),orderedItems:B8.array(),next:v.string().optional()}),lN=v.object({id:v.string().url(),current:Rse.optional(),totalItems:v.number().optional()}),hN=v.object({type:v.string(),value:v.string().optional(),name:v.string().optional()}),Use=v.object({id:v.string().url().optional(),name:v.string().optional(),type:v.string()}),yN=v.object({id:B8,name:v.string(),preferredUsername:v.string(),manuallyApprovesFollowers:v.boolean(),followers:v.union([lN,v.string().url()]),following:v.union([lN,v.string().url()]),icon:Use.nullish(),attachment:v.union([hN,v.array(hN)]).optional(),summary:v.string().nullish(),published:v.string().nullish()}).transform(t=>{let{attachment:e,...r}=t,n={},o=!1,i=!1,s=!1,a=!1,c=!1;if(e){let u=Array.isArray(e)?e:[e];for(let h of u)if(!(!h.name||!h.value)){if(h.name.endsWith(":address")){let f=Ps.safeParse(h.name.replace(":address",""));if(f.success){let p=f.data;n[p]=h.value}}h.name==="requesting"&&(o=h.value==="true"),h.name==="requestedBy"&&(i=h.value==="true"),h.name==="blocking"&&(s=h.value==="true"),h.name==="following"&&(a=h.value==="true"),h.name==="followedBy"&&(c=h.value==="true")}}return{...r,addresses:n,isSentFollowRequestPending:o,hasPendingFollowRequest:i,isBlocking:s,isFollowing:a,isFollowedBy:c}}),mN=v.object({actors:yN.array()}),Qh={Image:"image",Emoji:"emoji",ReadOnlyDefault:"read-only-default",Default:"default"},DRe=v.object({type:v.nativeEnum(Qh),imageUrl:v.string().optional(),unicode:v.string().optional()}),C8=v.object({error:v.object({message:v.string()})});var D8=async t=>{let e=await lt.api().get(u1(t)),r=f1.safeParse(e.data);return r.success?r.data:null};d();l();var gN=v.string().regex(/^https?:\/\/.+$/),bN=v.string(),d1=v.literal("privateKey"),Lse=v.object({networkId:bc,publicKey:Tc,address:B6,pathType:C0.or(d1)}),Mse=v.object({networkId:gc,publicKey:Tc,address:Hs,pathType:B0.or(d1)}),Fse=v.object({networkId:mc,publicKey:Tc,address:v.string(),pathType:P0.or(d1)}),Hse=v.object({networkId:Kd,publicKey:Tc,address:v.string(),pathType:eA.or(d1)}),Kse=v.union([Lse,Mse,Fse,Hse]),xN=v.object({accountHash:v.string(),accountOrigin:v.string().regex(/^(seed|privateKey|seedless):(.+)/).catch("readOnly"),name:v.string().nullish().default(null).catch(null),icon:v.union([gN,bN]).nullish().default(null).catch(null),derivationIndex:v.number().nullish().default(null).catch(null),addresses:v.array(Kse).min(1)}),Vse=xN.and(v.object({id:v.string()})),l1=v.object({walletAccounts:v.array(Vse)}),WRe=v.record(v.string(),xN);d();l();var O8=t=>{for(let e of fN)if(t.accountOrigin?.split(":")[0]===e)return e;return null},N8=t=>t.accountOrigin?.replace("seed:","")?.replace("privateKey:","")?.replace("seedless:",""),wN=(t=[])=>t.sort((e,r)=>{let n=O8(e),o=O8(r);if(n===null&&o===null)return 0;if(n===null)return 1;if(o===null)return-1;if($h[n]-$h[o]!==0)return $h[n]-$h[o];let i=N8(e),s=N8(r);if(i===null&&s===null)return 0;if(i===null)return 1;if(s===null)return-1;let a=i.localeCompare(s);return a!==0?a:e.derivationIndex===null&&r.derivationIndex===null?0:e.derivationIndex===null?1:r.derivationIndex===null?-1:e.derivationIndex-r.derivationIndex});var qse=t=>({getUsernameAvailability:e=>zse(e),getUserProfile:()=>jse(t),getUserProfileByUsername:e=>D8(e),getUserProfileByUsernameOrUserProfileId:e=>D8(e),searchForActor:(e,r,n)=>tae(e,r,n),setUserProfile:({username:e,addresses:r,icon:n,signedMessages:o,privacyState:i})=>Wse(t,{username:e,addresses:r,signedMessages:o,icon:n,privacyState:i}),patchUserProfile:e=>Gse(t,e),deleteUserProfile:()=>$se(t),isEligibleToClaim:e=>Qse(e),getSyncedAccounts:()=>R8(t),downloadSyncedAccounts:()=>Yse(t),uploadSyncedAccounts:e=>Jse(t,e),uploadSyncedAccount:e=>Xse(t,e),deleteSyncedAccounts:()=>Zse(t),deleteSyncedAccount:e=>eae(t,e)}),zse=async t=>{switch((await lt.api().get(u1(t))).status){case 200:return!1;case 403:return!1;case 404:return!0;default:throw new Error("Failed to check for username availability.")}},jse=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to get user profile.");let{userID:r,accessToken:n}=e,o=await lt.api().bearer(n).get(Gh(r)),i=f1.safeParse(o.data);return i.success?i.data:null},Wse=async({authRepository:t},{username:e,addresses:r,icon:n,signedMessages:o,privacyState:i})=>{let s=await t.getUser();if(!s)throw new Error("User is not logged in, unable to claim username.");let{userID:a,accessToken:c}=s,u=await lt.api().bearer(c).post(Gh(a),{username:e,signedMessages:o,icon:n,addresses:r,privacyState:i});if(u.status===201)return;let h=C8.safeParse(u.data);throw h.success?new Error(h.data.error.message):new Error("Unknown error")},Gse=async({authRepository:t},{username:e,addresses:r,icon:n,privacyState:o,biography:i})=>{let s=await t.getUser();if(!s)throw new Error("User is not logged in, unable to claim username.");let{userID:a,accessToken:c}=s,u=await lt.api().bearer(c).patch(Gh(a),{username:e,addresses:r,icon:n,privacyState:o,biography:i});if(u.status===200)return;ee.captureMessage(`Failed to patch user profile: ${u.status} ${JSON.stringify(u.data)}`,"Auth");let h=C8.safeParse(u.data);throw h.success?new Error(h.data.error.message):new Error("Unknown error")},$se=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to sync down accounts.");let{userID:r,accessToken:n}=e,o=await lt.api().bearer(n).delete(Gh(r));return 200<=o.status&&o.status<300},Qse=async t=>{try{return(await lt.api().post(cN(),{addresses:t})).status===200}catch{return!1}},R8=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to sync down accounts.");let{userID:r,accessToken:n}=e,o=await lt.api().bearer(n).get(nl(r)),i=l1.safeParse(o.data);if(!i.success)throw new Error("Unable to get synced accounts: unable to parse GET /wallet-accounts response.");return{walletAccounts:wN(i.data.walletAccounts)}},Yse=async t=>{let{walletAccounts:e}=await R8(t),r=e.reduce((n,o)=>(n[o.accountHash]=o,n),{});return await t.claimUsernameSigner.storeSyncedAccounts(r),!0},AN=(t,e,r)=>lt.api().bearer(t).post(nl(e),r),Jse=async(t,e)=>{let{authRepository:r,claimUsernameSigner:n,queryClient:o}=t,i=await r.getUser();if(!i)return ee.addBreadcrumb("Auth","User is not logged in, unable to sync up accounts.","info"),!1;try{let s=e;s||(ee.addBreadcrumb("Auth","Uploading all currently synced accounts...","info"),s=[...(await R8(t)).walletAccounts.reduce((m,g)=>(m.add(g.accountHash),m),new Set)]);let a=await n.getBatchAccountMetadata(s),{userID:c,accessToken:u}=i,h=K1(Object.values(a),k8);for(let f of h)await Promise.all(f.map(p=>AN(u,c,p))),await U6(dN);return await ai(o),ee.addBreadcrumb("Auth",`\u2705 Uploaded synced accounts: ${e?e?.join(" "):"all currently synced accounts"}`,"info"),!0}catch(s){throw ee.addBreadcrumb("Auth",`Unable to sync up accounts: ${e?e?.join(" "):"all currently synced accounts"}`,"info"),ee.captureError(s,"Auth"),s}},Xse=async({authRepository:t,claimUsernameSigner:e,queryClient:r},n)=>{let o=await t.getUser();if(!o)return ee.addBreadcrumb("Auth",`User is not logged in, unable to sync up account: ${n}`,"info"),!1;try{ee.addBreadcrumb("Auth",`Syncing account... : ${n}`,"info");let i=await e.getAccountMetadata(n),{userID:s,accessToken:a}=o;return await AN(a,s,i),await ai(r),ee.addBreadcrumb("Auth",`\u2705 Synced account: ${n}`,"info"),!0}catch(i){throw ee.addBreadcrumb("Auth",`Unable to sync up account: ${n}`,"info"),ee.captureError(i,"Auth"),i}},SN=(t,e,r)=>lt.api().bearer(t).delete(nl(e,r.id),r),Zse=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to delete all synced accounts.");let{userID:r,accessToken:n}=e,o=await lt.api().bearer(n).get(nl(r)),i=l1.safeParse(o.data);if(!i.success)throw new Error("Unable to delete all synced accounts => unable to parse GET /wallet-accounts response.");let s=K1(i.data.walletAccounts,k8);for(let a of s)await Promise.all(a.map(c=>SN(n,r,c)));return!0},eae=async({authRepository:t},e)=>{let r=await t.getUser();if(!r)throw new Error(`User is not logged in, unable to remove synced account: ${e}`);let{userID:n,accessToken:o}=r,i=await lt.api().bearer(o).get(nl(n)),s=l1.safeParse(i.data);if(!s.success)throw new Error(`Unable to delete synced account [${e}] => unable to parse GET /wallet-accounts response`);let a=s.data.walletAccounts.find(c=>c.accountHash===e);if(!a)return ee.addBreadcrumb("Auth",`Calling deleteSyncedAccount on account that is not synced to begin with: ${e}`,"info"),!1;try{await SN(o,n,a)}catch(c){throw ee.addBreadcrumb("Auth",`Unable to delete synced account: ${e}`,"info"),ee.captureError(c,"Auth"),c}return!0},tae=async(t,e,r)=>{ee.addBreadcrumb("network","User is searching for actors.","info",{query:t});let n=await lt.api().bearer(e).get(uN(t)),o=mN.safeParse(n.data);return o.success?{actors:o.data.actors}:{actors:[]}};d();l();var rae=new Set([ir.userProfile()[1],ir.userSyncedAccounts()[1]]),nae=t=>{let e=t.queryKey[1];return typeof e!="string"||!e?!1:rae.has(e)};d();l();function oae(){let t=zh(),e=Mn(),r=ut(),n=aN(),o=Ae(),i=async({username:s,addresses:a,icon:c,secretIdentifiers:u,accountIdentifiers:h})=>{if(ee.addBreadcrumb("Auth",`Claiming Username: ${s}.`,"info"),u.length===0)throw new Error("Unable to log in to claim a username. Select a secret identifier to use as an auth factor.");ee.addBreadcrumb("Auth","Logging in with first auth factor","info");let f=await e.logIn({type:"key",secretIdentifier:u[0]});for(let m of u.slice(1))ee.addBreadcrumb("Auth","Adding additional auth factor","info"),await e.addAuthFactor({secretIdentifier:m});ee.addBreadcrumb("Auth","Signing over messages","info");let p=await n.signMessages(s);ee.addBreadcrumb("Auth","Creating user profile to claim username","info"),await r.setUserProfile({username:s,addresses:a,icon:c,signedMessages:p,privacyState:"public"}),ee.addBreadcrumb("Auth","Uploading Synced Accounts","info"),await r.uploadSyncedAccounts(h),ee.addBreadcrumb("Auth","\u2705 Username Claimed!","info"),await I8(o),await _8(o),await qh(o),await Fu(o),await Rs(o),t.onClaimFlowComplete(s,f.userID)};return Se({mutationFn:async s=>{try{return await i(s)}catch(a){ee.addBreadcrumb("Auth","Could not claim username","error");let c;throw a instanceof Error?c=a:c=new Error("Unable to claim username"),ee.captureError(c,"Auth"),c}}})}d();l();function iae(t){let e=zh(),r=ut(),n=ir.checkUsernameAvailability(t);return He({enabled:!!t,queryKey:n,queryFn:async()=>{if(!t)return!1;let s=await r.getUsernameAvailability(t);return e.onCheckAvailability(t,s),s}})}d();l();var sae=Lo({days:1}),aae=Lo({minutes:1}),vN=t=>{let e=ut(),r=Ns();return He({enabled:r,queryKey:ir.userSyncedAccounts(),queryFn:async()=>(await e.getSyncedAccounts()).walletAccounts,gcTime:sae,staleTime:aae,select:t})};d();l();var cae=()=>{let t=Ae(),e=Mn(),r=ut();return Se({mutationFn:async()=>{await r.deleteSyncedAccounts(),await r.deleteUserProfile(),await e.deleteAllAuthFactors(),await e.logOut(),await P8(t),await T8(t),await E8(t),await ai(t),await Fu(t),await qh(t),await Rs(t)}})};d();l();var U8=()=>{let t=Ae(),e=ut(),r=async n=>{await e.patchUserProfile(n),await Fu(t)};return Se({mutationFn:async n=>{try{return await r(n)}catch(o){ee.addBreadcrumb("Auth",`Could not update user profile: ${JSON.stringify(n)}`,"error");let i;throw o instanceof Error?i=o:i=new Error("Could not update user profile!"),ee.captureError(i,"Auth"),i}},onMutate:async n=>{let o=ir.userProfile();await t.cancelQueries({queryKey:o});let i=t.getQueryData(o);return t.setQueryData(o,{...i,...n}),{previousData:i}},onError:(n,o,i)=>{i&&t.setQueryData(ir.userProfile(),i.previousData)}})};d();l();d();l();var uae=()=>{let t=Ae(),e=ut(),r=async n=>{Array.isArray(n)?await e.uploadSyncedAccounts(n):await e.uploadSyncedAccount(n),await ai(t)};return Se({mutationFn:async n=>{try{return await r(n)}catch(o){let i=Array.isArray(n)?n.join(" "):n;ee.addBreadcrumb("Auth",`Could not add synced account: ${i}`,"error");let s;throw o instanceof Error?s=o:s=new Error("Could not add synced account!"),ee.captureError(s,"Auth"),s}}})};d();l();var fae=()=>{let t=Ae(),e=ut(),r=async n=>{Array.isArray(n)?await Promise.all(n.map(o=>e.deleteSyncedAccount(o))):await e.deleteSyncedAccount(n),await ai(t)};return Se({mutationFn:async n=>{try{return await r(n)}catch(o){let i=Array.isArray(n)?n.join(" "):n;ee.addBreadcrumb("Auth",`Could not remove synced account: ${i}`,"error");let s;throw o instanceof Error?s=o:s=new Error("Could not remove synced account!"),ee.captureError(s,"Auth"),s}}})};d();l();var dae=$u($r,t=>new h1(t)),h1=class{#e;constructor(e){this.#e=e}onAvatarUpdated(e){this.#e.capture("userManageProfileAvatarUpdated",{data:{avatarType:e}})}onAuthFactorsUpdated(e,r){this.#e.capture("userManageProfileAuthFactorsUpdated",{data:{numAuthFactorsSaved:e,numAuthFactorsShown:r}})}onLinkedWalletsUpdated(e,r){this.#e.capture("userManageProfileLinkedWalletsUpdated",{data:{numWalletsSaved:e,numWalletsShown:r}})}onPrivacyStateUpdated(e){this.#e.capture("userManageProfilePrivacyStateUpdated",{data:{privacyState:e}})}onBiographyUpdated(){this.#e.capture("userManageProfileBiographyUpdated")}onPublicAddressesUpdated(e){this.#e.capture("userManageProfilePublicAddressesUpdated",{data:{networkIdsSaved:e}})}};d();l();d();l();var p1=z(Pt());d();l();var ci=()=>{let t=ve(),{data:[e],isLoading:r}=fi(["enable-monad"]);return He({enabled:!r,queryKey:Bx.chainAvailability({isMonadEnabled:e}),queryFn:()=>R3(t,e)})};d();l();var L8=()=>{let t=Ae(),e=ve();return Se({mutationFn:async({addressTypes:n})=>{for(let o of n)await tO(o,e);Bs(t)}})};d();l();var lae=()=>{let t=ve(),e=Ae();return Se({mutationFn:async({chainIDs:n})=>{for(let o of n)await JD(o,t);Bs(e)}})};d();l();d();l();d();l();var il=z(Pt()),EN=(0,il.createContext)(null);function hae({children:t,vault:e}){return il.default.createElement(EN.Provider,{value:e},t)}function St(){let t=(0,il.useContext)(EN);if(!t)throw new Error("useVaultProxy must be used within a VaultProxyProvider");return t}var M8=()=>{let t=Ae(),e=ve(),r=St();return Se({mutationFn:async({addressTypes:o})=>{for(let i of o)await eO(i,e);await r.deriveAddresses(),await Bs(t)}})};d();l();var pae=()=>{let t=ve(),e=Ae(),r=St();return Se({mutationFn:async({chainIDs:o})=>{for(let i of o)await N3(i,t);await r.deriveAddresses(),await Bs(e)}})};d();l();var yae=()=>{let t=ve(),{mutateAsync:e}=L8(),{mutateAsync:r}=M8();return Se({mutationFn:async({addressTypes:o})=>{if(await XD(t))await r({addressTypes:o});else{let s=new Set(V.bitcoin.addressTypes);for(let a of o)s.delete(a);if(s.size===V.bitcoin.addressTypes.length&&s.delete("bip122_p2wpkh"),s.size>0){let a=Array.from(s);await e({addressTypes:a})}}}})};var F8=V.getAllChainIDs().filter(t=>V.isChainDefaultEnabled(t,!1)),IN=F8.map(t=>V.getMainnetNetworkID(t)),mae=IN.flatMap(t=>V.getAddressTypes(t)),kN=()=>ci().data?.enabledAddressTypes??mae,sl=()=>ci().data?.enabledChainIDs??F8,pFe=()=>ci().data?.supportedChainIDs??F8,yFe=t=>{let e=ci().data;return e?t?e.enabledNetworkIDs:e.enabledMainnetOnlyNetworkIDs:IN},mFe=()=>sl().length===1,gFe=()=>{let t=sl();return(0,p1.useMemo)(()=>V.getChainIDs("eip155").some(e=>t.includes(e)),[t])},bFe=()=>{let t=sl();return(0,p1.useMemo)(()=>t.length===1&&t.includes("solana"),[t])},xFe=t=>{let e=sl();return(0,p1.useMemo)(()=>t.map(r=>e.includes(r)),[e,t])};d();l();d();l();d();l();d();l();d();l();function Qr(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(b.NODE_ENV!=="production"){var o=Eae[t],i=o?typeof o=="function"?o.apply(null,r):o:"unknown error nr: "+t;throw Error("[Immer] "+i)}throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function al(t){return!!t&&!!t[oo]}function Ku(t){return!!t&&(function(e){if(!e||typeof e!="object")return!1;var r=Object.getPrototypeOf(e);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===Iae}(t)||Array.isArray(t)||!!t[NN]||!!t.constructor[NN]||Q8(t)||Y8(t))}function Jh(t,e,r){r===void 0&&(r=!1),ul(t)===0?(r?Object.keys:t6)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,o){return e(o,n,t)})}function ul(t){var e=t[oo];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Q8(t)?2:Y8(t)?3:0}function z8(t,e){return ul(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function gae(t,e){return ul(t)===2?t.get(e):t[e]}function RN(t,e,r){var n=ul(t);n===2?t.set(e,r):n===3?(t.delete(e),t.add(r)):t[e]=r}function bae(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Q8(t){return Sae&&t instanceof Map}function Y8(t){return vae&&t instanceof Set}function Hu(t){return t.o||t.t}function J8(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=kae(t);delete e[oo];for(var r=t6(e),n=0;n<r.length;n++){var o=r[n],i=e[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function X8(t,e){return e===void 0&&(e=!1),Z8(t)||al(t)||!Ku(t)||(ul(t)>1&&(t.set=t.add=t.clear=t.delete=xae),Object.freeze(t),e&&Jh(t,function(r,n){return X8(n,!0)},!0)),t}function xae(){Qr(2)}function Z8(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function ji(t){var e=Tae[t];return e||Qr(18,t),e}function TN(){return b.NODE_ENV==="production"||cl||Qr(0),cl}function H8(t,e){e&&(ji("Patches"),t.u=[],t.s=[],t.v=e)}function y1(t){j8(t),t.p.forEach(wae),t.p=null}function j8(t){t===cl&&(cl=t.l)}function _N(t){return cl={p:[],l:cl,h:t,m:!0,_:0}}function wae(t){var e=t[oo];e.i===0||e.i===1?e.j():e.O=!0}function K8(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.g||ji("ES5").S(e,t,n),n?(r[oo].P&&(y1(e),Qr(4)),Ku(t)&&(t=m1(e,t),e.l||g1(e,t)),e.u&&ji("Patches").M(r[oo].t,t,e.u,e.s)):t=m1(e,r,[]),y1(e),e.u&&e.v(e.u,e.s),t!==UN?t:void 0}function m1(t,e,r){if(Z8(e))return e;var n=e[oo];if(!n)return Jh(e,function(i,s){return PN(t,n,e,i,s,r)},!0),e;if(n.A!==t)return e;if(!n.P)return g1(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=n.i===4||n.i===5?n.o=J8(n.k):n.o;Jh(n.i===3?new Set(o):o,function(i,s){return PN(t,n,o,i,s,r)}),g1(t,o,!1),r&&t.u&&ji("Patches").R(n,r,t.u,t.s)}return n.o}function PN(t,e,r,n,o,i){if(b.NODE_ENV!=="production"&&o===r&&Qr(5),al(o)){var s=m1(t,o,i&&e&&e.i!==3&&!z8(e.D,n)?i.concat(n):void 0);if(RN(r,n,s),!al(s))return;t.m=!1}if(Ku(o)&&!Z8(o)){if(!t.h.F&&t._<1)return;m1(t,o),e&&e.A.l||g1(t,o)}}function g1(t,e,r){r===void 0&&(r=!1),t.h.F&&t.m&&X8(e,r)}function V8(t,e){var r=t[oo];return(r?Hu(r):t)[e]}function BN(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function W8(t){t.P||(t.P=!0,t.l&&W8(t.l))}function q8(t){t.o||(t.o=J8(t.t))}function G8(t,e,r){var n=Q8(e)?ji("MapSet").N(e,r):Y8(e)?ji("MapSet").T(e,r):t.g?function(o,i){var s=Array.isArray(o),a={i:s?1:0,A:i?i.A:TN(),P:!1,I:!1,D:{},l:i,t:o,k:null,o:null,j:null,C:!1},c=a,u=$8;s&&(c=[a],u=Yh);var h=Proxy.revocable(c,u),f=h.revoke,p=h.proxy;return a.k=p,a.j=f,p}(e,r):ji("ES5").J(e,r);return(r?r.A:TN()).p.push(n),n}function Aae(t){return al(t)||Qr(22,t),function e(r){if(!Ku(r))return r;var n,o=r[oo],i=ul(r);if(o){if(!o.P&&(o.i<4||!ji("ES5").K(o)))return o.t;o.I=!0,n=CN(r,i),o.I=!1}else n=CN(r,i);return Jh(n,function(s,a){o&&gae(o.t,s)===a||RN(n,s,e(a))}),i===3?new Set(n):n}(t)}function CN(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return J8(t)}var DN,cl,e6=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Sae=typeof Map<"u",vae=typeof Set<"u",ON=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",UN=e6?Symbol.for("immer-nothing"):((DN={})["immer-nothing"]=!0,DN),NN=e6?Symbol.for("immer-draftable"):"__$immer_draftable",oo=e6?Symbol.for("immer-state"):"__$immer_state";var Eae={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(t){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+t},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(t){return"Cannot apply patch, path doesn't resolve: "+t},16:'Sets cannot have "replace" patches.',17:function(t){return"Unsupported patch operation: "+t},18:function(t){return"The plugin for '"+t+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+t+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(t){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+t+"'"},22:function(t){return"'current' expects a draft, got: "+t},23:function(t){return"'original' expects a draft, got: "+t},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Iae=""+Object.prototype.constructor,t6=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,kae=Object.getOwnPropertyDescriptors||function(t){var e={};return t6(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},Tae={},$8={get:function(t,e){if(e===oo)return t;var r=Hu(t);if(!z8(r,e))return function(o,i,s){var a,c=BN(i,s);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(o.k):void 0}(t,r,e);var n=r[e];return t.I||!Ku(n)?n:n===V8(t.t,e)?(q8(t),t.o[e]=G8(t.A.h,n,t)):n},has:function(t,e){return e in Hu(t)},ownKeys:function(t){return Reflect.ownKeys(Hu(t))},set:function(t,e,r){var n=BN(Hu(t),e);if(n?.set)return n.set.call(t.k,r),!0;if(!t.P){var o=V8(Hu(t),e),i=o?.[oo];if(i&&i.t===r)return t.o[e]=r,t.D[e]=!1,!0;if(bae(r,o)&&(r!==void 0||z8(t.t,e)))return!0;q8(t),W8(t)}return t.o[e]===r&&typeof r!="number"&&(r!==void 0||e in t.o)||(t.o[e]=r,t.D[e]=!0,!0)},deleteProperty:function(t,e){return V8(t.t,e)!==void 0||e in t.t?(t.D[e]=!1,q8(t),W8(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=Hu(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){Qr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Qr(12)}},Yh={};Jh($8,function(t,e){Yh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Yh.deleteProperty=function(t,e){return b.NODE_ENV!=="production"&&isNaN(parseInt(e))&&Qr(13),Yh.set.call(this,t,e,void 0)},Yh.set=function(t,e,r){return b.NODE_ENV!=="production"&&e!=="length"&&isNaN(parseInt(e))&&Qr(14),$8.set.call(this,t[0],e,r,t[0])};var _ae=function(){function t(r){var n=this;this.g=ON,this.F=!0,this.produce=function(o,i,s){if(typeof o=="function"&&typeof i!="function"){var a=i;i=o;var c=n;return function(x){var w=this;x===void 0&&(x=a);for(var S=arguments.length,k=Array(S>1?S-1:0),A=1;A<S;A++)k[A-1]=arguments[A];return c.produce(x,function(T){var C;return(C=i).call.apply(C,[w,T].concat(k))})}}var u;if(typeof i!="function"&&Qr(6),s!==void 0&&typeof s!="function"&&Qr(7),Ku(o)){var h=_N(n),f=G8(n,o,void 0),p=!0;try{u=i(f),p=!1}finally{p?y1(h):j8(h)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(x){return H8(h,s),K8(x,h)},function(x){throw y1(h),x}):(H8(h,s),K8(u,h))}if(!o||typeof o!="object"){if((u=i(o))===void 0&&(u=o),u===UN&&(u=void 0),n.F&&X8(u,!0),s){var m=[],g=[];ji("Patches").M(o,u,m,g),s(m,g)}return u}Qr(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(u){for(var h=arguments.length,f=Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];return n.produceWithPatches(u,function(m){return o.apply(void 0,[m].concat(f))})};var s,a,c=n.produce(o,i,function(u,h){s=u,a=h});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,s,a]}):[c,s,a]},typeof r?.useProxies=="boolean"&&this.setUseProxies(r.useProxies),typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){Ku(r)||Qr(8),al(r)&&(r=Aae(r));var n=_N(this),o=G8(this,r,void 0);return o[oo].C=!0,j8(n),o},e.finishDraft=function(r,n){var o=r&&r[oo];b.NODE_ENV!=="production"&&(o&&o.C||Qr(9),o.I&&Qr(10));var i=o.A;return H8(i,n),K8(void 0,i)},e.setAutoFreeze=function(r){this.F=r},e.setUseProxies=function(r){r&&!ON&&Qr(20),this.g=r},e.applyPatches=function(r,n){var o;for(o=n.length-1;o>=0;o--){var i=n[o];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}o>-1&&(n=n.slice(o+1));var s=ji("Patches").$;return al(r)?s(r,n):this.produce(r,function(a){return s(a,n)})},t}(),io=new _ae,r6=io.produce,TFe=io.produceWithPatches.bind(io),_Fe=io.setAutoFreeze.bind(io),PFe=io.setUseProxies.bind(io),BFe=io.applyPatches.bind(io),CFe=io.createDraft.bind(io),DFe=io.finishDraft.bind(io),OFe=r6;d();l();var LFe=[".phantom-labs.account.accountMetadata","developerMode","networkSetting",".phantom-labs.account.selectedAccount","termsHaveBeenAcknowledgedLastSeenVersion"];var MFe=new Error("Failed to clear selected account index");async function LN(t){try{let e=await t.get(".phantom-labs.account.selectedAccount");return e?.version===2?e.identifier:null}catch{throw Pae}}var Pae=new Error("Failed to get selected account identifier");async function so(t,e){try{let r={version:2,identifier:e};return await t.set(".phantom-labs.account.selectedAccount",r)}catch{throw Bae}}var Bae=new Error("Failed to set selected account identifier");var MN=new Error("Failed to add user account metadata to storage"),b1=new Error("Could not find account metadata in storage");async function FN(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata");if(!n)throw b1;let o=n.accounts[e];o?o.name=r:(o={name:r},n.accounts[e]=o),await t.set(".phantom-labs.account.accountMetadata",n)}async function HN(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata");if(!n)throw b1;let o=n.accounts[e];o?o.icon=r:(o={icon:r,name:Ks.t("onboardingImportAccountsAccountName",{walletIndex:""})},n.accounts[e]=o),await t.set(".phantom-labs.account.accountMetadata",n)}async function KN(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata");if(!n)throw b1;let o=n.accounts[e];o?o.balance=r:(o={balance:r,name:Ks.t("onboardingImportAccountsAccountName",{walletIndex:""})},n.accounts[e]=o),await t.set(".phantom-labs.account.accountMetadata",n)}async function qu(t,e,r){try{let n=await t.get(".phantom-labs.account.accountMetadata");n?n.accounts[e]=r:n={version:1,accounts:{[e]:r}},await t.set(".phantom-labs.account.accountMetadata",n)}catch{throw MN}}async function VN(t,e){try{let r=await t.get(".phantom-labs.account.accountMetadata");r?r.accounts=r6(r.accounts,n=>{for(let[o,i]of Object.entries(e))n[o]||(n[o]={name:""}),n[o].name=i.name,n[o].icon=i.icon??n[o].icon,n[o].balance=i.balance??n[o].balance,n[o].connectedDevices=i.connectedDevices??n[o].connectedDevices}):r={version:1,accounts:{...e}},await t.set(".phantom-labs.account.accountMetadata",r)}catch{throw MN}}async function x1(t,e){let r=await t.get(".phantom-labs.account.accountMetadata");r||(r={version:1,accounts:{}});let n=r.accounts[e];return n||(n={name:Ks.t("onboardingImportAccountsAccountName",{walletIndex:""})}),n}async function w1(t){let e=await t.get(".phantom-labs.account.accountMetadata");return e?e.accounts:{}}async function A1(t,e){let r=await t.get(".phantom-labs.account.accountMetadata");if(!r)throw b1;delete r.accounts[e],await t.set(".phantom-labs.account.accountMetadata",r)}var qN=async(t,e)=>(await x1(t,e))?.balance,zN=async t=>await w1(t);d();l();var un="@phantom/accounts",n6=`${un}:account-identifier`,o6=`${un}:selected-account`,S1=`${un}:all-accounts`,i6=`${un}:all-seeds`,Cae=`${un}:all-secrets`,XFe=`${un}:account-balance`,De={accountBalance(t){return[`${un}:account-balance`,{identifier:t}]},allAccountBalances(){return[`${un}:all-account-balances`]},allAccounts(t){let e=t?{chainAvailability:{enabledChainIDs:t.enabledChainIDs,enabledAddressTypes:t.enabledAddressTypes}}:{};return[S1,{chainAvailabilityQueryObject:e}]},allSeeds(t){return[i6,t]},allSecretIdentifiers(){return[Cae]},developerMode(){return[`${un}:developer-mode`]},accountIdentifier(t){return[n6,{identifier:t}]},selectedAccount(t){let e=t?{chainAvailability:{enabledChainIDs:t.enabledChainIDs,enabledAddressTypes:t.enabledAddressTypes}}:{};return[o6,e]},selectedAccountIdentifier(){return[`${un}:selected-account-identifier`]},selectedNetworkSetting(t){return[`${un}:selected-network-setting`,{isSuiTestnetEnabled:t}]},trustedApps(){return[`${un}:trusted-apps`]},migratedWithInvalidChecksum(){return[`${un}:migrated-with-invalid-checksum`]},syncUserAccounts(){return[`${un}:sync-user-accounts`]},accountsEligibleToClaim(t,e,r){return[`${un}:are-accounts-eligible-to-claim`,{username:t,selectedAccountIdentifier:e,solanaAddresses:r}]},patchProfileAddresses(t){return[`${un}:patch-profile-addresses`,t]}};var Dae=(t,e=!0)=>{let r=ve(),n=e&&!!t,o=De.accountBalance(t||"");return He({queryKey:o,queryFn:async()=>{try{return t&&await qN(r,t)||null}catch(s){throw s instanceof Error&&ee.captureError(s,"account"),s}},enabled:n})},Oae=(t=!0)=>{let e=ve(),r=De.allAccountBalances();return He({queryKey:r,queryFn:async()=>{try{return await zN(e)}catch(o){throw o instanceof Error&&ee.captureError(o,"account"),o}},enabled:t})};d();l();d();l();var fl="Trying to find a selected account, but there no accounts in the vault.",v1="Missing ChainAvailability.",jN=(t,e)=>`No account found! Num accounts: ${t} | Identifier used: ${e}`,fHe=new Error("The current account group has no valid bitcoin address"),dHe=new Error("The current account group has no valid EIP-155 address"),lHe=new Error("The current account group has no valid solana address"),hHe=new Error("The current account group has no valid sui address"),pHe=new Error("The current account group has no valid address or the the chain type was unsupported"),yHe=new Error("[Legacy Mn*monic Fetch] no legacy mn*monic in storage"),mHe=new Error("[Legacy Mn*monic Fetch] internal error fetching legacy mn*monic");d();l();d();l();d();l();var Wi=(s=>(s.Seed="seed",s.PrivateKey="privateKey",s.Ledger="ledger",s.SeedVault="seedVault",s.ReadOnly="readOnly",s.Seedless="seedless",s))(Wi||{}),SHe=v.object({derivationIndex:v.number(),addresses:v.array(v.object({pathType:v.union([B0,C0]),value:v.string()})),publicKeys:v.array(v.object({pathType:P0,value:v.string()}))}),WN=class extends Error{message="No account exists in storage for identifier"},GN=class extends Error{message="No account exists in storage for identifier"},$N=class extends Error{message="Address type not found or incompatible with account"},QN=class extends Error{message="Hardware wallet account does not have known secr*ts"},YN=class extends Error{message="Read only account does not have known secr*ts"},JN=class extends Error{message="Invalid configuration for read only account"},XN=class extends Error{message="Seed already exists in storage"},ZN=class extends Error{message="No seed exists in storage for identifier"},eR=class extends Error{message="The derivation index is missing or invalid"},tR=class extends Error{message="Private key already exists in storage"},rR=class extends Error{message="No private key exists in storage for identifier"};var nR=class extends Error{message;constructor(e,r){super(),this.message=`Account of type ${e} found in Vault, while trying to add ${r} account`}},oR=class extends Error{message="Vault already stores a seedless account"},Nae=v.union([v.literal("unonboarded"),v.literal("unable-to-load-accounts")]),Rae=v.union([v.literal("invalid-identifier"),v.literal("fetch-integrity-storage-error"),v.literal("fetch-entropy-storage-error"),v.literal("fetch-pk-storage-error"),v.literal("invalid-entropy"),v.literal("invalid-entropy-bip-39"),v.literal("invalid-checksum-bits"),v.literal("invalid-entropy-bits"),v.literal("invalid-checksum"),v.literal("invalid-entropy-length-less-than-twelve"),v.literal("invalid-entropy-length-more-than-twenty-four"),v.literal("invalid-entropy-length-wrong-word"),v.literal("invalid-pk-address-type"),v.literal("invalid-pk-identifier"),v.literal("invalid-pk"),v.literal("internal-error")]),Uae=v.literal("safely-onboarded"),vHe=v.union([v.object({status:Nae,isOnboarded:v.literal(!1),reonboardingNeeded:v.literal(!1)}),v.object({status:Rae,isOnboarded:v.literal(!0),reonboardingNeeded:v.literal(!0)}),v.object({status:Uae,isOnboarded:v.literal(!0),reonboardingNeeded:v.literal(!1)})]);var Lae=(t,e,r,n)=>{let o=[];for(let i of e){let s=V.getChainID(i);if(n.includes(s))for(let a of V[s].addressTypes){if(!r.includes(a))continue;let c=t.chains[a];if(c)switch(c.chainType){case"eip155":case"solana":{o.push({networkID:i,addressType:a,address:c.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{o.push({networkID:i,addressType:a,publicKey:c.publicKey,address:c.addresses[i]});break}case"sui":{o.push({networkID:i,addressType:a,publicKey:c.publicKey,address:c.address});break}default:ot(c)}}}return o},Mae=(t,e,r,n)=>{let o=[];for(let i of e){let s=V.getChainID(i);if(n.includes(s))for(let a of V[s].addressTypes){if(!r.includes(a))continue;let c=t.chains[a];if(c)switch(c.chainType){case"eip155":case"solana":{o.push({networkID:i,addressType:a,address:c.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{o.push({networkID:i,addressType:a,publicKey:c.publicKey,address:c.addresses[i]});break}case"sui":{o.push({networkID:i,addressType:a,publicKey:c.publicKey,address:c.address});break}default:ot(c)}}}return o},Fae=(t,e,r,n)=>{let o=[];for(let i of e){let s=V.getChainID(i);if(n.includes(s))for(let a of V[s].addressTypes)r.includes(a)&&t.chainType===a&&o.push({networkID:i,addressType:a,address:t.address})}return o},Hae=(t,e,r,n)=>{let o=[];for(let i of e){let s=V.getChainID(i);if(n.includes(s)){for(let a of V[s].addressTypes)if(r.includes(a)&&t.chainType===a)switch(t.chainType){case"eip155":case"solana":{o.push({networkID:i,addressType:a,address:t.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{o.push({networkID:i,addressType:a,publicKey:t.publicKey,address:t.addresses[i]});break}case"sui":{o.push({networkID:i,addressType:a,publicKey:t.publicKey,address:t.address});break}default:ot(t)}}}return o},Kae=(t,e,r,n)=>{let o=[];for(let i of e){let s=V.getChainID(i);if(n.includes(s)){for(let a of V[s].addressTypes)if(r.includes(a))for(let[c,u]of Object.entries(t.addresses))c===a&&o.push({networkID:i,addressType:a,address:u})}}return o},E1=(t,e,r,n,o,i)=>{let s;switch(i?s=Object.values(o.setting):s=e,s=s.sort((a,c)=>V.compareNetworkID(a,c)),t.type){case"seedless":case"seed":return Lae(t,s,r,n);case"ledger":return Mae(t,s,r,n);case"seedVault":return Fae(t,s,r,n);case"privateKey":return Hae(t,s,r,n);case"readOnly":return Kae(t,s,r,n)}};d();l();var dl=async t=>{let e=await t.get("networkSetting"),r=await Kn.isFeatureEnabledAsync("enable-sui-testnet");if(!e)return Lh(r);let n=Vae(e,r);return qae(t,n)};function Vae(t,e){let r={...t,setting:{...t.setting}};return e&&!r.setting.sui?r.setting.sui=Lh(e).setting.sui:!e&&r.setting.sui&&delete r.setting.sui,r}var qae=async(t,e)=>{let r=!1;zae(e)&&(r=!0);let n=e.setting.solana;n&&V.isMainnetNetworkID(n)&&(e.setting.solana=H3,r=!0);let o=e.setting.eip155;return o&&V.isMainnetNetworkID(o)&&(e.setting.eip155=K3,r=!0),r&&await t.set("networkSetting",e),e},zae=t=>{let e=!1,r=t.setting.eip155;return r&&(r.toString()==="eip155:5"&&(t.setting.eip155=nt.Ethereum.Sepolia,e=!0),r.toString()==="eip155:80001"&&(t.setting.eip155=nt.Polygon.Amoy,e=!0)),e};var s6=async(t,e,r)=>{let n=await t.fetchAllAccounts();if(n.length===0)return[];let o=e.get("developerMode"),i=dl(e),s=w1(e),[a,c,u]=await Promise.all([o,i,s]);return n.map(h=>{let f=u[h.identifier];f||(f={name:Ks.t("onboardingImportAccountsAccountName",{walletIndex:""})});let p={name:f.name,icon:f.icon,identifier:h.identifier,addresses:E1(h,r.enabledMainnetOnlyNetworkIDs,r.enabledAddressTypes,r.enabledChainIDs,c,a?.isDeveloperMode??!1)};return h.type==="seed"?{...p,type:"seed",seedIdentifier:h.seedIdentifier,isReadOnly:!1}:h.type==="seedless"?{...p,type:"seedless",seedIdentifier:h.seedIdentifier,isReadOnly:!1}:h.type==="readOnly"?{...p,type:"readOnly",isReadOnly:!0}:h.type==="privateKey"?{...p,privateKeyIdentifier:h.privateKeyIdentifier,type:"privateKey",isReadOnly:!1}:{...p,type:h.type,isReadOnly:!1}})};function zu(t){let{isSuccess:e,data:r}=ci(),n=St(),o=De.allAccounts(r),i=ve();return He({enabled:e,queryKey:o,queryFn:async()=>{if(!r)throw new Error(v1);let a=await s6(n,i,r);return ee.addBreadcrumb("account",`Finished fetching all accounts. Num accounts: ${a.length}`,"info"),a},select:t})}var I1=()=>{let{isSuccess:t,isFetching:e,data:r=[]}=zu(),n=t&&!e&&!!r.length;return n?{enabled:n,accounts:r}:{enabled:n}};d();l();var pt=async t=>{await t.invalidateQueries({queryKey:[i6]}),await t.invalidateQueries({queryKey:[S1],predicate:e=>e.queryKey[0]===S1}),await t.invalidateQueries({queryKey:[n6]}),await k1(t)},k1=async t=>{await t.invalidateQueries({predicate:e=>typeof e.queryKey[0]=="string"&&e.queryKey[0]===o6}),await t.invalidateQueries({queryKey:De.selectedAccountIdentifier()})};U3(pt);d();l();d();l();function T1(){let t=ve(),e=Ae();return Se({mutationFn:async({metadataBatch:i})=>{ee.addBreadcrumb("account",`Adding Account Metadata Batch: ${Object.entries(i).length} entries`,"info"),await VN(t,i)},onSuccess:async()=>{await pt(e)},onError:i=>{ee.captureError(i,"account")}})}function jae(){let{mutateAsync:t}=T1(),e=ve(),r=Ae(),n=St(),{t:o}=Yi();return Se({mutationFn:async({accounts:c,pairedBLEDevice:u})=>{let h=N6(),f=await n.connectLedgerAccounts(h,c),p=f.reduce((g,x,w)=>{let{name:S,accountIndex:k}=c[w],A;!S||S.length===0?A=o("onboardingImportAccountsLedgerAccountName",{walletIndex:1+k}):A=S;let T;u&&(T=[{...u,version:1,connectionType:"ble",deviceType:"ledger"}]);let C={name:A,icon:void 0,connectedDevices:T};return g[x.identifier]=C,g},{});await t({metadataBatch:p});let m=f[0]?.identifier;return m||(m=(await n.fetchAllAccounts())[0].identifier),await so(e,m),r.setQueryData(De.selectedAccountIdentifier(),m),f},onSettled:async()=>{await pt(r)},onError:c=>ee.captureError(c,"account")})}d();l();var sR=z(Pt());d();l();var iR=()=>$u($r,t=>new a6(t))(),a6=class{#e;constructor(e){this.#e=e}identifyAccount=async(e,r,n)=>{let o=!!r.addresses.find(p=>V.isSolanaNetworkID(p.networkID)),i=!!r.addresses.find(p=>V.isEthereumNetworkID(p.networkID)),s=!!r.addresses.find(p=>V.isBitcoinNetworkID(p.networkID)),a=!!r.addresses.find(p=>V.isSuiNetworkID(p.networkID)),c={hasSolanaAddress:o,hasEthereumAddress:i,hasBitcoinAddress:s,hasSuiAddress:a},u=n.enabledChainIDs.map(p=>V[p].name).join(", "),h=new Set,f=new Set;for(let p of e)switch(p.type){case"seed":case"seedless":h.add(p.seedIdentifier);break;case"readOnly":break;case"privateKey":case"ledger":case"seedVault":f.add(p.identifier);break;default:ot(p);break}switch(r.type){case"seed":case"seedless":this.#e.identify(r.identifier,{...c,accountType:r.type,rootID:r.seedIdentifier,rootIds:Array.from(h),accountIds:Array.from(f),isReadOnly:!1,enabledChains:u});break;case"readOnly":this.#e.identify(r.identifier,{...c,accountType:r.type,isReadOnly:!0,enabledChains:u});break;case"privateKey":case"ledger":case"seedVault":this.#e.identify(r.identifier,{...c,accountType:r.type,rootIds:Array.from(h),accountIds:Array.from(f),isReadOnly:!1,enabledChains:u});break;default:ot(r)}};onAppSessionStart=e=>{let r=new Map;for(let n of e){if(n.type==="readOnly")continue;let{addresses:o,identifier:i}=n;for(let s of o){let a=V.getChainName(s.networkID),c={type:n.type,accountId:i,id:s.address};if(!r.get(a))r.set(a,[c]);else{let u=r.get(a)??[];r.set(a,[...u,c])}}}this.#e.capture("appSessionStart",{data:{ids:Object.fromEntries(r)}})}};d();l();var kc=async(t,e)=>{if(t.length===0)throw new Error(fl);let r=await LN(e),n=t.find(o=>o.identifier===r);return n||(await so(e,t[0].identifier),t[0])};var Wae=t=>{if(t){switch(t.type){case"seed":case"seedless":return t.seedIdentifier;case"privateKey":case"ledger":case"seedVault":case"readOnly":return}ot(t)}};function Uo({select:t,updateESPUserProperties:e}={}){let r=(0,sR.useMemo)(()=>Kn.isFeatureEnabled("frontend-enable-esp-user-properties-update"),[]),{isSuccess:n,data:o}=ci(),i=I1(),s=i.enabled&&n,a=sp(),c=ve(),u=iR(),h=De.selectedAccount(o);return He({queryKey:h,queryFn:async()=>{try{if(!o)throw new Error(v1);if(!i.enabled)throw new Error(fl);let p=await kc(i.accounts,c);if(ee.addBreadcrumb("account",`Finished fetching selected account: ${p.identifier}`,"info"),r&&e){let m=p.addresses.map(g=>g.address)??[];Promise.all(m.map(g=>e(g,Ks.language)))}return Kn.setSubjectAttributes({rootID:Wae(p)}),a(),u.identifyAccount(i.accounts,p,o),p}catch(p){throw p instanceof Error&&ee.captureError(p,"account"),p}},enabled:s,select:t})}d();l();function Gae(){let t=ve(),e=Ae();return Se({mutationFn:async({identifier:o,balance:i})=>(await KN(t,o,i),{identifier:o,balance:i}),onSuccess:({identifier:o,balance:i})=>{o&&e.invalidateQueries({queryKey:De.accountBalance(o)}),i&&e.invalidateQueries({queryKey:De.allAccountBalances()})}})}d();l();var aR=z(Pt());var Xh=()=>{let{data:t}=Uo();return(0,aR.useMemo)(()=>{let e=t?.addresses??[];return[...new Set(e.map(r=>r.networkID))]},[t])};d();l();d();l();function c6(){let t=ve();return He(cR(t))}function cR(t){return{queryKey:De.developerMode(),queryFn:async()=>await t.get("developerMode")||oO}}var $ae=()=>{let{data:t}=c6();return!!t?.isDeveloperMode},Qae=()=>Xh().some(e=>V.isLocalNetworkID(e));d();l();var uR=z(Pt());var Yae=t=>{let e=(0,uR.useMemo)(()=>{if(t){if(Jae(t))return n=>n.address===t.address&&n.networkID===t.networkID;if(V.isNetworkID(t))return n=>n.networkID===t;if(Sv(t))return n=>n.addressType===t;throw new Error(`Unrecognized filter type: ${t}`)}else return()=>!1},[t]);return Uo({select:n=>{let o=n.addresses.filter(e);if(o.length>1)throw new Error(`Multiple addresses match filter: ${t}`);return o[0]}})};function Jae(t){return typeof t=="object"&&"address"in t&&(typeof t.address=="string"||t.address===void 0)&&"networkID"in t}d();l();var fR=z(Pt()),Xae=({accountBalance:t,accountId:e,enabled:r,value:n,setAccountBalance:o})=>{(0,fR.useEffect)(()=>{if(r&&e&&n!==void 0&&n!==t){let i=Date.now();o({identifier:e,balance:{timestamp:i,value:n}})}},[t,e,r,n,o])};d();l();d();l();var kn=z(Pt());function Zae(t){let e,r=new Set,n=(u,h)=>{let f=typeof u=="function"?u(e):u;if(f!==e){let p=e;e=h?f:Object.assign({},e,f),r.forEach(m=>m(e,p))}},o=()=>e,i=(u,h=o,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=h(e);function m(){let g=h(e);if(!f(p,g)){let x=p;u(p=g,x)}}return r.add(m),()=>r.delete(m)},c={setState:n,getState:o,subscribe:(u,h,f)=>h||f?i(u,h,f):(r.add(u),()=>r.delete(u)),destroy:()=>r.clear()};return e=t(n,o,c),c}var ece=typeof self>"u"||!self.navigator||/ServerSideRendering|^Deno\//.test(self.navigator.userAgent),dR=ece?kn.useEffect:kn.useLayoutEffect;function _1(t){let e=typeof t=="function"?Zae(t):t,r=(n=e.getState,o=Object.is)=>{let[,i]=(0,kn.useReducer)(w=>w+1,0),s=e.getState(),a=(0,kn.useRef)(s),c=(0,kn.useRef)(n),u=(0,kn.useRef)(o),h=(0,kn.useRef)(!1),f=(0,kn.useRef)();f.current===void 0&&(f.current=n(s));let p,m=!1;(a.current!==s||c.current!==n||u.current!==o||h.current)&&(p=n(s),m=!o(f.current,p)),dR(()=>{m&&(f.current=p),a.current=s,c.current=n,u.current=o,h.current=!1});let g=(0,kn.useRef)(s);dR(()=>{let w=()=>{try{let k=e.getState(),A=c.current(k);u.current(f.current,A)||(a.current=k,f.current=A,i())}catch{h.current=!0,i()}},S=e.subscribe(w);return e.getState()!==g.current&&w(),S},[]);let x=m?p:f.current;return(0,kn.useDebugValue)(x),x};return Object.assign(r,e),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let n=[r,e];return{next(){let o=n.length<=0;return{value:n.shift(),done:o}}}},r}var lR={username:"",available:null,icon:null,secretIdentifiers:[],accountIdentifiersToSync:[],addresses:{}},hR=_1((t,e)=>({...lR,setUsername:r=>t({username:r}),setAvailable:r=>t({available:r}),setIcon:r=>t({icon:r}),addSecretIdentifier:r=>{let n=[...e().secretIdentifiers];n.includes(r)||n.push(r),t({secretIdentifiers:n})},removeSecretIdentifier:r=>{t({secretIdentifiers:e().secretIdentifiers.filter(n=>n!==r)})},addAccountIdentifierToSync:r=>{let n=[...e().accountIdentifiersToSync];n.includes(r)||n.push(r),t({accountIdentifiersToSync:n})},removeAccountIdentifierToSync:r=>{t({accountIdentifiersToSync:e().accountIdentifiersToSync.filter(n=>n!==r)})},clearAccountIdentifiersToSync:()=>t({accountIdentifiersToSync:[]}),setAccountIdentifiersToSync:r=>t({accountIdentifiersToSync:r}),addAddress:(r,n)=>{let o={...e().addresses};o[r]=n,t({addresses:o})},removeAddress:(r,n)=>{let o={...e().addresses};o[r]===n&&delete o[r],t({addresses:o})},clearAddresses:()=>{t({addresses:{}})},reset:()=>{t(lR)}}));d();l();d();l();var tce={editableAccountMetadata:void 0,setEditableAccountMetadata:()=>{}},P1=_1(t=>({...tce,setEditableAccountMetadata:e=>{t({editableAccountMetadata:e})}}));d();l();d();l();function rce(t){let e=I1(),r=e.enabled&&t.length>0,n=De.accountIdentifier(t);return He({enabled:r,queryKey:n,queryFn:async()=>{try{if(ee.addBreadcrumb("account",`Fetching Account: ${t}`,"info"),!e.enabled)throw new Error(fl);let{accounts:i}=e,s=i.find(a=>a.identifier===t);if(!s)throw new Error(jN(i.length,t));return s}catch(i){throw i instanceof Error&&ee.captureError(i,"account"),i}}})}d();l();d();l();function nce(){let t=ve(),e=Ae(),r=St();return Se({mutationFn:async({name:a,addresses:c,icon:u})=>{let h=await r.addReadonlyAccount(c),f={name:a,icon:u};return await qu(t,h.identifier,f),await so(t,h.identifier),h},onSettled:async()=>{await pt(e)},onSuccess:a=>{e.setQueryData(De.selectedAccountIdentifier(),a.identifier)},onError:a=>ee.captureError(a,"account")})}d();l();function oce(){let{t}=Yi(),e=ve(),r=Ae(),n=ut(),{fetchAllAccounts:o,addAccountForSeed:i,addAccountForSeedless:s,fetchAllSeedlessMetas:a}=St();return Se({mutationFn:async({name:p,icon:m,seedIdentifier:g})=>{ee.addBreadcrumb("account",`Adding new account for s**d: ${g}`,"info");let w=(await a()).find(k=>k.identifier===g),S=w?await s(g):await i(g);return await qu(e,S.identifier,{name:p||t("onboardingImportAccountsAccountName",{walletIndex:(await o()).length}),icon:m}),await so(e,S.identifier),w&&n.uploadSyncedAccount(S.identifier),S},onSettled:async()=>{await pt(r)},onSuccess:p=>{r.setQueryData(De.selectedAccountIdentifier(),p.identifier)},onError:p=>ee.captureError(p,"account")})}d();l();d();l();var ice=async t=>[...(await t.fetchAllAccounts()).reduce((o,i)=>{switch(i.type){case"seed":case"seedless":{o.add(i.seedIdentifier);break}case"privateKey":{o.add(i.privateKeyIdentifier);break}case"ledger":case"seedVault":case"readOnly":break;default:ot(i);break}return o},new Set)];d();l();function Zh(t){let e=St(),r=De.allSeeds(t);return He({queryKey:r,queryFn:async()=>{try{let o;switch(t){case"all":{let i=await e.fetchAllSeedMetas();o=[...await e.fetchAllSeedlessMetas(),...i];break}case"local-only":{o=[...await e.fetchAllSeedMetas()];break}case"recoverable-only":{o=[...await e.fetchAllSeedlessMetas()];break}}return o}catch(o){throw o instanceof Error&&ee.captureError(o,"account"),o}}})}d();l();d();l();function sce(){let t=ve(),e=Ae(),r=St();return Se({mutationFn:async({chainType:s,privateKey:a,name:c,icon:u})=>{ee.addBreadcrumb("account","Importing Private Key Account... \u23F3","info");let h=await r.importPrivateKeyAccount(s,a),f={name:c,icon:u};return await qu(t,h.identifier,f),await so(t,h.identifier),ee.addBreadcrumb("account",`Imported Private Key Account \u2705: ${h.identifier}`,"info"),h},onSettled:async()=>{await pt(e)},onSuccess:s=>{e.setQueryData(De.selectedAccountIdentifier(),s.identifier)}})}d();l();d();l();function ace(){let{data:[t]}=fi(["enable-sui-testnet"]),e=De.selectedNetworkSetting(t),r=ve();return He({queryKey:e,queryFn:()=>dl(r)})}d();l();function cce(){let t=ve(),e=$r(),r=St(),n=Ae(),o=ut();return Se({mutationFn:async({identifier:a})=>{ee.addBreadcrumb("account",`Removing Account... \u23F3: ${a}`,"info"),await Promise.all([r.removeAccount(a),A1(t,a)]),await kc(await r.fetchAllAccounts(),t),e.capture("removeAccount"),o.deleteSyncedAccount(a),ee.addBreadcrumb("account",`Removed Account \u2705: ${a}`,"info")},onSuccess:async()=>{await pt(n)}})}d();l();function uce(){let t=ve(),e=$r(),r=Ae(),n=St();return Se({mutationFn:async({seedIdentifier:a})=>{let c=await n.fetchAllAccounts(),u=[];for(let h of c)switch(h.type){case"privateKey":case"ledger":case"seedVault":case"readOnly":continue;case"seed":case"seedless":h.seedIdentifier===a&&u.push(h.identifier);break;default:ot(h)}for(let h of u)await Promise.all([n.removeAccount(h),A1(t,h)]);e.capture("removeSeed",{data:{numOfAccounts:u.length}})},onSuccess:()=>{pt(r)},onError:a=>{ee.captureError(a,"account")}})}d();l();function fce(){let t=ve(),e=Ae(),r=ut();return Se({mutationFn:async({identifier:s,name:a})=>{ee.addBreadcrumb("account","Renaming Multichain Account","info"),await FN(t,s,a),r.uploadSyncedAccounts()},onSuccess:async()=>{await pt(e)},onError:s=>ee.captureError(s,"account")})}d();l();function dce(){let t=Ae(),e=St();return Se({mutationFn:async({identifier:o,toIndex:i})=>{await e.reorderAccount(o,i)},onSuccess:()=>{pt(t)}})}d();l();function lce(){let t=De.selectedAccountIdentifier(),e=ve(),r=St();return He({queryKey:t,queryFn:async()=>{try{let o=await r.fetchAllAccounts(),s=(await kc(o,e)).identifier;if(!s)throw new Error("Unable to resolve selected account identifier => no available accounts or identifier!");return s}catch(o){throw o instanceof Error&&ee.captureError(o,"account"),o}}})}d();l();function hce(){let t=ve(),e=Ae();return Se({mutationFn:async({developerMode:o})=>{e.setQueryData(De.developerMode(),o),await t.set("developerMode",o)},onSuccess:()=>{pt(e)}})}d();l();function pce(){let t=ve(),e=Ae(),r=ut();return Se({mutationFn:async({identifier:i,icon:s})=>{ee.addBreadcrumb("account","Setting Multichain Account Icon","info"),await HN(t,i,s),r.uploadSyncedAccounts()},onSuccess:async()=>{await pt(e)}})}d();l();function yce(){let t=ve(),e=Ae(),{data:[r]}=fi(["enable-sui-testnet"]);return Se({mutationFn:async({networkSetting:i})=>{e.setQueryData(De.selectedNetworkSetting(r),i),await t.set("networkSetting",i)},onSuccess:()=>{pt(e)}})}d();l();function mce(){let t=ve(),e=$r(),r=Ae();return Se({mutationFn:async({identifier:s})=>(await so(t,s),e.capture("changeAccount",{data:{identifier:s}}),s),onSuccess:s=>{k1(r),r.setQueryData(De.selectedAccountIdentifier(),s)},onError:s=>ee.captureError(s,"account")})}d();l();var gce=()=>{let t=Ae(),e=ut(),r=Ns(),n=De.syncUserAccounts();return He({enabled:r,queryKey:n,queryFn:async()=>{let i=!1;try{i=await e.downloadSyncedAccounts()}catch{return!1}return i&&await pt(t),i},gcTime:1/0,staleTime:1/0})};d();l();var pR=z(Pt());var bce=()=>{let{data:t,isFetching:e}=zu(),{data:r,isFetching:n}=Uo(),o=Xh();return(0,pR.useMemo)(()=>({data:{"All Accounts":t,"Selected Account":r??null,"Selected Networks":o.map(i=>V.getNetworkName(i))},isFetching:e||n}),[t,e,n,r,o])};d();l();var yR=z(Pt()),xce=(t=[])=>{let e=sl();return(0,yR.useMemo)(()=>t.filter(r=>{let n=V.getParentChain(r.networkID);return n?e.includes(n):!1}),[t,e])};d();l();var HR=z(uU()),M1=z(Pt());d();l();var Ut=z(Pt(),1),np=t=>t.type==="checkbox",hl=t=>t instanceof Date,Fn=t=>t==null,kR=t=>typeof t=="object",Nr=t=>!Fn(t)&&!Array.isArray(t)&&kR(t)&&!hl(t),TR=t=>Nr(t)&&t.target?np(t.target)?t.target.checked:t.target.value:t,wce=t=>t.substring(0,t.search(/.\d/))||t,_R=(t,e)=>[...t].some(r=>wce(e)===r),R1=t=>t.filter(Boolean),sr=t=>t===void 0,pe=(t,e,r)=>{if(!e||!Nr(t))return r;let n=R1(e.split(/[,[\].]+?/)).reduce((o,i)=>Fn(o)?o:o[i],t);return sr(n)||n===t?sr(t[e])?r:t[e]:n},l6={BLUR:"blur",CHANGE:"change"},ui={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Us={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},y6=(t,e)=>{let r=Object.assign({},t);return delete r[e],r},Ace=Ut.default.createContext(null),m6=()=>Ut.default.useContext(Ace);var PR=(t,e,r,n=!0)=>{function o(s){return()=>{if(s in t)return e[s]!==ui.all&&(e[s]=!n||ui.all),r&&(r[s]=!0),t[s]}}let i={};for(let s in t)Object.defineProperty(i,s,{get:o(s)});return i},ao=t=>Nr(t)&&!Object.keys(t).length,BR=(t,e,r)=>{let n=y6(t,"name");return ao(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(o=>e[o]===(!r||ui.all))},B1=t=>Array.isArray(t)?t:[t],CR=(t,e,r)=>r&&e?t===e:!t||!e||t===e||B1(t).some(n=>n&&(n.startsWith(e)||e.startsWith(n)));function g6(t){let e=Ut.default.useRef(t);e.current=t,Ut.default.useEffect(()=>{let r=o=>{o&&o.unsubscribe()},n=!t.disabled&&e.current.subject.subscribe({next:e.current.callback});return()=>r(n)},[t.disabled])}function Sce(t){let e=m6(),{control:r=e.control,disabled:n,name:o,exact:i}=t||{},[s,a]=Ut.default.useState(r._formState),c=Ut.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Ut.default.useRef(o),h=Ut.default.useRef(!0);u.current=o;let f=Ut.default.useCallback(p=>h.current&&CR(u.current,p.name,i)&&BR(p,c.current)&&a(Object.assign(Object.assign({},r._formState),p)),[r,i]);return g6({disabled:n,callback:f,subject:r._subjects.state}),Ut.default.useEffect(()=>()=>{h.current=!1},[]),PR(s,r._proxyFormState,c.current,!1)}var Gi=t=>typeof t=="string",DR=(t,e,r,n)=>{let o=Array.isArray(t);return Gi(t)?(n&&e.watch.add(t),pe(r,t)):o?t.map(i=>(n&&e.watch.add(i),pe(r,i))):(n&&(e.watchAll=!0),r)},U1=t=>typeof t=="function",b6=t=>{for(let e in t)if(U1(t[e]))return!0;return!1};function vce(t){let e=m6(),{control:r=e.control,name:n,defaultValue:o,disabled:i,exact:s}=t||{},a=Ut.default.useRef(n);a.current=n;let c=Ut.default.useCallback(f=>{if(CR(a.current,f.name,s)){let p=DR(a.current,r._names,f.values||r._formValues);h(sr(a.current)||Nr(p)&&!b6(p)?Object.assign({},p):Array.isArray(p)?[...p]:sr(p)?o:p)}},[r,s,o]);g6({disabled:i,subject:r._subjects.watch,callback:c});let[u,h]=Ut.default.useState(sr(o)?r._getWatch(n):o);return Ut.default.useEffect(()=>{r._removeUnmounted()}),u}function Ece(t){let e=m6(),{name:r,control:n=e.control,shouldUnregister:o}=t,i=_R(n._names.array,r),s=vce({control:n,name:r,defaultValue:pe(n._formValues,r,pe(n._defaultValues,r,t.defaultValue)),exact:!i}),a=Sce({control:n,name:r}),c=Ut.default.useRef(n.register(r,Object.assign(Object.assign({},t.rules),{value:s})));return Ut.default.useEffect(()=>{let u=(h,f)=>{let p=pe(n._fields,h);p&&(p._f.mount=f)};return u(r,!0),()=>{let h=n._options.shouldUnregister||o;i?h&&n._stateFlags.action:h?n.unregister(r):u(r,!1)}},[r,n,i,o]),{field:{name:r,value:s,onChange:Ut.default.useCallback(u=>{c.current.onChange({target:{value:TR(u),name:r},type:l6.CHANGE})},[r]),onBlur:Ut.default.useCallback(()=>{c.current.onBlur({target:{value:pe(n._formValues,r),name:r},type:l6.BLUR})},[r,n]),ref:Ut.default.useCallback(u=>{let h=pe(n._fields,r);u&&h&&u.focus&&(h._f.ref={focus:()=>u.focus(),setCustomValidity:f=>u.setCustomValidity(f),reportValidity:()=>u.reportValidity()})},[r,n])},formState:a,fieldState:{invalid:!!pe(a.errors,r),isDirty:!!pe(a.dirtyFields,r),isTouched:!!pe(a.touchedFields,r),error:pe(a.errors,r)}}}var OR=t=>t.render(Ece(t)),Ice=(t,e,r,n,o)=>e?Object.assign(Object.assign({},r[t]),{types:Object.assign(Object.assign({},r[t]&&r[t].types?r[t].types:{}),{[n]:o||!0})}):{},x6=t=>/^\w*$/.test(t),NR=t=>R1(t.replace(/["|']|\]/g,"").split(/\.|\[/));function pr(t,e,r){let n=-1,o=x6(e)?[e]:NR(e),i=o.length,s=i-1;for(;++n<i;){let a=o[n],c=r;if(n!==s){let u=t[a];c=Nr(u)||Array.isArray(u)?u:isNaN(+o[n+1])?{}:[]}t[a]=c,t=t[a]}return t}var h6=(t,e,r)=>{for(let n of r||Object.keys(t)){let o=pe(t,n);if(o){let i=o._f,s=y6(o,"_f");if(i&&e(i.name)){if(i.ref.focus&&sr(i.ref.focus()))break;if(i.refs){i.refs[0].focus();break}}else Nr(s)&&h6(s,e)}}};var mR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));function tp(t){let e,r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(r||Nr(t)){e=r?[]:{};for(let n in t){if(U1(t[n])){e=t;break}e[n]=tp(t[n])}}else return t;return e}function u6(){let t=[];return{get observers(){return t},next:o=>{for(let i of t)i.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(i=>i!==o)}}),unsubscribe:()=>{t=[]}}}var D1=t=>Fn(t)||!kR(t);function pl(t,e){if(D1(t)||D1(e))return t===e;if(hl(t)&&hl(e))return t.getTime()===e.getTime();let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let o of r){let i=t[o];if(!n.includes(o))return!1;if(o!=="ref"){let s=e[o];if(hl(i)&&hl(s)||Nr(i)&&Nr(s)||Array.isArray(i)&&Array.isArray(s)?!pl(i,s):i!==s)return!1}}return!0}var gR=t=>({isOnSubmit:!t||t===ui.onSubmit,isOnBlur:t===ui.onBlur,isOnChange:t===ui.onChange,isOnAll:t===ui.all,isOnTouch:t===ui.onTouched}),rp=t=>typeof t=="boolean",w6=t=>t.type==="file",p6=t=>t instanceof HTMLElement,RR=t=>t.type==="select-multiple",A6=t=>t.type==="radio",kce=t=>A6(t)||np(t),bR=typeof self<"u"&&typeof self.HTMLElement<"u"&&typeof document<"u",f6=t=>p6(t)&&t.isConnected;function Tce(t,e){let r=e.slice(0,-1).length,n=0;for(;n<r;)t=sr(t)?n++:t[e[n++]];return t}function Tn(t,e){let r=x6(e)?[e]:NR(e),n=r.length==1?t:Tce(t,r),o=r[r.length-1],i;n&&delete n[o];for(let s=0;s<r.slice(0,-1).length;s++){let a=-1,c,u=r.slice(0,-(s+1)),h=u.length-1;for(s>0&&(i=t);++a<u.length;){let f=u[a];c=c?c[f]:t[f],h===a&&(Nr(c)&&ao(c)||Array.isArray(c)&&!c.filter(p=>Nr(p)&&!ao(p)||rp(p)).length)&&(i?delete i[f]:delete t[f]),i=c}}return t}function O1(t,e={}){let r=Array.isArray(t);if(Nr(t)||r)for(let n in t)Array.isArray(t[n])||Nr(t[n])&&!b6(t[n])?(e[n]=Array.isArray(t[n])?[]:{},O1(t[n],e[n])):Fn(t[n])||(e[n]=!0);return e}function UR(t,e,r){let n=Array.isArray(t);if(Nr(t)||n)for(let o in t)Array.isArray(t[o])||Nr(t[o])&&!b6(t[o])?sr(e)||D1(r[o])?r[o]=Array.isArray(t[o])?O1(t[o],[]):Object.assign({},O1(t[o])):UR(t[o],Fn(e)?{}:e[o],r[o]):r[o]=!pl(t[o],e[o]);return r}var xR=(t,e)=>UR(t,e,O1(e)),wR={value:!1,isValid:!1},AR={value:!0,isValid:!0},LR=t=>{if(Array.isArray(t)){if(t.length>1){let e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!sr(t[0].attributes.value)?sr(t[0].value)||t[0].value===""?AR:{value:t[0].value,isValid:!0}:AR:wR}return wR},MR=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>sr(t)?t:e?t===""?NaN:+t:r&&Gi(t)?new Date(t):n?n(t):t,SR={isValid:!1,value:null},FR=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,SR):SR;function d6(t){let e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return w6(e)?e.files:A6(e)?FR(t.refs).value:RR(e)?[...e.selectedOptions].map(({value:r})=>r):np(e)?LR(t.refs).value:MR(sr(e.value)?t.ref.value:e.value,t)}var _ce=(t,e,r,n)=>{let o={};for(let i of t){let s=pe(e,i);s&&pr(o,i,s._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:n}},N1=t=>t instanceof RegExp,ep=t=>sr(t)?void 0:N1(t)?t.source:Nr(t)?N1(t.value)?t.value.source:t.value:t,Pce=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function vR(t,e,r){let n=pe(t,r);if(n||x6(r))return{error:n,name:r};let o=r.split(".");for(;o.length;){let i=o.join("."),s=pe(e,i),a=pe(t,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};o.pop()}return{name:r}}var Bce=(t,e,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||t):(r?n.isOnBlur:o.isOnBlur)?!t:(r?n.isOnChange:o.isOnChange)?t:!0,Cce=(t,e)=>!R1(pe(t,e)).length&&Tn(t,e),C1=t=>Gi(t)||Ut.default.isValidElement(t);function ER(t,e,r="validate"){if(C1(t)||Array.isArray(t)&&t.every(C1)||rp(t)&&!t)return{type:r,message:C1(t)?t:"",ref:e}}var ll=t=>Nr(t)&&!N1(t)?t:{value:t,message:""},IR=async(t,e,r,n)=>{let{ref:o,refs:i,required:s,maxLength:a,minLength:c,min:u,max:h,pattern:f,validate:p,name:m,valueAsNumber:g,mount:x,disabled:w}=t._f;if(!x||w)return{};let S=i?i[0]:o,k=re=>{n&&S.reportValidity&&(S.setCustomValidity(rp(re)?"":re||" "),S.reportValidity())},A={},T=A6(o),C=np(o),W=T||C,oe=(g||w6(o))&&!o.value||e===""||Array.isArray(e)&&!e.length,Y=Ice.bind(null,m,r,A),G=(re,Z,D,O=Us.maxLength,R=Us.minLength)=>{let Q=re?Z:D;A[m]=Object.assign({type:re?O:R,message:Q,ref:o},Y(re?O:R,Q))};if(s&&(!W&&(oe||Fn(e))||rp(e)&&!e||C&&!LR(i).isValid||T&&!FR(i).isValid)){let{value:re,message:Z}=C1(s)?{value:!!s,message:s}:ll(s);if(re&&(A[m]=Object.assign({type:Us.required,message:Z,ref:S},Y(Us.required,Z)),!r))return k(Z),A}if(!oe&&(!Fn(u)||!Fn(h))){let re,Z,D=ll(h),O=ll(u);if(isNaN(e)){let R=o.valueAsDate||new Date(e);Gi(D.value)&&(re=R>new Date(D.value)),Gi(O.value)&&(Z=R<new Date(O.value))}else{let R=o.valueAsNumber||parseFloat(e);Fn(D.value)||(re=R>D.value),Fn(O.value)||(Z=R<O.value)}if((re||Z)&&(G(!!re,D.message,O.message,Us.max,Us.min),!r))return k(A[m].message),A}if((a||c)&&!oe&&Gi(e)){let re=ll(a),Z=ll(c),D=!Fn(re.value)&&e.length>re.value,O=!Fn(Z.value)&&e.length<Z.value;if((D||O)&&(G(D,re.message,Z.message),!r))return k(A[m].message),A}if(f&&!oe&&Gi(e)){let{value:re,message:Z}=ll(f);if(N1(re)&&!e.match(re)&&(A[m]=Object.assign({type:Us.pattern,message:Z,ref:o},Y(Us.pattern,Z)),!r))return k(Z),A}if(p){if(U1(p)){let re=await p(e),Z=ER(re,S);if(Z&&(A[m]=Object.assign(Object.assign({},Z),Y(Us.validate,Z.message)),!r))return k(Z.message),A}else if(Nr(p)){let re={};for(let Z in p){if(!ao(re)&&!r)break;let D=ER(await p[Z](e),S,Z);D&&(re=Object.assign(Object.assign({},D),Y(Z,D.message)),k(D.message),r&&(A[m]=re))}if(!ao(re)&&(A[m]=Object.assign({ref:S},re),!r))return A}}return k(!0),A},Dce={mode:ui.onSubmit,reValidateMode:ui.onChange,shouldFocusError:!0};function Oce(t={}){let e=Object.assign(Object.assign({},Dce),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},n={},o=e.defaultValues||{},i=e.shouldUnregister?{}:tp(o),s={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0,h={},f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={watch:u6(),array:u6(),state:u6()},m=gR(e.mode),g=gR(e.reValidateMode),x=e.criteriaMode===ui.all,w=(_,F)=>(...q)=>{clearTimeout(u),u=self.setTimeout(()=>_(...q),F)},S=async _=>{let F=!1;return f.isValid&&(F=e.resolver?ao((await oe()).errors):await G(n,!0),!_&&F!==r.isValid&&(r.isValid=F,p.state.next({isValid:F}))),F},k=(_,F,q,de=[],ge=!0,ie=!0)=>{if(s.action=!0,ie&&Array.isArray(pe(n,_))){let we=F(pe(n,_),q.argA,q.argB);ge&&pr(n,_,we)}if(f.errors&&ie&&Array.isArray(pe(r.errors,_))){let we=F(pe(r.errors,_),q.argA,q.argB);ge&&pr(r.errors,_,we),Cce(r.errors,_)}if(f.touchedFields&&Array.isArray(pe(r.touchedFields,_))){let we=F(pe(r.touchedFields,_),q.argA,q.argB);ge&&pr(r.touchedFields,_,we)}f.dirtyFields&&(r.dirtyFields=xR(o,i)),p.state.next({isDirty:Z(_,de),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})},A=(_,F)=>(pr(r.errors,_,F),p.state.next({errors:r.errors})),T=(_,F,q,de)=>{let ge=pe(n,_);if(ge){let ie=pe(i,_,sr(q)?pe(o,_):q);sr(ie)||de&&de.defaultChecked||F?pr(i,_,F?ie:d6(ge._f)):R(_,ie),s.mount&&S()}},C=(_,F,q,de,ge)=>{let ie=!1,we={name:_},Et=pe(r.touchedFields,_);if(f.isDirty){let Ls=r.isDirty;r.isDirty=we.isDirty=Z(),ie=Ls!==we.isDirty}if(f.dirtyFields&&(!q||de)){let Ls=pe(r.dirtyFields,_);pl(pe(o,_),F)?Tn(r.dirtyFields,_):pr(r.dirtyFields,_,!0),we.dirtyFields=r.dirtyFields,ie=ie||Ls!==pe(r.dirtyFields,_)}return q&&!Et&&(pr(r.touchedFields,_,q),we.touchedFields=r.touchedFields,ie=ie||f.touchedFields&&Et!==q),ie&&ge&&p.state.next(we),ie?we:{}},W=async(_,F,q,de,ge)=>{let ie=pe(r.errors,F),we=f.isValid&&r.isValid!==q;if(t.delayError&&de?(c=c||w(A,t.delayError),c(F,de)):(clearTimeout(u),de?pr(r.errors,F,de):Tn(r.errors,F)),((de?!pl(ie,de):ie)||!ao(ge)||we)&&!_){let Et=Object.assign(Object.assign(Object.assign({},ge),we?{isValid:q}:{}),{errors:r.errors,name:F});r=Object.assign(Object.assign({},r),Et),p.state.next(Et)}h[F]--,f.isValidating&&!h[F]&&(p.state.next({isValidating:!1}),h={})},oe=async _=>e.resolver?await e.resolver(Object.assign({},i),e.context,_ce(_||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation)):{},Y=async _=>{let{errors:F}=await oe();if(_)for(let q of _){let de=pe(F,q);de?pr(r.errors,q,de):Tn(r.errors,q)}else r.errors=F;return F},G=async(_,F,q={valid:!0})=>{for(let de in _){let ge=_[de];if(ge){let ie=ge._f,we=y6(ge,"_f");if(ie){let Et=await IR(ge,pe(i,ie.name),x,e.shouldUseNativeValidation);if(Et[ie.name]&&(q.valid=!1,F))break;F||(Et[ie.name]?pr(r.errors,ie.name,Et[ie.name]):Tn(r.errors,ie.name))}we&&await G(we,F,q)}}return q.valid},re=()=>{for(let _ of a.unMount){let F=pe(n,_);F&&(F._f.refs?F._f.refs.every(q=>!f6(q)):!f6(F._f.ref))&&M(_)}a.unMount=new Set},Z=(_,F)=>(_&&F&&pr(i,_,F),!pl(B(),o)),D=(_,F,q)=>{let de=Object.assign({},s.mount?i:sr(F)?o:Gi(_)?{[_]:F}:F);return DR(_,a,de,q)},O=_=>R1(pe(s.mount?i:o,_,t.shouldUnregister?pe(o,_,[]):[])),R=(_,F,q={})=>{let de=pe(n,_),ge=F;if(de){let ie=de._f;ie&&(!ie.disabled&&pr(i,_,MR(F,ie)),ge=bR&&p6(ie.ref)&&Fn(F)?"":F,RR(ie.ref)?[...ie.ref.options].forEach(we=>we.selected=ge.includes(we.value)):ie.refs?np(ie.ref)?ie.refs.length>1?ie.refs.forEach(we=>we.checked=Array.isArray(ge)?!!ge.find(Et=>Et===we.value):ge===we.value):ie.refs[0]&&(ie.refs[0].checked=!!ge):ie.refs.forEach(we=>we.checked=we.value===ge):w6(ie.ref)||(ie.ref.value=ge,ie.ref.type||p.watch.next({name:_})))}(q.shouldDirty||q.shouldTouch)&&C(_,ge,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&Ie(_)},Q=(_,F,q)=>{for(let de in F){let ge=F[de],ie=`${_}.${de}`,we=pe(n,ie);(a.array.has(_)||!D1(ge)||we&&!we._f)&&!hl(ge)?Q(ie,ge,q):R(ie,ge,q)}},fe=(_,F,q={})=>{let de=pe(n,_),ge=a.array.has(_);pr(i,_,F),ge?(p.array.next({name:_,values:i}),(f.isDirty||f.dirtyFields)&&q.shouldDirty&&(r.dirtyFields=xR(o,i),p.state.next({name:_,dirtyFields:r.dirtyFields,isDirty:Z(_,F)}))):de&&!de._f&&!Fn(F)?Q(_,F,q):R(_,F,q),mR(_,a)&&p.state.next({}),p.watch.next({name:_})},ae=async _=>{let F=_.target,q=F.name,de=pe(n,q);if(de){let ge,ie,we=F.type?d6(de._f):TR(_),Et=_.type===l6.BLUR,Ls=!Pce(de._f)&&!e.resolver&&!pe(r.errors,q)&&!de._f.deps||Bce(Et,pe(r.touchedFields,q),r.isSubmitted,g,m),op=mR(q,a,Et);pr(i,q,we),Et?de._f.onBlur&&de._f.onBlur(_):de._f.onChange&&de._f.onChange(_);let F1=C(q,we,Et,!1),nU=!ao(F1)||op;if(!Et&&p.watch.next({name:q,type:_.type}),Ls)return nU&&p.state.next(Object.assign({name:q},op?{}:F1));if(!Et&&op&&p.state.next({}),h[q]=(h[q],1),f.isValidating&&p.state.next({isValidating:!0}),e.resolver){let{errors:v6}=await oe([q]),oU=vR(r.errors,n,q),E6=vR(v6,n,oU.name||q);ge=E6.error,q=E6.name,ie=ao(v6)}else ge=(await IR(de,pe(i,q),x,e.shouldUseNativeValidation))[q],ie=await S(!0);de._f.deps&&Ie(de._f.deps),W(!1,q,ie,ge,F1)}},Ie=async(_,F={})=>{let q,de,ge=B1(_);if(p.state.next({isValidating:!0}),e.resolver){let ie=await Y(sr(_)?_:ge);q=ao(ie),de=_?!ge.some(we=>pe(ie,we)):q}else _?(de=(await Promise.all(ge.map(async ie=>{let we=pe(n,ie);return await G(we&&we._f?{[ie]:we}:we)}))).every(Boolean),!(!de&&!r.isValid)&&S()):de=q=await G(n);return p.state.next(Object.assign(Object.assign(Object.assign({},!Gi(_)||f.isValid&&q!==r.isValid?{}:{name:_}),e.resolver?{isValid:q}:{}),{errors:r.errors,isValidating:!1})),F.shouldFocus&&!de&&h6(n,ie=>pe(r.errors,ie),_?ge:a.mount),de},B=_=>{let F=Object.assign(Object.assign({},o),s.mount?i:{});return sr(_)?F:Gi(_)?pe(F,_):_.map(q=>pe(F,q))},N=_=>{_?B1(_).forEach(F=>Tn(r.errors,F)):r.errors={},p.state.next({errors:r.errors})},X=(_,F,q)=>{let de=(pe(n,_,{_f:{}})._f||{}).ref;pr(r.errors,_,Object.assign(Object.assign({},F),{ref:de})),p.state.next({name:_,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&de&&de.focus&&de.focus()},L=(_,F)=>U1(_)?p.watch.subscribe({next:q=>_(D(void 0,F),q)}):D(_,F,!0),M=(_,F={})=>{for(let q of _?B1(_):a.mount)a.mount.delete(q),a.array.delete(q),pe(n,q)&&(F.keepValue||(Tn(n,q),Tn(i,q)),!F.keepError&&Tn(r.errors,q),!F.keepDirty&&Tn(r.dirtyFields,q),!F.keepTouched&&Tn(r.touchedFields,q),!e.shouldUnregister&&!F.keepDefaultValue&&Tn(o,q));p.watch.next({}),p.state.next(Object.assign(Object.assign({},r),F.keepDirty?{isDirty:Z()}:{})),!F.keepIsValid&&S()},ye=(_,F={})=>{let q=pe(n,_),de=rp(F.disabled);return pr(n,_,{_f:Object.assign(Object.assign(Object.assign({},q&&q._f?q._f:{ref:{name:_}}),{name:_,mount:!0}),F)}),a.mount.add(_),q?de&&pr(i,_,F.disabled?void 0:pe(i,_,d6(q._f))):T(_,!0,F.value),Object.assign(Object.assign(Object.assign({},de?{disabled:F.disabled}:{}),e.shouldUseNativeValidation?{required:!!F.required,min:ep(F.min),max:ep(F.max),minLength:ep(F.minLength),maxLength:ep(F.maxLength),pattern:ep(F.pattern)}:{}),{name:_,onChange:ae,onBlur:ae,ref:ge=>{if(ge){ye(_,F),q=pe(n,_);let ie=sr(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,we=kce(ie),Et=q._f.refs||[];if(we?Et.find(Ls=>Ls===ie):ie===q._f.ref)return;pr(n,_,{_f:Object.assign(Object.assign({},q._f),we?{refs:Et.concat(ie).filter(f6),ref:{type:ie.type,name:_}}:{ref:ie})}),T(_,!1,void 0,ie)}else q=pe(n,_,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(_R(a.array,_)&&s.action)&&a.unMount.add(_)}})};return{control:{register:ye,unregister:M,_executeSchema:oe,_getWatch:D,_getDirty:Z,_updateValid:S,_removeUnmounted:re,_updateFieldArray:k,_getFieldArray:O,_subjects:p,_proxyFormState:f,get _fields(){return n},set _fields(_){n=_},get _formValues(){return i},set _formValues(_){i=_},get _stateFlags(){return s},set _stateFlags(_){s=_},get _defaultValues(){return o},set _defaultValues(_){o=_},get _names(){return a},set _names(_){a=_},get _formState(){return r},set _formState(_){r=_},get _options(){return e},set _options(_){e=Object.assign(Object.assign({},e),_)}},trigger:Ie,register:ye,handleSubmit:(_,F)=>async q=>{q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let de=!0,ge=e.shouldUnregister?tp(i):Object.assign({},i);p.state.next({isSubmitting:!0});try{if(e.resolver){let{errors:ie,values:we}=await oe();r.errors=ie,ge=we}else await G(n);ao(r.errors)&&Object.keys(r.errors).every(ie=>pe(ge,ie))?(p.state.next({errors:{},isSubmitting:!0}),await _(ge,q)):(F&&await F(r.errors,q),e.shouldFocusError&&h6(n,ie=>pe(r.errors,ie),a.mount))}catch(ie){throw de=!1,ie}finally{r.isSubmitted=!0,p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ao(r.errors)&&de,submitCount:r.submitCount+1,errors:r.errors})}},watch:L,setValue:fe,getValues:B,reset:(_,F={})=>{let q=_||o,de=tp(q),ge=_&&!ao(_)?de:o;if(F.keepDefaultValues||(o=q),!F.keepValues){if(bR&&sr(_))for(let ie of a.mount){let we=pe(n,ie);if(we&&we._f){let Et=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;try{p6(Et)&&Et.closest("form").reset();break}catch{}}}i=t.shouldUnregister?F.keepDefaultValues?tp(o):{}:de,n={},p.array.next({values:ge}),p.watch.next({values:ge})}a={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!F.keepIsValid,s.watch=!!t.shouldUnregister,p.state.next({submitCount:F.keepSubmitCount?r.submitCount:0,isDirty:F.keepDirty?r.isDirty:F.keepDefaultValues?!pl(_,o):!1,isSubmitted:F.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:F.keepDirty?r.dirtyFields:F.keepDefaultValues&&_?Object.entries(_).reduce((ie,[we,Et])=>Object.assign(Object.assign({},ie),{[we]:Et!==pe(o,we)}),{}):{},touchedFields:F.keepTouched?r.touchedFields:{},errors:F.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(_,F={})=>{pe(n,_)&&(sr(F.defaultValue)?fe(_,pe(o,_)):(fe(_,F.defaultValue),pr(o,_,F.defaultValue)),F.keepTouched||Tn(r.touchedFields,_),F.keepDirty||(Tn(r.dirtyFields,_),r.isDirty=F.defaultValue?Z(_,pe(o,_)):Z()),F.keepError||(Tn(r.errors,_),f.isValid&&S()),p.state.next(Object.assign({},r)))},clearErrors:N,unregister:M,setError:X,setFocus:_=>{let F=pe(n,_)._f;(F.ref.focus?F.ref:F.refs[0]).focus()}}}function L1(t={}){let e=Ut.default.useRef(),[r,n]=Ut.default.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});e.current?e.current.control._options=t:e.current=Object.assign(Object.assign({},Oce(t)),{formState:r});let o=e.current.control,i=Ut.default.useCallback(s=>{BR(s,o._proxyFormState,!0)&&(o._formState=Object.assign(Object.assign({},o._formState),s),n(Object.assign({},o._formState)))},[o]);return g6({subject:o._subjects.state,callback:i}),Ut.default.useEffect(()=>{o._stateFlags.mount||(o._proxyFormState.isValid&&o._updateValid(),o._stateFlags.mount=!0),o._stateFlags.watch&&(o._stateFlags.watch=!1,o._subjects.state.next({})),o._removeUnmounted()}),e.current.formState=PR(r,o._proxyFormState),e.current}var Nce=({accounts:t,enabledAddressTypes:e,enableAddressTypes:r,editableAccountMetadata:n,addReadOnlyAccount:o,fetchDomainOwner:i})=>{let s=ut(),{t:a}=Yi(),c=$r(),u=n?.networkID||nt.Solana.Mainnet,{formState:{errors:h},control:f,clearErrors:p,getValues:m,setValue:g,register:x,handleSubmit:w,watch:S,trigger:k}=L1({mode:"all"}),{networkID:A,name:T,address:C,resolvedAddress:W}=S(),oe={required:!0},Y=(0,M1.useMemo)(()=>({required:{value:!0,message:a("addAccountImportAccountPublicKeyRequired")},validate:(0,HR.default)(async Z=>{if(Z==="")return!0;if(!Tx(Z,A||u))try{let Q=(await i(Z,A,s,c))?.owner;return Q?(g("resolvedAddress",Q),t.find(ae=>ae.addresses.map(Ie=>Ie.address).includes(Q))?a("addAccountImportAccountDuplicateAddress"):!0):a("addAccountImportAccountIncorrectFormat")}catch{return a("sendFormErrorInvalidDomain")}return g("resolvedAddress",Z),t.find(R=>R.addresses.map(Q=>Q.address).includes(Z))?a("addAccountImportAccountDuplicateAddress"):!0},500)}),[a,A,u,g,t,i,s,c]),G=T&&W&&!h.name&&!h.address,re=(0,M1.useCallback)(async({networkID:Z,name:D,resolvedAddress:O},R)=>{let Q=qd(Z,O);e.includes(Q)||await r({addressTypes:[Q]});let fe={};fe[Q]=O,o({name:D,addresses:fe,icon:n?.icon}),R(),c.capture("addReadOnlyAccount",{data:{networkID:Z,chainType:Q}})},[o,n?.icon,r,e,c]);return{Controller:OR,canSubmit:G,control:f,errors:h,nameValidations:oe,address:C,addressValidations:Y,clearErrors:p,getValues:m,handleSubmit:w,onSubmit:re,register:x,setValue:g,trigger:k}};d();l();d();l();d();l();d();l();var S6=(t,e)=>{let r=qd(t,e);switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return qo.getDisplayName(r);default:return}};var KR={badge:(t,e,r)=>e.filter(Ph).length<=1?"":S6(t,r)??"",showAddressTypeExplainer:t=>t.filter(Ph).length>1,addressTooltipNetworkName:(t,e,r)=>r.filter(Ph).length>=2?S6(t,e)??V.getChainName(t):V.getChainName(t)};d();l();var VR={badge:(t,e)=>{switch(t){case"eip155:41454":case"eip155:10143":return V.getNetworkDefinition(t).shortName;case"eip155:143":return}},networkNameOverride:()=>"Monad"};var Rce=new Uh({solana:{},ethereum:{},polygon:{},base:{},monad:VR,bitcoin:KR,sui:{}}),qR=O3(Rce);function Uce(t){let e=kN();return t.map(r=>qR.get(r.networkID).addressTooltipNetworkName?.(r.networkID,r.address,e)??V.getNetworkName(r.networkID))}d();l();d();l();d();l();d();l();var Lce=()=>{let{data:t}=si(),e=sp(),r=t?.username;return He({queryKey:ir.userProfileAttributeEffect(r),queryFn:async()=>(r&&(Kn.setSubjectAttributes({username:r}),await e()),!0)}),r};d();l();var jR=z(Pt());d();l();var Mce=/^https?:\/\/.+$/,zR=t=>Fce(t?.icon),Fce=t=>t?t.match(Mce)?{type:Qh.Image,imageUrl:t}:{type:Qh.Emoji,unicode:t}:{type:Qh.Default};var Hce=()=>{let{data:t}=si();return(0,jR.useMemo)(()=>zR(t),[t])};d();l();var WR=z(Pt());var Kce=()=>{let{data:t}=si();return(0,WR.useMemo)(()=>t?.privacyState??"public",[t?.privacyState])};d();l();var GR=z(Pt());var Vce=()=>{let{data:t}=si();return(0,GR.useMemo)(()=>t?.addresses,[t?.addresses])};d();l();d();l();var $R=z(Pt());var qce=0,zce=t=>t!==null?t.split("@")[qce]:null,jce=async(t,e)=>{let r=await t.getUser();if(!r)throw new Error("no user");let n=await e.getUserProfile();return{userID:r.userID,username:n?.username??null,email:zce(r.email??null)}},Wce=()=>{let t=Mn(),e=ut(),{data:r={}}=v8();return(0,$R.useCallback)(async()=>{try{return{...await jce(t,e),authFactors:r}}catch{return{userID:null,username:null,email:null,authFactors:r}}},[r,t,e])};var $ce=z(Pt());d();l();var QR=z(Pt());var Qce=()=>{let{data:t}=Uo(),e=(0,QR.useMemo)(()=>{if(!t||!t.addresses.length)return V.getChainID("solana:101");let r=t.addresses[0];return V.getChainID(r.networkID)},[t]);return{caip19:kx(_x(e)),tokenName:V.getChainName(e),tokenSymbol:V.getTokenSymbol(e)}};d();l();var Yce=()=>{let{data:[t]}=fi(["enable-sui-testnet"]);return Lh(t)};d();l();d();l();var JR=z(Pt());d();l();var YR=()=>{let{data:t}=ci(),{data:e}=zu(),{data:r}=si(),{data:[n]}=fi(["enable-auto-patch-chains"]);return He({queryKey:De.patchProfileAddresses({chainAvailability:t?.enabledNetworkIDs,accountIdentifiers:e?.map(o=>o.identifier),user:r,isAutoPatchEnabled:n}),queryFn:t&&e&&r?()=>{let{enabledNetworkIDs:o}=t,i=o?.reduce((f,p)=>{let m=e.find(g=>g.addresses.some(x=>x.networkID===p))?.addresses.find(g=>g.networkID===p)?.address;return m&&(f[p]=m),f},{})??{},s=r?.addresses,a=s?Object.keys(s).filter(V.isNetworkID):[],c=(o??[]).filter(f=>!a.includes(f)).reduce((f,p)=>{let m=i[p];return m&&(f[p]=m),f},{});return Object.keys(c).length>0?{addresses:{...c,...s},addedAddresses:c}:null}:R6})};var Jce=()=>{let{data:t}=YR(),{mutate:e}=U8(),r=$r();(0,JR.useEffect)(()=>{if(t){let{addresses:n,addedAddresses:o}=t,i=Object.keys(o);r.capture("autoSyncUsernameAddresses",{data:{addedChains:i}}),e({addresses:n})}},[t,e,r])};d();l();var XR=z(Pt());var Xce=t=>{let e=(0,XR.useCallback)(r=>r.addresses.find(n=>t===V.getChainID(n.networkID))?.networkID,[t]);return Uo({select:e})};d();l();var ZR=z(Pt());var Zce=()=>{let{data:t=[]}=Zh("local-only"),{data:e=[]}=Zh("recoverable-only");return(0,ZR.useMemo)(()=>t.length+e.length>1,[t.length,e.length])};d();l();var tU=z(Pt()),eU=/(\p{Emoji_Presentation}|\p{Extended_Pictographic})/giu,eue=/[\p{Script=Latin}\p{Script=Cyrillic}]+/giu,tue=(t="",e)=>(0,tU.useMemo)(()=>{let r=t.split(" "),n=r[0]??"",o=new RegExp(eU).test(n),i=new RegExp(eue).test(n),s=!o&&!i,a=e!==void 0?e+1:"";if(o){let c=Array.from(n);if(c.length>1){let u="";for(let h of c)if(h.match(eU))u+=h;else break;n=u}}else i&&(n=L6(n).charAt(0));if(r.length>1){let c=Number(r[1]);if(Number.isInteger(c)&&c>=0)return s?a:`${n}${c}`}return s?a:n},[t,e]);d();l();var rU=z(Ms()),$i=z(Pt());var rue=({importPrivateKeyCallback:t,existingAccounts:e,editableAccountMetadata:r,analytics:n})=>{let{t:o}=Yi(),{formState:{errors:i},control:s,clearErrors:a,getValues:c,setValue:u,register:h,handleSubmit:f,watch:p,trigger:m}=L1({mode:"all",defaultValues:{addressType:r?.addressType||"solana",networkID:r?.networkID||nt.Solana.Mainnet}}),[g,x]=(0,$i.useState)(null),w=P1(D=>D.setEditableAccountMetadata),{name:S}=p(),k=r?.secrets,A=c("networkID"),T=c("addressType"),C=c("privateKey"),W=(0,$i.useMemo)(()=>new eh,[]),oe={required:!0},Y=(0,$i.useMemo)(()=>({required:{value:!0,message:o("addAccountImportAccountPrivateKeyRequired")},onChange:D=>{D.target.value||x(null)},validate:D=>{try{let O=c("networkID"),R=c("addressType");if(/\s/.test(D)||!R)return o("addAccountImportAccountIncorrectFormat");let Q=V.getNetworkDefinition(O).value,fe=rh({privateKey:D,addressType:R,networkIDValue:Q});w({...r,secrets:fe});let ae=W.generateKeypairFromPrivateKey(fe,R);return e.find(B=>!B.isReadOnly&&(B.addresses.map(N=>N.address).includes(gx({publicKey:ae.publicKey,addressType:R,networkID:O}))||B.addresses.filter(N=>"publicKey"in N).map(N=>N.publicKey).find(N=>N?Buffer.from(N).equals(Buffer.from(ae.publicKey)):!1)))?o("addAccountImportAccountDuplicatePrivateKey"):!0}catch{return o("addAccountImportAccountIncorrectFormat")}}}),[o,W,e,r,w,c]);(0,$i.useEffect)(()=>{if(i.privateKey){x(null);return}if(C||k)try{let D=V.getNetworkDefinition(A).value,O=k||rh({privateKey:C,addressType:T,networkIDValue:D}),R=W.generateKeypairFromPrivateKey(O,T);if(!C){let Q="";switch(T){case"solana":{Q=rU.default.encode(R.privateKey);break}case"eip155":{Q="0x"+Buffer.from(R.privateKey).toString("hex");break}case"sui":{Q=F6(R.privateKey);break}}u("privateKey",Q)}x(gx({publicKey:R.publicKey,addressType:T,networkID:A}))}catch{x(null)}},[i.privateKey,T,W,C,k,u,A]);let G=(0,$i.useMemo)(()=>!!(S&&C&&!i.name&&!i.privateKey),[i.name,i.privateKey,S,C]),re=(0,$i.useCallback)(async({networkID:D,name:O,privateKey:R,addressType:Q})=>{let fe=V.getNetworkDefinition(D).value,ae=rh({privateKey:R,addressType:Q,networkIDValue:fe});await t({chainType:Q,name:O,icon:r?.icon,privateKey:ae}),n.capture("addPrivateKeyAccount",{data:{networkID:D,chainType:Q}})},[t,r?.icon,n]);return{formOnSubmitHandler:f(D=>re(D)),canSubmit:G,control:s,getValues:c,register:h,setValue:u,trigger:m,errors:i,clearErrors:a,nameValidations:oe,privateKey:C,privateKeyValidations:Y,addressPreview:g}};d();l();var nue=async(t,e,r)=>{let{enabledAddressTypes:n,enabledChainIDs:o,enabledMainnetOnlyNetworkIDs:i}=r,[s,a]=await Promise.all([e.get("developerMode"),dl(e)]),c=await t.fetchAllAccounts(),u=await kc(c,e),h=await x1(e,u.identifier),f={name:h.name,icon:h.icon,identifier:u.identifier,addresses:E1(u,i,n,o,a,s?.isDeveloperMode??!1)};return u.type==="seed"?{...f,type:"seed",seedIdentifier:u.seedIdentifier,isReadOnly:!1}:u.type==="seedless"?{...f,type:"seedless",seedIdentifier:u.seedIdentifier,isReadOnly:!1}:u.type==="readOnly"?{...f,type:"readOnly",isReadOnly:!0}:u.type==="privateKey"?{...f,privateKeyIdentifier:u.privateKeyIdentifier,type:"privateKey",isReadOnly:!1}:{...f,type:u.type,isReadOnly:!1}};d();l();export{E4 as a,k4 as b,Bl as c,Iw as d,F4 as e,cI as f,lf as g,Kw as h,gI as i,Vw as j,zw as k,wI as l,jw as m,Gw as n,SI as o,EI as p,Xw as q,Ky as r,ok as s,sk as t,C2 as u,F5 as v,ho as w,D2 as x,Tf as y,O2 as z,N2 as A,G5 as B,$5 as C,Q5 as D,Y5 as E,X5 as F,Z5 as G,ek as H,tk as I,Rq as J,Dn as K,Gn as L,j7e as M,yO as N,G7e as O,G3 as P,Mx as Q,mO as R,lt as S,Voe as T,qoe as U,Y3 as V,zoe as W,Rf as X,i0e as Y,Fk as Z,nj as _,ij as $,sj as aa,aj as ba,cj as ca,uj as da,Si as ea,Be as fa,Kk as ga,tA as ha,qo as ia,mo as ja,Wk as ka,Em as la,O0 as ma,Yk as na,nA as oa,Ea as pa,bT as qa,xA as ra,AA as sa,vA as ta,_i as ua,OA as va,LA as wa,MA as xa,vme as ya,Ba as za,yS as Aa,iu as Ba,su as Ca,Cr as Da,$t as Ea,Na as Fa,Io as Ga,xS as Ha,E as Ia,sv as Ja,WP as Ka,gd as La,eh as Ma,wd as Na,Nv as Oa,hJ as Pa,rh as Qa,Yv as Ra,y9 as Sa,hB as Ta,NE as Ua,XC as Va,m3 as Wa,gx as Xa,Ph as Ya,ooe as Za,b3 as _a,Kd as $a,Ax as ab,mc as bb,Vd as cb,gc as db,bc as eb,T3 as fb,V as gb,CD as hb,nt as ib,Ps as jb,TD as kb,Du as lb,PD as mb,BD as nb,kx as ob,DD as pb,OD as qb,ND as rb,RD as sb,UD as tb,LD as ub,MD as vb,FD as wb,HD as xb,KD as yb,VD as zb,qD as Ab,Tx as Bb,qd as Cb,_x as Db,zD as Eb,jD as Fb,O3 as Gb,Uh as Hb,GD as Ib,goe as Jb,boe as Kb,xoe as Lb,woe as Mb,R3 as Nb,U3 as Ob,Bs as Pb,i7e as Qb,s7e as Rb,oO as Sb,H3 as Tb,K3 as Ub,koe as Vb,a7e as Wb,u7e as Xb,f7e as Yb,d7e as Zb,S6 as _b,qR as $b,Wi as ac,SHe as bc,WN as cc,GN as dc,$N as ec,QN as fc,YN as gc,JN as hc,XN as ic,ZN as jc,eR as kc,tR as lc,rR as mc,nR as nc,oR as oc,v1 as pc,fHe as qc,dHe as rc,lHe as sc,hHe as tc,pHe as uc,LFe as vc,ice as wc,Dse as xc,_8 as yc,Fu as zc,Ose as Ac,ai as Bc,pN as Cc,yN as Dc,gN as Ec,bN as Fc,O8 as Gc,N8 as Hc,qse as Ic,nae as Jc,V3 as Kc,q3 as Lc,_oe as Mc,Wd as Nc,Qoe as Oc,Yoe as Pc,Ro as Qc,Kh as Rc,ase as Sc,lse as Tc,wse as Uc,Ase as Vc,Toe as Wc,Mn as Xc,Ki as Yc,Sse as Zc,v8 as _c,Ns as $c,vse as ad,I8 as bd,qh as cd,Rs as dd,Ese as ed,Ise as fd,kse as gd,Tse as hd,_se as id,$r as jd,zh as kd,Pse as ld,ut as md,oae as nd,iae as od,jh as pd,si as qd,vN as rd,cae as sd,U8 as td,uae as ud,fae as vd,dae as wd,OFe as xd,VN as yd,s6 as zd,a6 as Ad,ci as Bd,L8 as Cd,lae as Dd,hae as Ed,St as Fd,M8 as Gd,pae as Hd,yae as Id,kN as Jd,sl as Kd,pFe as Ld,yFe as Md,mFe as Nd,gFe as Od,bFe as Pd,xFe as Qd,Dae as Rd,Oae as Sd,zu as Td,rce as Ud,pt as Vd,T1 as Wd,nce as Xd,oce as Yd,Zh as Zd,jae as _d,c6 as $d,cR as ae,sce as be,ace as ce,cce as de,uce as ee,fce as fe,dce as ge,lce as he,Uo as ie,Gae as je,hce as ke,pce as le,yce as me,mce as ne,gce as oe,Xh as pe,bce as qe,xce as re,Ece as se,OR as te,L1 as ue,Nce as ve,Uce as we,Lce as xe,Hce as ye,Kce as ze,Vce as Ae,Wce as Be,Qce as Ce,Yce as De,$ae as Ee,Qae as Fe,Jce as Ge,Yae as He,Xce as Ie,Xae as Je,Zce as Ke,_1 as Le,P1 as Me,hR as Ne,tue as Oe,rue as Pe,nue as Qe};
/*! Bundled license information:

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@babel/runtime/helpers/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

@noble/secp256k1/lib/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-XKUMOCJO.js.map
