import{a as M}from"./chunk-RLS5DN7P.js";import{a as f}from"./chunk-XQ5AWW2B.js";import{a as K,b as B,c as F}from"./chunk-2MTGVKD4.js";import"./chunk-MQYVKNLB.js";import"./chunk-6ZOJTCTS.js";import"./chunk-SHAEZV7V.js";import{b as H,e as _}from"./chunk-BMUB2YXP.js";import"./chunk-5LEHT7IY.js";import"./chunk-DZ2NE3XW.js";import"./chunk-NGO5FOJW.js";import"./chunk-2LU4YM7A.js";import"./chunk-E6VR42GU.js";import"./chunk-W27Z2YZM.js";import{a as z}from"./chunk-3SURQQID.js";import"./chunk-4LYBFKKF.js";import{b as A}from"./chunk-2XU6ODO7.js";import"./chunk-7ZVEM3WY.js";import"./chunk-5LRZ7IFN.js";import{db as m}from"./chunk-ATEHMOFB.js";import"./chunk-2P7VAWV5.js";import{t as O}from"./chunk-FGZHIQDN.js";import"./chunk-ACZGMNYK.js";import"./chunk-U5F4RDP5.js";import"./chunk-LLAFONE3.js";import"./chunk-O3DDAITN.js";import"./chunk-ITDMYF4L.js";import"./chunk-SWF27PRY.js";import"./chunk-BTKBODVJ.js";import{Ca as N,Da as v,g as I,h as x}from"./chunk-4CMCOVQN.js";import"./chunk-WFPABEAU.js";import"./chunk-WZYS47J2.js";import"./chunk-AIQ7AHJY.js";import"./chunk-6V7ED5GE.js";import"./chunk-T3HNWLEC.js";import{L as l,gb as w,ie as E}from"./chunk-XKUMOCJO.js";import"./chunk-EF7ER3CO.js";import"./chunk-24ISZ5TA.js";import"./chunk-2J2WSGCG.js";import"./chunk-DHK5JDA3.js";import{m as L}from"./chunk-FI5JCZQR.js";import"./chunk-7XYHSLSH.js";import"./chunk-RISGBUNP.js";import"./chunk-X6UT6LAC.js";import"./chunk-HTY4DAML.js";import{a as W}from"./chunk-6MAAUKN7.js";import"./chunk-LYAMJYNC.js";import"./chunk-UNDMYLJW.js";import{f as J,h as b,n as P}from"./chunk-3KENBVE7.js";b();P();var e=J(W());var X=n=>{let i={stakePubkey:n.stakeAccountPubkey,votePubkey:n.voteAccountPubkey,onClose:n.onClose},{t}=L(),{delegateStake:s,onDeny:a,needsLedgerApproval:u,txHash:r,confirmationStatus:c,isError:k,error:d}=Z(i);if(u)return e.default.createElement(B,{ledgerAction:s,cancel:a});if(k){let o=d,S=o?.message,g=K(o),D=o?.message.includes(x),h=o?.message.includes(I);return g?e.default.createElement(F,{ledgerActionError:o,onRetryClick:s,onCancelClick:a}):D||h?e.default.createElement(M,{onCancelClick:a}):e.default.createElement(A,{icon:"error",title:t("stakeAccountDelegateStakeStakingFailed"),onClose:a,showButton:!!r,iconSize:"large"},e.default.createElement(m,{wordBreak:"break-word",color:"#777777",size:16,lineHeight:20.8},S??t("stakeAccountDelegateStakeStakingFailedDescription")),e.default.createElement(f,{txHash:r},t("stakeAccountDelegateStakeViewTransaction")))}return c==="confirmed"||c==="finalized"?e.default.createElement(A,{icon:"success",title:t("stakeAccountDelegateStakeSolStaked"),onClose:n.onClose,iconSize:"large"},e.default.createElement(m,{wordBreak:"break-word",color:"#777777",size:16,lineHeight:20.8},e.default.createElement(z,{i18nKey:"stakeAccountDelegateStakeSolStakedDescriptionInterpolated"},"Your SOL will begin earning rewards",e.default.createElement("br",null)," in the next couple days once the stake account becomes active.")),e.default.createElement(f,{txHash:r},t("stakeAccountDelegateStakeViewTransaction"))):e.default.createElement(A,{icon:"loading",title:t("stakeAccountDelegateStakeStakingSol"),onClose:n.onClose,iconSize:"large"},e.default.createElement(m,{wordBreak:"break-word",color:"#777777",size:16,lineHeight:20.8},t("stakeAccountDelegateStakeStakingSolDescription")),e.default.createElement(f,{txHash:r},t("stakeAccountDelegateStakeViewTransaction")))},fe=X,Z=({onClose:n,...i})=>{let{data:t,isSuccess:s}=E(),{accountIdentifier:a,isLedgerAccount:u,solanaChainAddress:r,solanaPublicKey:c,connection:k,networkID:d}=(0,e.useMemo)(()=>{let U=t?.identifier??"",y=(t?.addresses??[]).find(G=>w.isSolanaNetworkID(G.networkID)),Y=new l.PublicKey(y?.address??""),j=t?.type==="ledger",T=y?.networkID,q=N(v(T));return{accountIdentifier:U,isLedgerAccount:j,solanaChainAddress:y,solanaPublicKey:Y,connection:q,networkID:T}},[t]),o=H(k),S=(0,e.useCallback)(()=>{o.mutate({...i,accountIdentifier:a,senderAddress:r,stakePubkey:new l.PublicKey(i.stakePubkey),authorizedPubkey:c,votePubkey:new l.PublicKey(i.votePubkey)})},[a,i,o,r,c]),g=O(),D=(0,e.useCallback)(()=>{g.denied({chainType:"solana",chainName:"solana",networkId:w.getSolanaNetworkIDValue(d),type:"delegate"}),n()},[d,n,g]);(0,e.useEffect)(()=>{s&&!u&&S()},[s]);let C=o.data?.id,p=_(k,2e3,C),V=u&&(o.isIdle||o.isPending),Q=p.data?.value?.confirmationStatus;return{delegateStake:S,onDeny:D,needsLedgerApproval:V,txHash:C,confirmationStatus:Q,isError:o.isError||p.isError,error:o.error||p.error}};export{X as StakeAccountDelegateStakeStatusPage,fe as default};
//# sourceMappingURL=StakeAccountDelegateStakeStatusPage-ZJJTXY6I.js.map
