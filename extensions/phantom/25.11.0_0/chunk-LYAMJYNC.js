import{h as a,n as c}from"./chunk-3KENBVE7.js";a();c();a();c();var Ge={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},ge=console,ut={};Object.keys(Ge).forEach(e=>{ut[e]=ge[e]});var Tt="Datadog Browser SDK:",I={debug:ut.debug.bind(ge,Tt),log:ut.log.bind(ge,Tt),info:ut.info.bind(ge,Tt),warn:ut.warn.bind(ge,Tt),error:ut.error.bind(ge,Tt)},ht="https://docs.datadoghq.com",Qt=`${ht}/real_user_monitoring/browser/troubleshooting`,Me="More details:";a();c();a();c();a();c();var Da=/[^\u0000-\u007F]/;function lt(e){return Da.test(e)?self.TextEncoder!==void 0?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function ap(e){let t=e.reduce((o,i)=>o+i.length,0),r=new Uint8Array(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}a();c();a();c();a();c();a();c();a();c();function Ee(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get(){return this},configurable:!0});let e=_dd_temp_;return delete Object.prototype._dd_temp_,typeof e!="object"&&(typeof self=="object"||typeof self=="object"?e=self:e={}),e}function ie(e,t){let r=Ee(),n;return r.Zone&&typeof r.Zone.__symbol__=="function"&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}a();c();var er,Lo=!1;function Mo(e){er=e}function on(e){Lo=e}function Ua(e,t,r){let n=r.value;r.value=function(...o){return(er?_(n):n).apply(this,o)}}function _(e){return function(){return se(e,this,arguments)}}function se(e,t,r){try{return e.apply(t,r)}catch(n){Do(n)}}function Do(e){if(tr(e),er)try{er(e)}catch(t){tr(t)}}function tr(...e){Lo&&I.error("[MONITOR]",...e)}function M(e,t){return ie(Ee(),"setTimeout")(_(e),t)}function j(e){ie(Ee(),"clearTimeout")(e)}function ae(e,t){return ie(Ee(),"setInterval")(_(e),t)}function Se(e){ie(Ee(),"clearInterval")(e)}function be(e,t,r){let n=r&&r.leading!==void 0?r.leading:!0,o=r&&r.trailing!==void 0?r.trailing:!0,i=!1,s,u;return{throttled:(...l)=>{if(i){s=l;return}n?e(...l):s=l,i=!0,u=M(()=>{o&&s&&e(...s),i=!1,s=void 0},t)},cancel:()=>{j(u),i=!1,s=void 0}}}function w(){}function ee(e,t,r){if(typeof e!="object"||e===null)return JSON.stringify(e);let n=je(Object.prototype),o=je(Array.prototype),i=je(Object.getPrototypeOf(e)),s=je(e);try{return JSON.stringify(e,t,r)}catch{return"<error: unable to serialize object>"}finally{n(),o(),i(),s()}}function je(e){let t=e,r=t.toJSON;return r?(delete t.toJSON,()=>{t.toJSON=r}):w}var Pa=220*1024,Va="$",Fa=3;function U(e,t=Pa){let r=je(Object.prototype),n=je(Array.prototype),o=[],i=new WeakMap,s=sn(e,Va,void 0,o,i),u=JSON.stringify(s),l=u?u.length:0;if(l>t){an(t,"discarded",e);return}for(;o.length>0&&l<t;){let d=o.shift(),p=0;if(Array.isArray(d.source))for(let g=0;g<d.source.length;g++){let S=sn(d.source[g],d.path,g,o,i);if(S!==void 0?l+=JSON.stringify(S).length:l+=4,l+=p,p=1,l>t){an(t,"truncated",e);break}d.target[g]=S}else for(let g in d.source)if(Object.prototype.hasOwnProperty.call(d.source,g)){let S=sn(d.source[g],d.path,g,o,i);if(S!==void 0&&(l+=JSON.stringify(S).length+p+g.length+Fa,p=1),l>t){an(t,"truncated",e);break}d.target[g]=S}}return r(),n(),s}function sn(e,t,r,n,o){let i=Ha(e);if(!i||typeof i!="object")return Ba(i);let s=cn(i);if(s!=="[Object]"&&s!=="[Array]"&&s!=="[Error]")return s;let u=e;if(o.has(u))return`[Reference seen at ${o.get(u)}]`;let l=r!==void 0?`${t}.${r}`:t,d=Array.isArray(i)?[]:{};return o.set(u,l),n.push({source:i,target:d,path:l}),d}function Ba(e){return typeof e=="bigint"?`[BigInt] ${e.toString()}`:typeof e=="function"?`[Function] ${e.name||"unknown"}`:typeof e=="symbol"?`[Symbol] ${e.description||e.toString()}`:e}function cn(e){try{if(e instanceof Event)return $a(e);if(e instanceof RegExp)return`[RegExp] ${e.toString()}`;let r=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(r&&r[1])return`[${r[1]}]`}catch{}return"[Unserializable]"}function $a(e){return{type:e.type,isTrusted:e.isTrusted,currentTarget:e.currentTarget?cn(e.currentTarget):null,target:e.target?cn(e.target):null}}function Ha(e){let t=e;if(t&&typeof t.toJSON=="function")try{return t.toJSON()}catch{}return e}function an(e,t,r){I.warn(`The data provided has been ${t} as it is over the limit of ${e} characters:`,r)}a();c();var vt="?";function W(e){let t=[],r=un(e,"stack"),n=String(e);return r&&r.startsWith(n)&&(r=r.slice(n.length)),r&&r.split(`
`).forEach(o=>{let i=Ka(o)||za(o)||Xa(o)||Za(o);i&&(!i.func&&i.line&&(i.func=vt),t.push(i))}),{message:un(e,"message"),name:un(e,"name"),stack:t}}var Uo="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",dt="(?::(\\d+))",Ga=new RegExp(`^\\s*at (.*?) ?\\(${Uo}${dt}?${dt}?\\)?\\s*$`,"i"),ja=new RegExp(`\\((\\S*)${dt}${dt}\\)`);function Ka(e){let t=Ga.exec(e);if(!t)return;let r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,o=ja.exec(t[2]);return n&&o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3]),{args:r?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||vt,line:t[3]?+t[3]:void 0,url:r?void 0:t[2]}}var Ya=new RegExp(`^\\s*at ?${Uo}${dt}?${dt}??\\s*$`,"i");function za(e){let t=Ya.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:vt,line:t[2]?+t[2]:void 0,url:t[1]}}var qa=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Xa(e){let t=qa.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||vt,line:+t[3],url:t[2]}}var Wa=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Ja=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Za(e){let t=Wa.exec(e);if(!t)return;let r=t[3]&&t[3].indexOf(" > eval")>-1,n=Ja.exec(t[3]);return r&&n&&(t[3]=n[1],t[4]=n[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||vt,line:t[4]?+t[4]:void 0,url:t[3]}}function un(e,t){if(typeof e!="object"||!e||!(t in e))return;let r=e[t];return typeof r=="string"?r:void 0}function Po(e,t,r,n){let o=[{url:t,column:n,line:r}],{name:i,message:s}=ec(e);return{name:i,message:s,stack:o}}var Qa=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function ec(e){let t,r;return{}.toString.call(e)==="[object String]"&&([,t,r]=Qa.exec(e)),{name:t,message:r}}a();c();function Ye(e){let r=new Error(e);r.name="HandlingStack";let n;return se(()=>{let o=W(r);o.stack=o.stack.slice(2),n=ye(o)}),n}function ye(e){let t=ln(e);return e.stack.forEach(r=>{let n=r.func==="?"?"<anonymous>":r.func,o=r.args&&r.args.length>0?`(${r.args.join(", ")})`:"",i=r.line?`:${r.line}`:"",s=r.line&&r.column?`:${r.column}`:"";t+=`
  at ${n}${o} @ ${r.url}${i}${s}`}),t}function ln(e){return`${e.name||"Error"}: ${e.message}`}var rr="No stack, consider using an instance of Error";function It({stackTrace:e,originalError:t,handlingStack:r,componentStack:n,startClocks:o,nonErrorPrefix:i,source:s,handling:u}){let l=te(t),d=tc(e,l,i,t),p=rc(l,e)?ye(e):rr,g=l?fn(t,s):void 0,S=e?e.name:void 0,E=dn(t),m=pn(t);return{startClocks:o,source:s,handling:u,handlingStack:r,componentStack:n,originalError:t,type:S,message:d,stack:p,causes:g,fingerprint:E,context:m}}function tc(e,t,r,n){return e?.message&&e?.name?e.message:t?"Empty message":`${r} ${ee(U(n))}`}function rc(e,t){return t===void 0?!1:e?!0:t.stack.length>0&&(t.stack.length>1||t.stack[0].url!==void 0)}function dn(e){return te(e)&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function pn(e){if(e!==null&&typeof e=="object"&&"dd_context"in e)return e.dd_context}function nc(e){var t;return(t=/@ (.+)/.exec(e))===null||t===void 0?void 0:t[1]}function te(e){return e instanceof Error||Object.prototype.toString.call(e)==="[object Error]"}function fn(e,t){let r=e,n=[];for(;te(r?.cause)&&n.length<10;){let o=W(r.cause);n.push({message:r.cause.message,source:t,type:o?.name,stack:o&&ye(o)}),r=r.cause}return n.length?n:void 0}a();c();a();c();function Ae(e){return{...e}}function ze(e,t){return Object.keys(e).some(r=>e[r]===t)}function Z(e){return Object.keys(e).length===0}function Vo(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n]);return r}var qe;(function(e){e.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",e.MISSING_URL_CONTEXT_TELEMETRY="missing_url_context_telemetry"})(qe||(qe={}));var mn=new Set;function gn(e){Array.isArray(e)&&Fo(e.filter(t=>ze(qe,t)))}function Fo(e){e.forEach(t=>{mn.add(t)})}function nr(e){return mn.has(e)}function En(){return mn}a();c();a();c();a();c();function or(e,t){return(...r)=>{try{return e(...r)}catch(n){I.error(t,n)}}}a();c();a();c();function de(e){return e!==0&&Math.random()*100<=e}function Xe(e,t){return+e.toFixed(t)}function Bo(e){return Oe(e)&&e>=0&&e<=100}function Oe(e){return typeof e=="number"}var P=1e3,V=60*P,bn=60*V,oc=24*bn,yn=365*oc;function We(e){return{relative:e,timeStamp:ic(e)}}function $o(e){return{relative:Ct(e),timeStamp:e}}function ic(e){let t=q()-performance.now();return t>At()?Math.round(De(t,e)):sc(e)}function Ho(){return Math.round(q()-De(At(),performance.now()))}function v(e){return Oe(e)?Xe(e*1e6,0):e}function q(){return new Date().getTime()}function F(){return q()}function H(){return performance.now()}function D(){return{relative:H(),timeStamp:F()}}function ir(){return{relative:0,timeStamp:At()}}function L(e,t){return t-e}function De(e,t){return e+t}function Ct(e){return e-At()}function sc(e){return Math.round(De(At(),e))}function Go(e){return e<yn}var Sn;function At(){return Sn===void 0&&(Sn=performance.timing.navigationStart),Sn}a();c();a();c();var x=class{constructor(t){this.onFirstSubscribe=t,this.observers=[]}subscribe(t){return this.observers.push(t),this.observers.length===1&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),{unsubscribe:()=>{this.observers=this.observers.filter(r=>t!==r),!this.observers.length&&this.onLastUnsubscribe&&this.onLastUnsubscribe()}}}notify(t){this.observers.forEach(r=>r(t))}};function sr(...e){return new x(t=>{let r=e.map(n=>n.subscribe(o=>t.notify(o)));return()=>r.forEach(n=>n.unsubscribe())})}a();c();function k(e){return e?(parseInt(e,10)^Math.random()*16>>parseInt(e,10)/4).toString(16):`10000000-1000-4000-8000-${1e11}`.replace(/[018]/g,k)}var ar=/([\w-]+)\s*=\s*([^;]+)/g;function Ue(e,t){for(ar.lastIndex=0;;){let r=ar.exec(e);if(r){if(r[1]===t)return r[2]}else break}}function jo(e){let t=new Map;for(ar.lastIndex=0;;){let r=ar.exec(e);if(r)t.set(r[1],r[2]);else break}return t}function cr(e,t,r=""){let n=e.charCodeAt(t-1),i=n>=55296&&n<=56319?t+1:t;return e.length<=i?e:`${e.slice(0,i)}${r}`}a();c();a();c();function Ko(){return Yo()===0}function Af(){return Yo()===1}var ur;function Yo(){return ur??(ur=ac())}function ac(e=self){var t;let r=e.navigator.userAgent;return e.chrome||/HeadlessChrome/.test(r)?0:((t=e.navigator.vendor)===null||t===void 0?void 0:t.indexOf("Apple"))===0||/safari/i.test(r)&&!/chrome|android/i.test(r)?1:2}a();c();function Je(e,t,r=0,n){let o=new Date;o.setTime(o.getTime()+r);let i=`expires=${o.toUTCString()}`,s=n&&n.crossSite?"none":"strict",u=n&&n.domain?`;domain=${n.domain}`:"",l=n&&n.secure?";secure":"",d=n&&n.partitioned?";partitioned":"";document.cookie=`${e}=${t};${i};path=/;samesite=${s}${u}${l}${d}`}function Ot(e){return Ue(document.cookie,e)}var _n;function ce(e){return _n||(_n=jo(document.cookie)),_n.get(e)}function Tn(e,t){Je(e,"",0,t)}function hn(e){if(document.cookie===void 0||document.cookie===null)return!1;try{let t=`dd_cookie_test_${k()}`,r="test";Je(t,r,V,e);let n=Ot(t)===r;return Tn(t,e),n}catch(t){return I.error(t),!1}}var xn;function zo(){if(xn===void 0){let e=`dd_site_test_${k()}`,t="test",r=self.location.hostname.split("."),n=r.pop();for(;r.length&&!Ot(e);)n=`${r.pop()}.${n}`,Je(e,t,P,{domain:n});Tn(e,{domain:n}),xn=n}return xn}a();c();a();c();var Re="_dd_s";a();c();a();c();function qo(e,t){for(let r=e.length-1;r>=0;r-=1){let n=e[r];if(t(n,r,e))return n}}function lr(e){return Object.values(e)}function pt(e){return Object.entries(e)}a();c();var J=4*bn,dr=15*V,Xo=yn,we={COOKIE:"cookie",LOCAL_STORAGE:"local-storage"};a();c();var vn=/^([a-zA-Z]+)=([a-z0-9-]+)$/,pr="&";function Wo(e){return!!e&&(e.indexOf(pr)!==-1||vn.test(e))}var cc="1";function _e(e,t){let r={isExpired:cc};return t.trackAnonymousUser&&(e?.anonymousId?r.anonymousId=e?.anonymousId:r.anonymousId=k()),r}function Rt(e){return Z(e)}function fr(e){return!Rt(e)}function ft(e){return e.isExpired!==void 0||!uc(e)}function uc(e){return(e.created===void 0||q()-Number(e.created)<J)&&(e.expire===void 0||q()<Number(e.expire))}function mr(e){e.expire=String(q()+dr)}function wt(e){return pt(e).map(([t,r])=>t==="anonymousId"?`aid=${r}`:`${t}=${r}`).join(pr)}function gr(e){let t={};return Wo(e)&&e.split(pr).forEach(r=>{let n=vn.exec(r);if(n!==null){let[,o,i]=n;o==="aid"?t.anonymousId=i:t[o]=i}}),t}var lc="_dd",dc="_dd_r",pc="_dd_l",fc="rum",mc="logs";function Jo(e){if(!ce(Re)){let r=ce(lc),n=ce(dc),o=ce(pc),i={};r&&(i.id=r),o&&/^[01]$/.test(o)&&(i[mc]=o),n&&/^[012]$/.test(n)&&(i[fc]=n),fr(i)&&(mr(i),e.persistSession(i))}}function In(e){let t=bc(e);return hn(t)?{type:we.COOKIE,cookieOptions:t}:void 0}function Zo(e,t){let r={isLockEnabled:Ko(),persistSession:gc(t),retrieveSession:Sc,expireSession:n=>Ec(t,n,e)};return Jo(r),r}function gc(e){return t=>{Je(Re,wt(t),dr,e)}}function Ec(e,t,r){let n=_e(t,r);Je(Re,wt(n),r.trackAnonymousUser?Xo:J,e)}function Sc(){let e=Ot(Re);return gr(e)}function bc(e){let t={};return t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=zo()),t}a();c();var yc="_dd_test_";function Cn(){try{let e=k(),t=`${yc}${e}`;localStorage.setItem(t,e);let r=localStorage.getItem(t);return localStorage.removeItem(t),e===r?{type:we.LOCAL_STORAGE}:void 0}catch{return}}function Qo(e){return{isLockEnabled:!1,persistSession:ei,retrieveSession:_c,expireSession:t=>xc(t,e)}}function ei(e){localStorage.setItem(Re,wt(e))}function _c(){let e=localStorage.getItem(Re);return gr(e)}function xc(e,t){ei(_e(e,t))}a();c();var Tc=10,hc=100,ri=[],Sr;function Pe(e,t,r=0){var n;let{isLockEnabled:o,persistSession:i,expireSession:s}=t,u=S=>i({...S,lock:d}),l=()=>{let S=t.retrieveSession(),E=S.lock;return S.lock&&delete S.lock,{session:S,lock:E}};if(Sr||(Sr=e),e!==Sr){ri.push(e);return}if(o&&r>=hc){ti(t);return}let d,p=l();if(o){if(p.lock){Er(e,t,r);return}if(d=k(),u(p.session),p=l(),p.lock!==d){Er(e,t,r);return}}let g=e.process(p.session);if(o&&(p=l(),p.lock!==d)){Er(e,t,r);return}if(g&&(ft(g)?s(g):(mr(g),o?u(g):i(g))),o&&!(g&&ft(g))){if(p=l(),p.lock!==d){Er(e,t,r);return}i(p.session),g=p.session}(n=e.after)===null||n===void 0||n.call(e,g||p.session),ti(t)}function Er(e,t,r){M(()=>{Pe(e,t,r+1)},Tc)}function ti(e){Sr=void 0;let t=ri.shift();t&&Pe(t,e)}var ni=P;function oi(e){switch(e.sessionPersistence){case we.COOKIE:return In(e);case we.LOCAL_STORAGE:return Cn();case void 0:{let t=In(e);return!t&&e.allowFallbackToLocalStorage&&(t=Cn()),t}default:I.error(`Invalid session persistence '${String(e.sessionPersistence)}'`)}}function ii(e,t,r,n){let o=new x,i=new x,s=new x,u=e.type===we.COOKIE?Zo(t,e.cookieOptions):Qo(t),{expireSession:l}=u,d=ae(m,ni),p;T();let{throttled:g,cancel:S}=be(()=>{Pe({process:C=>{if(Rt(C))return;let fe=b(C);return y(fe),fe},after:C=>{fr(C)&&!h()&&$(C),p=C}},u)},ni);function E(){Pe({process:C=>h()?b(C):void 0},u)}function m(){Pe({process:C=>ft(C)?_e(C,t):void 0,after:b},u)}function b(C){return ft(C)&&(C=_e(C,t)),h()&&(A(C)?Y():(s.notify({previousState:p,newState:C}),p=C)),C}function T(){Pe({process:C=>{if(Rt(C))return _e(C,t)},after:C=>{p=C}},u)}function y(C){if(Rt(C))return!1;let{trackingType:fe,isTracked:ct}=n(C[r]);C[r]=fe,delete C.isExpired,ct&&!C.id&&(C.id=k(),C.created=String(q()))}function h(){return p[r]!==void 0}function A(C){return p.id!==C.id||p[r]!==C[r]}function Y(){p=_e(p,t),i.notify()}function $(C){p=C,o.notify()}function Ce(C){Pe({process:fe=>({...fe,...C}),after:b},u)}return{expandOrRenewSession:g,expandSession:E,getSession:()=>p,renewObservable:o,expireObservable:i,sessionStateUpdateObservable:s,restartSession:T,expire:()=>{S(),l(p),b(_e(p,t))},stop:()=>{Se(d)},updateSessionState:Ce}}a();c();var Nt={GRANTED:"granted",NOT_GRANTED:"not-granted"};function An(e){let t=new x;return{tryToInit(r){e||(e=r)},update(r){e=r,t.notify()},isGranted(){return e===Nt.GRANTED},observable:t}}a();c();a();c();a();c();function mt(e){return On(e,location.href).href}function ai(e){try{return!!On(e)}catch{return!1}}function ci(e){let t=On(e).pathname;return t[0]==="/"?t:`/${t}`}function On(e,t){let r=vc();if(r)try{return t!==void 0?new r(e,t):new r(e)}catch(i){throw new Error(`Failed to construct URL: ${String(i)} ${ee({url:e,base:t})}`)}if(t===void 0&&!/:/.test(e))throw new Error(`Invalid URL: '${e}'`);let n=document,o=n.createElement("a");if(t!==void 0){n=document.implementation.createHTMLDocument("");let i=n.createElement("base");i.href=t,n.head.appendChild(i),n.body.appendChild(o)}return o.href=e,o}var si=URL,br;function vc(){if(br===void 0)try{br=new si("http://test/path").href==="http://test/path"}catch{br=!1}return br?si:void 0}a();c();var kt="datad0g.com",ui="dd0g-gov.com",pe="datadoghq.com",Rn="datadoghq.eu",wn="ddog-gov.com",li="pci.browser-intake-datadoghq.com",Nn=["ddsource","ddtags"];function Ze(e,t,r){let n=Ic(e,t);return{build(o,i){let s=Cc(e,t,r,o,i);return n(s)},urlPrefix:n(""),trackType:t}}function Ic(e,t){let r=`/api/v2/${t}`,n=e.proxy;if(typeof n=="string"){let i=mt(n);return s=>`${i}?ddforward=${encodeURIComponent(`${r}?${s}`)}`}if(typeof n=="function")return i=>n({path:r,parameters:i});let o=Lt(t,e);return i=>`https://${o}${r}?${i}`}function Lt(e,t){let{site:r=pe,internalAnalyticsSubdomain:n}=t;if(e==="logs"&&t.usePciIntake&&r===pe)return li;if(n&&r===pe)return`${n}.${pe}`;if(r===ui)return`http-intake.logs.${r}`;let o=r.split("."),i=o.pop();return`browser-intake-${o.join("-")}.${i}`}function Cc({clientToken:e,internalAnalyticsSubdomain:t},r,n,o,{retry:i,encoding:s}){let u=["sdk_version:6.5.0",`api:${o}`].concat(n);i&&u.push(`retry_count:${i.count}`,`retry_after:${i.lastFailureStatus}`);let l=["ddsource=browser",`ddtags=${encodeURIComponent(u.join(","))}`,`dd-api-key=${e}`,`dd-evp-origin-version=${encodeURIComponent("6.5.0")}`,"dd-evp-origin=browser",`dd-request-id=${k()}`];return s&&l.push(`dd-evp-encoding=${s}`),r==="rum"&&l.push(`batch_time=${F()}`),t&&l.reverse(),l.join("&")}a();c();var Ac=200;function di(e){let{env:t,service:r,version:n,datacenter:o}=e,i=[];return t&&i.push(yr("env",t)),r&&i.push(yr("service",r)),n&&i.push(yr("version",n)),o&&i.push(yr("datacenter",o)),i}function yr(e,t){let r=Ac-e.length-1;(t.length>r||Oc(t))&&I.warn(`${e} value doesn't meet tag requirements and will be sanitized. ${Me} ${ht}/getting_started/tagging/#defining-tags`);let n=t.replace(/,/g,"_");return`${e}:${n}`}function Oc(e){return Rc()?new RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(e):!1}function Rc(){try{return new RegExp("[\\p{Ll}]","u"),!0}catch{return!1}}function kn(e){let t=e.site||pe,r=di(e),n=wc(e,r);return{replica:Nc(e,r),site:t,...n}}function wc(e,t){return{logsEndpointBuilder:Ze(e,"logs",t),rumEndpointBuilder:Ze(e,"rum",t),sessionReplayEndpointBuilder:Ze(e,"replay",t)}}function Nc(e,t){if(!e.replica)return;let r={...e,site:pe,clientToken:e.replica.clientToken},n={logsEndpointBuilder:Ze(r,"logs",t),rumEndpointBuilder:Ze(r,"rum",t)};return{applicationId:e.replica.applicationId,...n}}function _r(e){return Nn.every(t=>e.includes(t))}var ke={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"},Qe={ALL:"all",SAMPLED:"sampled"};function Ln(e,t){return e!=null&&typeof e!="string"?(I.error(`${t} must be defined as a string`),!1):!0}function kc(e){return e&&typeof e=="string"&&!/(datadog|ddog|datad0g|dd0g)/.test(e)?(I.error(`Site should be a valid Datadog site. ${Me} ${ht}/getting_started/site/.`),!1):!0}function Ne(e,t){return e!==void 0&&!Bo(e)?(I.error(`${t} Sample Rate should be a number between 0 and 100`),!1):!0}function xr(e){var t,r,n,o,i,s;if(!e||!e.clientToken){I.error("Client Token is not configured, we will not send any data.");return}if(!(!kc(e.site)||!Ne(e.sessionSampleRate,"Session")||!Ne(e.telemetrySampleRate,"Telemetry")||!Ne(e.telemetryConfigurationSampleRate,"Telemetry Configuration")||!Ne(e.telemetryUsageSampleRate,"Telemetry Usage")||!Ln(e.version,"Version")||!Ln(e.env,"Env")||!Ln(e.service,"Service"))){if(e.trackingConsent!==void 0&&!ze(Nt,e.trackingConsent)){I.error('Tracking Consent should be either "granted" or "not-granted"');return}return{beforeSend:e.beforeSend&&or(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:oi(e),sessionSampleRate:(t=e.sessionSampleRate)!==null&&t!==void 0?t:100,telemetrySampleRate:(r=e.telemetrySampleRate)!==null&&r!==void 0?r:20,telemetryConfigurationSampleRate:(n=e.telemetryConfigurationSampleRate)!==null&&n!==void 0?n:5,telemetryUsageSampleRate:(o=e.telemetryUsageSampleRate)!==null&&o!==void 0?o:5,service:e.service||void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:(i=e.trackingConsent)!==null&&i!==void 0?i:Nt.GRANTED,trackAnonymousUser:(s=e.trackAnonymousUser)!==null&&s!==void 0?s:!0,storeContextsAcrossPages:!!e.storeContextsAcrossPages,batchBytesLimit:16*1024,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*P,batchMessagesLimit:50,messageBytesLimit:256*1024,...kn(e)}}}function Tr(e){return{session_sample_rate:e.sessionSampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:e.telemetryUsageSampleRate,use_before_send:!!e.beforeSend,use_partitioned_cross_site_session_cookie:e.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:!!e.proxy,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,track_anonymous_user:e.trackAnonymousUser,session_persistence:e.sessionPersistence,allow_fallback_to_local_storage:!!e.allowFallbackToLocalStorage,store_contexts_across_pages:!!e.storeContextsAcrossPages,allow_untrusted_events:!!e.allowUntrustedEvents,tracking_consent:e.trackingConsent}}a();c();function Mt(e,t){let r=self.__ddBrowserSdkExtensionCallback;r&&r({type:e,payload:t})}a();c();a();c();function re(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function hr(e,t,r=Lc()){if(t===void 0)return e;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){let o=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,o)}if(r.hasAlreadyBeenSeen(t))return;if(Array.isArray(t)){let o=Array.isArray(e)?e:[];for(let i=0;i<t.length;++i)o[i]=hr(o[i],t[i],r);return o}let n=re(e)==="object"?e:{};for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=hr(n[o],t[o],r));return n}function gt(e){return hr(void 0,e)}function G(...e){let t;for(let r of e)r!=null&&(t=hr(t,r));return t}function Lc(){if(typeof WeakSet<"u"){let t=new WeakSet;return{hasAlreadyBeenSeen(r){let n=t.has(r);return n||t.add(r),n}}}let e=[];return{hasAlreadyBeenSeen(t){let r=e.indexOf(t)>=0;return r||e.push(t),r}}}a();c();function vr(){var e;let t=self.navigator;return{status:t.onLine?"connected":"not_connected",interfaces:t.connection&&t.connection.type?[t.connection.type]:void 0,effective_type:(e=t.connection)===null||e===void 0?void 0:e.effectiveType}}a();c();a();c();function Zg(e){let t=new Set;return e.forEach(r=>t.add(r)),Array.from(t)}function Ir(e,t){let r=e.indexOf(t);r>=0&&e.splice(r,1)}var Mc=500;function Dt(){let e=[];return{add:o=>{e.push(o)>Mc&&e.splice(0,1)},remove:o=>{Ir(e,o)},drain:o=>{e.forEach(i=>i(o)),e.length=0}}}a();c();var Ve={log:"log",configuration:"configuration",usage:"usage"};var Dc=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],Uc=[wn],pi=Dt(),Et=e=>{pi.add(()=>Et(e))};function Cr(e,t){let r,n=new x,o=new Set,i=!Uc.includes(t.site)&&de(t.telemetrySampleRate),s={[Ve.log]:i,[Ve.configuration]:i&&de(t.telemetryConfigurationSampleRate),[Ve.usage]:i&&de(t.telemetryUsageSampleRate)},u=Pc();Et=d=>{let p=ee(d);if(s[d.type]&&o.size<t.maxTelemetryEventsPerPage&&!o.has(p)){let g=l(e,d,u);n.notify(g),Mt("telemetry",g),o.add(p)}},Mo(Ut);function l(d,p,g){return G({type:"telemetry",date:F(),service:d,version:"6.5.0",source:"browser",_dd:{format_version:2},telemetry:G(p,{runtime_env:g,connectivity:vr(),sdk_setup:"npm"}),experimental_features:Array.from(En())},r!==void 0?r():{})}return{setContextProvider:d=>{r=d},observable:n,enabled:i}}function Pc(){return{is_local_file:self.location.protocol==="file:",is_worker:"WorkerGlobalScope"in self}}function Ar(){pi.drain()}function Or(e){return e.site===kt}function xe(e,t){tr(Ge.debug,e,t),Et({type:Ve.log,message:e,status:"debug",...t})}function Ut(e,t){Et({type:Ve.log,status:"error",...Vc(e),...t})}function Rr(e){Et({type:Ve.configuration,configuration:e})}function B(e){Et({type:Ve.usage,usage:e})}function Vc(e){if(te(e)){let t=W(e);return{error:{kind:t.name,stack:ye(Fc(t))},message:t.message}}return{error:{stack:rr},message:`Uncaught ${ee(e)}`}}function Fc(e){return e.stack=e.stack.filter(t=>!t.url||Dc.some(r=>t.url.startsWith(r))),e}a();c();a();c();a();c();function R(e,t,r,n,o){return Q(e,t,[r],n,o)}function Q(e,t,r,n,{once:o,capture:i,passive:s}={}){let u=_(S=>{!S.isTrusted&&!S.__ddIsTrusted&&!e.allowUntrustedEvents||(o&&g(),n(S))}),l=s?{capture:i,passive:s}:i,d=self.EventTarget&&t instanceof EventTarget?self.EventTarget.prototype:t,p=ie(d,"addEventListener");r.forEach(S=>p.call(t,S,u,l));function g(){let S=ie(d,"removeEventListener");r.forEach(E=>S.call(t,E,u,l))}return{stop:g}}a();c();a();c();function fi(e){return e>=500}function mi(e){try{return e.clone()}catch{return}}a();c();var ne={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};var Gc=80*1024,jc=32,gi=3*1048576,Kc=V,Ei=P;function Mn(e,t,r,n,o){t.transportStatus===0&&t.queuedPayloads.size()===0&&t.bandwidthMonitor.canHandle(e)?bi(e,t,r,{onSuccess:()=>yi(0,t,r,n,o),onFailure:()=>{t.queuedPayloads.enqueue(e),Si(t,r,n,o)}}):t.queuedPayloads.enqueue(e)}function Si(e,t,r,n){e.transportStatus===2&&M(()=>{let o=e.queuedPayloads.first();bi(o,e,t,{onSuccess:()=>{e.queuedPayloads.dequeue(),e.currentBackoffTime=Ei,yi(1,e,t,r,n)},onFailure:()=>{e.currentBackoffTime=Math.min(Kc,e.currentBackoffTime*2),Si(e,t,r,n)}})},e.currentBackoffTime)}function bi(e,t,r,{onSuccess:n,onFailure:o}){t.bandwidthMonitor.add(e),r(e,i=>{t.bandwidthMonitor.remove(e),Yc(i)?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:i.status},o()):(t.transportStatus=0,n())})}function yi(e,t,r,n,o){e===0&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(o({message:`Reached max ${n} events size queued for upload: ${gi/1048576}MiB`,source:ne.AGENT,startClocks:D()}),t.queueFullReported=!0);let i=t.queuedPayloads;for(t.queuedPayloads=xi();i.size()>0;)Mn(i.dequeue(),t,r,n,o)}function Yc(e){return e.type!=="opaque"&&(e.status===0&&!navigator.onLine||e.status===408||e.status===429||fi(e.status))}function _i(){return{transportStatus:0,currentBackoffTime:Ei,bandwidthMonitor:zc(),queuedPayloads:xi(),queueFullReported:!1}}function xi(){let e=[];return{bytesCount:0,enqueue(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first(){return e[0]},dequeue(){let t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size(){return e.length},isFull(){return this.bytesCount>=gi}}}function zc(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle(e){return this.ongoingRequestCount===0||this.ongoingByteCount+e.bytesCount<=Gc&&this.ongoingRequestCount<jc},add(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}}}function wr(e,t,r){let n=_i(),o=(i,s)=>Wc(e,t,i,s);return{send:i=>{Mn(i,n,o,e.trackType,r)},sendOnExit:i=>{qc(e,t,i)}}}function qc(e,t,r){if(!!navigator.sendBeacon&&r.bytesCount<t)try{let i=e.build("beacon",r);if(navigator.sendBeacon(i,r.data))return}catch(i){Xc(i)}let o=e.build("xhr",r);Dn(o,r.data)}var Ti=!1;function Xc(e){Ti||(Ti=!0,Ut(e))}function Wc(e,t,r,n){if(Jc()&&r.bytesCount<t){let i=e.build("fetch",r);fetch(i,{method:"POST",body:r.data,keepalive:!0,mode:"cors"}).then(_(s=>n?.({status:s.status,type:s.type})),_(()=>{let s=e.build("xhr",r);Dn(s,r.data,n)}))}else{let i=e.build("xhr",r);Dn(i,r.data,n)}}function Jc(){try{return self.Request&&"keepalive"in new Request("http://a")}catch{return!1}}function Dn(e,t,r){let n=new XMLHttpRequest;n.open("POST",e,!0),t instanceof Blob&&n.setRequestHeader("Content-Type",t.type),R({allowUntrustedEvents:!0},n,"loadend",()=>{r?.({status:n.status})},{once:!0}),n.send(t)}a();c();function Te(){let e=Zc();if(e)return{getCapabilities(){var t;return JSON.parse(((t=e.getCapabilities)===null||t===void 0?void 0:t.call(e))||"[]")},getPrivacyLevel(){var t;return(t=e.getPrivacyLevel)===null||t===void 0?void 0:t.call(e)},getAllowedWebViewHosts(){return JSON.parse(e.getAllowedWebViewHosts())},send(t,r,n){let o=n?{id:n}:void 0;e.send(JSON.stringify({eventType:t,event:r,view:o}))}}}function Nr(e){let t=Te();return!!t&&t.getCapabilities().includes(e)}function he(e){var t;e===void 0&&(e=(t=Ee().location)===null||t===void 0?void 0:t.hostname);let r=Te();return!!r&&r.getAllowedWebViewHosts().some(n=>e===n||e.endsWith(`.${n}`))}function Zc(){return Ee().DatadogEventBridge}a();c();a();c();a();c();a();c();var et={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function Un(e){return new x(t=>{let{stop:r}=Q(e,self,["visibilitychange","freeze"],o=>{o.type==="visibilitychange"&&document.visibilityState==="hidden"?t.notify({reason:et.HIDDEN}):o.type==="freeze"&&t.notify({reason:et.FROZEN})},{capture:!0}),n=R(e,self,"beforeunload",()=>{t.notify({reason:et.UNLOADING})}).stop;return()=>{r(),n()}})}function Pn(e){return lr(et).includes(e)}function vi({encoder:e,request:t,flushController:r,messageBytesLimit:n}){let o={},i=r.flushObservable.subscribe(g=>p(g));function s(g,S,E){r.notifyBeforeAddMessage(S),E!==void 0?(o[E]=g,r.notifyAfterAddMessage()):e.write(e.isEmpty?g:`
${g}`,m=>{r.notifyAfterAddMessage(m-S)})}function u(g){return g!==void 0&&o[g]!==void 0}function l(g){let S=o[g];delete o[g];let E=e.estimateEncodedBytesCount(S);r.notifyAfterRemoveMessage(E)}function d(g,S){let E=ee(g),m=e.estimateEncodedBytesCount(E);if(m>=n){I.warn(`Discarded a message whose size was bigger than the maximum allowed size ${n}KB. ${Me} ${Qt}/#technical-limitations`);return}u(S)&&l(S),s(E,m,S)}function p(g){let S=lr(o).join(`
`);o={};let E=Pn(g.reason),m=E?t.sendOnExit:t.send;if(E&&e.isAsync){let b=e.finishSync();b.outputBytesCount&&m(hi(b));let T=[b.pendingData,S].filter(Boolean).join(`
`);T&&m({data:T,bytesCount:lt(T)})}else S&&e.write(e.isEmpty?S:`
${S}`),e.finish(b=>{m(hi(b))})}return{flushController:r,add:d,upsert:d,stop:i.unsubscribe}}function hi(e){let t;return typeof e.output=="string"?t=e.output:t=new Blob([e.output],{type:"text/plain"}),{data:t,bytesCount:e.outputBytesCount,encoding:e.encoding}}a();c();function Vn({messagesLimit:e,bytesLimit:t,durationLimit:r,pageExitObservable:n,sessionExpireObservable:o}){let i=n.subscribe(m=>p(m.reason)),s=o.subscribe(()=>p("session_expire")),u=new x(()=>()=>{i.unsubscribe(),s.unsubscribe()}),l=0,d=0;function p(m){if(d===0)return;let b=d,T=l;d=0,l=0,E(),u.notify({reason:m,messagesCount:b,bytesCount:T})}let g;function S(){g===void 0&&(g=M(()=>{p("duration_limit")},r))}function E(){j(g),g=void 0}return{flushObservable:u,get messagesCount(){return d},notifyBeforeAddMessage(m){l+m>=t&&p("bytes_limit"),d+=1,l+=m,S()},notifyAfterAddMessage(m=0){l+=m,d>=e?p("messages_limit"):l>=t&&p("bytes_limit")},notifyAfterRemoveMessage(m){l-=m,d-=1,d===0&&E()}}}function kr(e,t,r,n,o,i,s=vi){let u=d(e,t),l=r&&d(e,r);function d(p,{endpoint:g,encoder:S}){return s({encoder:S,request:wr(g,p.batchBytesLimit,n),flushController:Vn({messagesLimit:p.batchMessagesLimit,bytesLimit:p.batchBytesLimit,durationLimit:p.flushTimeout,pageExitObservable:o,sessionExpireObservable:i}),messageBytesLimit:p.messageBytesLimit})}return{flushObservable:u.flushController.flushObservable,add(p,g=!0){u.add(p),l&&g&&l.add(r.transformMessage?r.transformMessage(p):p)},upsert:(p,g)=>{u.upsert(p,g),l&&l.upsert(r.transformMessage?r.transformMessage(p):p,g)},stop:()=>{u.stop(),l&&l.stop()}}}a();c();a();c();a();c();function X(e,t,r,{computeHandlingStack:n}={}){let o=e[t];if(typeof o!="function")if(t in e&&t.startsWith("on"))o=w;else return{stop:w};let i=!1,s=function(){if(i)return o.apply(this,arguments);let u=Array.from(arguments),l;se(r,null,[{target:this,parameters:u,onPostCall:p=>{l=p},handlingStack:n?Ye("instrumented method"):void 0}]);let d=o.apply(this,u);return l&&se(l,null,[d]),d};return e[t]=s,{stop:()=>{i=!0,e[t]===s&&(e[t]=o)}}}function Qc(e,t,r){let n=Object.getOwnPropertyDescriptor(e,t);if(!n||!n.set||!n.configurable)return{stop:w};let o=w,i=(u,l)=>{M(()=>{i!==o&&r(u,l)},0)},s=function(u){n.set.call(this,u),i(this,u)};return Object.defineProperty(e,t,{set:s}),{stop:()=>{var u;((u=Object.getOwnPropertyDescriptor(e,t))===null||u===void 0?void 0:u.set)===s&&Object.defineProperty(e,t,n),i=o}}}function Fn(e){let t=(o,i)=>{let s=It({stackTrace:o,originalError:i,startClocks:D(),nonErrorPrefix:"Uncaught",source:ne.SOURCE,handling:"unhandled"});e.notify(s)},{stop:r}=eu(t),{stop:n}=tu(t);return{stop:()=>{r(),n()}}}function eu(e){return X(self,"onerror",({parameters:[t,r,n,o,i]})=>{let s;te(i)?s=W(i):s=Po(t,r,n,o),e(s,i??t)})}function tu(e){return X(self,"onunhandledrejection",({parameters:[t]})=>{let r=t.reason||"Empty reason",n=W(r);e(n,r)})}a();c();function Bn(e){let t={version:"6.5.0",onReady(r){r()},...e};return Object.defineProperty(t,"_setDebug",{get(){return on},enumerable:!1}),t}function ru(e,t,r){let n=e[t];n&&!n.q&&n.version&&I.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),e[t]=r,n&&n.q&&n.q.forEach(o=>or(o,"onReady callback threw an error:")())}a();c();function Pt(e,t){t.silentMultipleInit||I.error(`${e} is already initialized.`)}a();c();var tt={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function $n(e,t){let r=[];t.includes(tt.cspViolation)&&r.push(ou(e));let n=t.filter(o=>o!==tt.cspViolation);return n.length&&r.push(nu(n)),sr(...r)}function nu(e){return new x(t=>{if(!self.ReportingObserver)return;let r=_((o,i)=>o.forEach(s=>t.notify(iu(s)))),n=new self.ReportingObserver(r,{types:e,buffered:!0});return n.observe(),()=>{n.disconnect()}})}function ou(e){return new x(t=>{let{stop:r}=R(e,document,"securitypolicyviolation",n=>{t.notify(su(n))});return r})}function iu(e){let{type:t,body:r}=e;return Ii({type:r.id,message:`${t}: ${r.message}`,originalError:e,stack:Ci(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)})}function su(e){let t=`'${e.blockedURI}' blocked by '${e.effectiveDirective}' directive`;return Ii({type:e.effectiveDirective,message:`${tt.cspViolation}: ${t}`,originalError:e,csp:{disposition:e.disposition},stack:Ci(e.effectiveDirective,e.originalPolicy?`${t} of the policy "${cr(e.originalPolicy,100,"...")}"`:"no policy",e.sourceFile,e.lineNumber,e.columnNumber)})}function Ii(e){return{startClocks:D(),source:ne.REPORT,handling:"unhandled",...e}}function Ci(e,t,r,n,o){return r?ye({name:e,message:t,stack:[{func:"?",url:r,line:n??void 0,column:o??void 0}]}):void 0}a();c();a();c();var Vt=1/0,Ai=V,Ft=null,Lr=new Set;function au(){Lr.forEach(e=>e())}function oe({expireDelay:e,maxEntries:t}){let r=[],n=[];Ft||(Ft=ae(()=>au(),Ai));let o=()=>{let E=H()-e;for(;r.length>0&&r[r.length-1].endTime<E;){let m=r.pop();m&&n.push(m.startTime)}};Lr.add(o);function i(E,m){let b={value:E,startTime:m,endTime:Vt,remove:()=>{Ir(r,b)},close:T=>{b.endTime=T}};return t&&r.length>=t&&r.pop(),r.unshift(b),b}function s(E=Vt,m={returnInactive:!1}){for(let b of r)if(b.startTime<=E){if(m.returnInactive||E<=b.endTime)return b.value;break}}function u(E){let m=r[0];m&&m.endTime===Vt&&m.close(E)}function l(E=Vt,m=0){let b=De(E,m);return r.filter(T=>T.startTime<=b&&E<=T.endTime).map(T=>T.value)}function d(){return r.map(({startTime:E,endTime:m,value:b})=>({startTime:E,endTime:m===Vt?"Infinity":m,value:b}))}function p(){return n}function g(){r=[]}function S(){Lr.delete(o),Lr.size===0&&Ft&&(Se(Ft),Ft=null)}return{add:i,find:s,closeActive:u,findAll:l,reset:g,stop:S,getAllEntries:d,getDeletedEntries:p}}var cu=V,uu=J,St=[];function Hn(e,t,r,n){let o=new x,i=new x,s=ii(e.sessionStoreStrategyType,e,t,r);St.push(()=>s.stop());let u=oe({expireDelay:uu});St.push(()=>u.stop()),s.renewObservable.subscribe(()=>{u.add(l(),H()),o.notify()}),s.expireObservable.subscribe(()=>{i.notify(),u.closeActive(H())}),s.expandOrRenewSession(),u.add(l(),ir().relative),n.observable.subscribe(()=>{n.isGranted()?s.expandOrRenewSession():s.expire()}),lu(e,()=>{n.isGranted()&&s.expandOrRenewSession()}),du(e,()=>s.expandSession()),pu(e,()=>s.restartSession());function l(){return{id:s.getSession().id,trackingType:s.getSession()[t],isReplayForced:!!s.getSession().forcedReplay,anonymousId:s.getSession().anonymousId}}return{findSession:(d,p)=>u.find(d,p),renewObservable:o,expireObservable:i,sessionStateUpdateObservable:s.sessionStateUpdateObservable,expire:s.expire,updateSessionState:s.updateSessionState}}function lu(e,t){let{stop:r}=Q(e,self,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0});St.push(r)}function du(e,t){let r=()=>{document.visibilityState==="visible"&&t()},{stop:n}=R(e,document,"visibilitychange",r);St.push(n);let o=ae(r,cu);St.push(()=>{Se(o)})}function pu(e,t){let{stop:r}=R(e,self,"resume",t,{capture:!0});St.push(r)}a();c();function Gn(){let e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write(r,n){let o=lt(r);t+=o,e+=r,n&&n(o)},finish(r){r(this.finishSync())},finishSync(){let r={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,r},estimateEncodedBytesCount(r){return r.length}}}a();c();var Bt=class{constructor(){this.callbacks={}}notify(t,r){let n=this.callbacks[t];n&&n.forEach(o=>o(r))}subscribe(t,r){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(r),{unsubscribe:()=>{this.callbacks[t]=this.callbacks[t].filter(n=>r!==n)}}}};a();c();function Mr(e,t,r){let n=0,o=!1;return{isLimitReached(){if(n===0&&M(()=>{n=0},V),n+=1,n<=t||o)return o=!1,!1;if(n===t+1){o=!0;try{r({message:`Reached max number of ${e}s by minute: ${t}`,source:ne.AGENT,startClocks:D()})}finally{o=!1}}return!0}}}a();c();function bt(e,t,r){return document.readyState===t||document.readyState==="complete"?(r(),{stop:w}):R(e,self,t==="complete"?"load":"DOMContentLoaded",r,{once:!0})}function fu(e,t){return new Promise(r=>{bt(e,t,r)})}a();c();var jn,Kn=new WeakMap;function Yn(e){return jn||(jn=mu(e)),jn}function mu(e){return new x(t=>{let{stop:r}=X(XMLHttpRequest.prototype,"open",gu),{stop:n}=X(XMLHttpRequest.prototype,"send",i=>{Eu(i,e,t)},{computeHandlingStack:!0}),{stop:o}=X(XMLHttpRequest.prototype,"abort",Su);return()=>{r(),n(),o()}})}function gu({target:e,parameters:[t,r]}){Kn.set(e,{state:"open",method:String(t).toUpperCase(),url:mt(String(r))})}function Eu({target:e,handlingStack:t},r,n){let o=Kn.get(e);if(!o)return;let i=o;i.state="start",i.startClocks=D(),i.isAborted=!1,i.xhr=e,i.handlingStack=t;let s=!1,{stop:u}=X(e,"onreadystatechange",()=>{e.readyState===XMLHttpRequest.DONE&&l()}),l=()=>{if(d(),u(),s)return;s=!0;let p=o;p.state="complete",p.duration=L(i.startClocks.timeStamp,F()),p.status=e.status,n.notify(Ae(p))},{stop:d}=R(r,e,"loadend",l);n.notify(i)}function Su({target:e}){let t=Kn.get(e);t&&(t.isAborted=!0)}a();c();var zn;function $t(){return zn||(zn=bu()),zn}function bu(){return new x(e=>{if(!self.fetch)return;let{stop:t}=X(self,"fetch",r=>yu(r,e),{computeHandlingStack:!0});return t})}function yu({parameters:e,onPostCall:t,handlingStack:r},n){let[o,i]=e,s=i&&i.method;s===void 0&&o instanceof Request&&(s=o.method);let u=s!==void 0?String(s).toUpperCase():"GET",l=o instanceof Request?o.url:mt(String(o)),d=D(),p={state:"start",init:i,input:o,method:u,startClocks:d,url:l,handlingStack:r};n.notify(p),e[0]=p.input,e[1]=p.init,t(g=>_u(n,g,p))}function _u(e,t,r){let n=r;function o(i){n.state="resolve",Object.assign(n,i),e.notify(n)}t.then(_(i=>{o({response:i,responseType:i.type,status:i.status,isAborted:!1})}),_(i=>{var s,u;o({status:0,isAborted:((u=(s=n.init)===null||s===void 0?void 0:s.signal)===null||u===void 0?void 0:u.aborted)||i instanceof DOMException&&i.code===DOMException.ABORT_ERR,error:i})}))}a();c();function qn(e,t){if(self.requestIdleCallback&&self.cancelIdleCallback){let r=self.requestIdleCallback(_(e),t);return()=>self.cancelIdleCallback(r)}return Tu(e)}var xu=50;function Tu(e){let t=q(),r=M(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,xu-(q()-t))})},0);return()=>j(r)}a();c();var hu=P,vu=30;function Oi(){let e=[];function t(n){let o;if(n.didTimeout){let i=performance.now();o=()=>vu-(performance.now()-i)}else o=n.timeRemaining.bind(n);for(;o()>0&&e.length;)e.shift()();e.length&&r()}function r(){qn(t,{timeout:hu})}return{push(n){e.push(n)===1&&r()}}}a();c();var Xn={};function Wn(e){let t=e.map(r=>(Xn[r]||(Xn[r]=Iu(r)),Xn[r]));return sr(...t)}function Iu(e){return new x(t=>{let r=ge[e];return ge[e]=(...n)=>{r.apply(console,n);let o=Ye("console error");se(()=>{t.notify(Cu(n,e,o))})},()=>{ge[e]=r}})}function Cu(e,t,r){let n=e.map(i=>Au(i)).join(" "),o;if(t===Ge.error){let i=e.find(te);o={stack:i?ye(W(i)):void 0,fingerprint:dn(i),causes:i?fn(i,"console"):void 0,startClocks:D(),message:n,source:ne.CONSOLE,handling:"handled",handlingStack:r,context:pn(i)}}return{api:t,message:n,error:o,handlingStack:r}}function Au(e){return typeof e=="string"?U(e):te(e)?ln(W(e)):ee(U(e),void 0,2)}a();c();a();c();function Ri(e){let t=re(e)==="object";return t||I.error("Unsupported context:",e),t}function Jn(e,t,r){let n={...e};for(let[o,{required:i,type:s}]of Object.entries(t))s==="string"&&o in n&&(n[o]=String(n[o])),i&&!(o in e)&&I.warn(`The property ${o} of ${r} is required; context will not be sent to the intake.`);return n}function rt(e="",{customerDataTracker:t,propertiesConfig:r={}}={}){let n={},o=new x,i={getContext:()=>gt(n),setContext:s=>{Ri(s)?(n=U(Jn(s,r,e)),t?.updateCustomerData(n)):i.clearContext(),o.notify()},setContextProperty:(s,u)=>{n=U(Jn({...n,[s]:u},r,e)),t?.updateCustomerData(n),o.notify()},removeContextProperty:s=>{delete n[s],t?.updateCustomerData(n),Jn(n,r,e),o.notify()},clearContext:()=>{n={},t?.resetCustomerData(),o.notify()},changeObservable:o};return i}a();c();var Ou="_dd_c",Ru=[];function Ht(e,t,r,n){let o=wu(r,n);Ru.push(R(e,self,"storage",({key:d})=>{o===d&&s()})),t.changeObservable.subscribe(u);let i=G(l(),t.getContext());Z(i)||t.setContext(i);function s(){t.setContext(l())}function u(){localStorage.setItem(o,JSON.stringify(t.getContext()))}function l(){let d=localStorage.getItem(o);return d?JSON.parse(d):{}}}function wu(e,t){return`${Ou}_${e}_${t}`}a();c();var wi=3*1024,Nu=16*1024,ku=200;function Qn(e=2){let t=new Map,r=!1;function n(o=0){if(r||e===0)return;let i=e===2?wi:Nu,s=o;t.forEach(u=>{s+=u.getBytesCount()}),s>i&&(Lu(i),r=!0)}return{createDetachedTracker:()=>{let o=Zn(()=>n(o.getBytesCount()));return o},getOrCreateTracker:o=>(t.has(o)||t.set(o,Zn(n)),t.get(o)),setCompressionStatus:o=>{e===0&&(e=o,n())},getCompressionStatus:()=>e,stop:()=>{t.forEach(o=>o.stop()),t.clear()}}}function Zn(e){let t=0,{throttled:r,cancel:n}=be(i=>{t=lt(ee(i)),e()},ku),o=()=>{n(),t=0};return{updateCustomerData:i=>{Z(i)?o():r(i)},resetCustomerData:o,getBytesCount:()=>t,stop:()=>{n()}}}function Lu(e){I.warn(`Customer data exceeds the recommended ${e/1024}KiB threshold. ${Me} ${Qt}/#customer-data-exceeds-the-recommended-threshold-warning`)}a();c();function eo(e,t,r){let n=e.getReader(),o=[],i=0;s();function s(){n.read().then(_(l=>{if(l.done){u();return}r.collectStreamBody&&o.push(l.value),i+=l.value.length,i>r.bytesLimit?u():s()}),_(l=>t(l)))}function u(){n.cancel().catch(w);let l,d;if(r.collectStreamBody){let p;if(o.length===1)p=o[0];else{p=new Uint8Array(i);let g=0;o.forEach(S=>{p.set(S,g),g+=S.length})}l=p.slice(0,r.bytesLimit),d=p.length>r.bytesLimit}t(void 0,l,d)}}a();c();var Mu="datadog-synthetics-public-id",Du="datadog-synthetics-result-id",Uu="datadog-synthetics-injects-rum";function Gt(){return!!(self._DATADOG_SYNTHETICS_INJECTS_RUM||ce(Uu))}function to(){let e=self._DATADOG_SYNTHETICS_PUBLIC_ID||ce(Mu);return typeof e=="string"?e:void 0}function ro(){let e=self._DATADOG_SYNTHETICS_RESULT_ID||ce(Du);return typeof e=="string"?e:void 0}a();c();function jt(e){let t=re(e);return t==="string"||t==="function"||e instanceof RegExp}function Dr(e,t,r=!1){return e.some(n=>{try{if(typeof n=="function")return n(t);if(n instanceof RegExp)return n.test(t);if(typeof n=="string")return r?t.startsWith(n):n===t}catch(o){I.error(o)}return!1})}a();c();var ue;function jx(e){return Ur(e).segments_count}function Kx(e){Ur(e).segments_count+=1}function Yx(e){Ur(e).records_count+=1}function zx(e,t){Ur(e).segments_total_raw_size+=t}function qx(e){return ue?.get(e)}function Ur(e){ue||(ue=new Map);let t;return ue.has(e)?t=ue.get(e):(t={records_count:0,segments_count:0,segments_total_raw_size:0},ue.set(e,t),ue.size>1e3&&Pu()),t}function Pu(){if(!ue)return;let e=ue.keys().next().value;e&&ue.delete(e)}a();c();function Ni(){let e=ki();return new x(t=>{if(!e)return;let r=new e(_(()=>t.notify()));return r.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),()=>r.disconnect()})}function ki(){let e,t=self;if(t.Zone&&(e=ie(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){let r=new t.MutationObserver(w),n=ie(r,"originalInstance");e=n&&n.constructor}return e||(e=t.MutationObserver),e}a();c();function Pr(e){return e.nodeType===Node.TEXT_NODE}function Li(e){return e.nodeType===Node.COMMENT_NODE}function ve(e){return e.nodeType===Node.ELEMENT_NODE}function Mi(e){return ve(e)&&!!e.shadowRoot}function Vu(e){let t=e;return!!t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&ve(t.host)}function rT(e){return e.childNodes.length>0||Mi(e)}function nT(e,t){let r=e.firstChild;for(;r;)t(r),r=r.nextSibling;Mi(e)&&t(e.shadowRoot)}function Di(e){return Vu(e)?e.host:e.parentNode}a();c();var N={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:ke.ALLOW,MASK:ke.MASK,MASK_USER_INPUT:ke.MASK_USER_INPUT},Fu="data-dd-privacy";var uT="hidden",Bu="dd-privacy-",no="***",lT="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",$u={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0},Hu="x";function oo(e,t,r){if(r&&r.has(e))return r.get(e);let n=Di(e),o=n?oo(n,t,r):t,i=ju(e),s=Gu(i,o);return r&&r.set(e,s),s}function Gu(e,t){switch(t){case N.HIDDEN:case N.IGNORE:return t}switch(e){case N.ALLOW:case N.MASK:case N.MASK_USER_INPUT:case N.HIDDEN:case N.IGNORE:return e;default:return t}}function ju(e){if(ve(e)){if(e.tagName==="BASE")return N.ALLOW;if(e.tagName==="INPUT"){let t=e;if(t.type==="password"||t.type==="email"||t.type==="tel"||t.type==="hidden")return N.MASK;let r=t.getAttribute("autocomplete");if(r&&(r.startsWith("cc-")||r.endsWith("-password")))return N.MASK}if(e.matches(nt(N.HIDDEN)))return N.HIDDEN;if(e.matches(nt(N.MASK)))return N.MASK;if(e.matches(nt(N.MASK_USER_INPUT)))return N.MASK_USER_INPUT;if(e.matches(nt(N.ALLOW)))return N.ALLOW;if(zu(e))return N.IGNORE}}function Ku(e,t){switch(t){case N.MASK:case N.HIDDEN:case N.IGNORE:return!0;case N.MASK_USER_INPUT:return Pr(e)?Ui(e.parentNode):Ui(e);default:return!1}}function Ui(e){if(!e||e.nodeType!==e.ELEMENT_NODE)return!1;let t=e;if(t.tagName==="INPUT")switch(t.type){case"button":case"color":case"reset":case"submit":return!1}return!!$u[t.tagName]}var Yu=e=>e.replace(/\S/g,Hu);function dT(e,t,r){var n;let o=(n=e.parentElement)===null||n===void 0?void 0:n.tagName,i=e.textContent||"";if(t&&!i.trim())return;let s=r;if(o==="SCRIPT")i=no;else if(s===N.HIDDEN)i=no;else if(Ku(e,s))if(o==="DATALIST"||o==="SELECT"||o==="OPTGROUP"){if(!i.trim())return}else o==="OPTION"?i=no:i=Yu(i);return i}function zu(e){if(e.nodeName==="SCRIPT")return!0;if(e.nodeName==="LINK"){let r=t("rel");return/preload|prefetch/i.test(r)&&t("as")==="script"||r==="shortcut icon"||r==="icon"}if(e.nodeName==="META"){let r=t("name"),n=t("rel"),o=t("property");return/^msapplication-tile(image|color)$/.test(r)||r==="application-name"||n==="icon"||n==="apple-touch-icon"||n==="shortcut icon"||r==="keywords"||r==="description"||/^(og|twitter|fb):/.test(o)||/^(og|twitter):/.test(r)||r==="pinterest"||r==="robots"||r==="googlebot"||r==="bingbot"||e.hasAttribute("http-equiv")||r==="author"||r==="generator"||r==="framework"||r==="publisher"||r==="progid"||/^article:/.test(o)||/^product:/.test(o)||r==="google-site-verification"||r==="yandex-verification"||r==="csrf-token"||r==="p:domain_verify"||r==="verify-v1"||r==="verification"||r==="shopify-checkout-api-token"}function t(r){return(e.getAttribute(r)||"").toLowerCase()}return!1}function nt(e){return`[${Fu}="${e}"], .${Bu}${e}`}a();c();function qu(){let e,t=self.visualViewport;return t?e=t.pageLeft-t.offsetLeft:self.scrollX!==void 0?e=self.scrollX:e=self.pageXOffset||0,Math.round(e)}function io(){let e,t=self.visualViewport;return t?e=t.pageTop-t.offsetTop:self.scrollY!==void 0?e=self.scrollY:e=self.pageYOffset||0,Math.round(e)}a();c();var so;function ao(e){return so||(so=Xu(e)),so}function Xu(e){return new x(t=>{let{throttled:r}=be(()=>{t.notify(yt())},200);return R(e,self,"resize",r,{capture:!0,passive:!0}).stop})}function yt(){let e=self.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(self.innerWidth||0),height:Number(self.innerHeight||0)}}a();c();a();c();a();c();function Pi(e,t,r,n){return{context:e.getContext(),user:t.getContext(),account:r.getContext(),hasReplay:n.isRecording()?!0:void 0}}a();c();function Vi(){return{vitalsByName:new Map,vitalsByReference:new WeakMap}}function Fi(e,t,r){function n(i){return!t.wasInPageStateDuringPeriod("frozen",i.startClocks.relative,i.duration)}function o(i){n(i)&&e.notify(12,Ju(i,!0))}return{addDurationVital:o,startDurationVital:(i,s={})=>co(r,i,s),stopDurationVital:(i,s={})=>{uo(o,r,i,s)}}}function co({vitalsByName:e,vitalsByReference:t},r,n={}){let o={name:r,startClocks:D(),context:n.context,description:n.description},i={__dd_vital_reference:!0};return e.set(r,o),t.set(i,o),i}function uo(e,{vitalsByName:t,vitalsByReference:r},n,o={}){let i=typeof n=="string"?t.get(n):r.get(n);i&&(e(Wu(i,i.startClocks,o,D())),typeof n=="string"?t.delete(n):r.delete(n))}function Wu(e,t,r,n){var o;return{name:e.name,type:"duration",startClocks:t,duration:L(t.timeStamp,n.timeStamp),context:G(e.context,r.context),description:(o=r.description)!==null&&o!==void 0?o:e.description}}function Ju(e,t){let r={date:e.startClocks.timeStamp,vital:{id:k(),type:e.type,name:e.name,duration:v(e.duration),description:e.description},type:"vital"};return t&&(r._dd={vital:{computed_value:!0}}),{rawRumEvent:r,startTime:e.startClocks.relative,duration:e.duration,customerContext:e.context,domainContext:{}}}a();c();function Vr(e,t,r){if(e)for(let n of e){let o=n[t];o&&o(r)}}a();c();a();c();a();c();a();c();a();c();function Bi(){return $i(64)}function Fr(){return $i(63)}function $i(e){let t=self.crypto.getRandomValues(new Uint32Array(2));return e===63&&(t[t.length-1]>>>=1),{toString(r=10){let n=t[1],o=t[0],i="";do{let s=n%r*4294967296+o;n=Math.floor(n/r),o=Math.floor(s/r),i=(s%r).toString(r)+i}while(n||o);return i}}}function ot(e){return e.toString(16).padStart(16,"0")}a();c();var Br;function Hi(e,t){if(t===100)return!0;if(t===0)return!1;if(Br&&e===Br.sessionId)return Br.decision;let r;return self.BigInt?r=Zu(BigInt(`0x${e.split("-")[4]}`),t):r=de(t),Br={sessionId:e,decision:r},r}function Zu(e,t){let r=BigInt("1111111111111111111"),n=BigInt("0x10000000000000000"),o=e*r%n;return Number(o)<=t/100*Number(n)}function ji(e){let t=e;return re(t)==="object"&&jt(t.match)&&Array.isArray(t.propagatorTypes)}function Qu(e){e.status===0&&!e.isAborted&&(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function Ki(e,t){return{clearTracingIfNeeded:Qu,traceFetch:r=>Gi(e,r,t,n=>{var o;if(r.input instanceof Request&&!(!((o=r.init)===null||o===void 0)&&o.headers))r.input=new Request(r.input),Object.keys(n).forEach(i=>{r.input.headers.append(i,n[i])});else{r.init=Ae(r.init);let i=[];r.init.headers instanceof Headers?r.init.headers.forEach((s,u)=>{i.push([u,s])}):Array.isArray(r.init.headers)?r.init.headers.forEach(s=>{i.push(s)}):r.init.headers&&Object.keys(r.init.headers).forEach(s=>{i.push([s,r.init.headers[s]])}),r.init.headers=i.concat(pt(n))}}),traceXhr:(r,n)=>Gi(e,r,t,o=>{Object.keys(o).forEach(i=>{n.setRequestHeader(i,o[i])})})}}function Gi(e,t,r,n){let o=r.findTrackedSession();if(!o)return;let i=e.allowedTracingUrls.find(l=>Dr([l.match],t.url,!0));if(!i)return;let s=Hi(o.id,e.traceSampleRate);(s||e.traceContextInjection===Qe.ALL)&&(t.traceSampled=s,t.traceId=Bi(),t.spanId=Fr(),n(el(t.traceId,t.spanId,t.traceSampled,i.propagatorTypes)))}function el(e,t,r,n){let o={};return n.forEach(i=>{switch(i){case"datadog":{Object.assign(o,{"x-datadog-origin":"rum","x-datadog-parent-id":t.toString(),"x-datadog-sampling-priority":r?"1":"0","x-datadog-trace-id":e.toString()});break}case"tracecontext":{Object.assign(o,{traceparent:`00-0000000000000000${ot(e)}-${ot(t)}-0${r?"1":"0"}`,tracestate:`dd=s:${r?"1":"0"};o:rum`});break}case"b3":{Object.assign(o,{b3:`${ot(e)}-${ot(t)}-${r?"1":"0"}`});break}case"b3multi":{Object.assign(o,{"X-B3-TraceId":ot(e),"X-B3-SpanId":ot(t),"X-B3-Sampled":r?"1":"0"});break}}}),o}var Yi=["tracecontext","datadog"];function zi(e){var t,r,n,o,i,s;if(e.trackFeatureFlagsForEvents!==void 0&&!Array.isArray(e.trackFeatureFlagsForEvents)&&I.warn("trackFeatureFlagsForEvents should be an array"),!e.applicationId){I.error("Application ID is not configured, no RUM data will be collected.");return}if(!Ne(e.sessionReplaySampleRate,"Session Replay")||!Ne(e.traceSampleRate,"Trace"))return;if(e.excludedActivityUrls!==void 0&&!Array.isArray(e.excludedActivityUrls)){I.error("Excluded Activity Urls should be an array");return}let u=tl(e);if(!u)return;let l=xr(e);if(!l)return;let d=(t=e.sessionReplaySampleRate)!==null&&t!==void 0?t:0;return{applicationId:e.applicationId,version:e.version||void 0,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:d,startSessionReplayRecordingManually:e.startSessionReplayRecordingManually!==void 0?!!e.startSessionReplayRecordingManually:d===0,traceSampleRate:(r=e.traceSampleRate)!==null&&r!==void 0?r:100,rulePsr:Oe(e.traceSampleRate)?e.traceSampleRate/100:void 0,allowedTracingUrls:u,excludedActivityUrls:(n=e.excludedActivityUrls)!==null&&n!==void 0?n:[],workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:!!(!((o=e.trackUserInteractions)!==null&&o!==void 0)||o),trackViewsManually:!!e.trackViewsManually,trackResources:!!(!((i=e.trackResources)!==null&&i!==void 0)||i),trackLongTasks:!!(!((s=e.trackLongTasks)!==null&&s!==void 0)||s),subdomain:e.subdomain,defaultPrivacyLevel:ze(ke,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:ke.MASK,enablePrivacyForActionName:!!e.enablePrivacyForActionName,customerDataTelemetrySampleRate:1,traceContextInjection:ze(Qe,e.traceContextInjection)?e.traceContextInjection:Qe.SAMPLED,plugins:e.plugins||[],trackFeatureFlagsForEvents:e.trackFeatureFlagsForEvents||[],...l}}function tl(e){if(e.allowedTracingUrls===void 0)return[];if(!Array.isArray(e.allowedTracingUrls)){I.error("Allowed Tracing URLs should be an array");return}if(e.allowedTracingUrls.length!==0&&e.service===void 0){I.error("Service needs to be configured when tracing is enabled");return}let t=[];return e.allowedTracingUrls.forEach(r=>{jt(r)?t.push({match:r,propagatorTypes:Yi}):ji(r)?t.push(r):I.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",r)}),t}function rl(e){let t=new Set;return Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0&&e.allowedTracingUrls.forEach(r=>{jt(r)?Yi.forEach(n=>t.add(n)):re(r)==="object"&&Array.isArray(r.propagatorTypes)&&r.propagatorTypes.forEach(n=>t.add(n))}),Array.from(t)}function qi(e){var t;let r=Tr(e);return{session_replay_sample_rate:e.sessionReplaySampleRate,start_session_replay_recording_manually:e.startSessionReplayRecordingManually,trace_sample_rate:e.traceSampleRate,trace_context_injection:e.traceContextInjection,action_name_attribute:e.actionNameAttribute,use_allowed_tracing_urls:Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0,selected_tracing_propagators:rl(e),default_privacy_level:e.defaultPrivacyLevel,enable_privacy_for_action_name:e.enablePrivacyForActionName,use_excluded_activity_urls:Array.isArray(e.excludedActivityUrls)&&e.excludedActivityUrls.length>0,use_worker_url:!!e.workerUrl,compress_intake_requests:e.compressIntakeRequests,track_views_manually:e.trackViewsManually,track_user_interactions:e.trackUserInteractions,track_resources:e.trackResources,track_long_task:e.trackLongTasks,plugins:(t=e.plugins)===null||t===void 0?void 0:t.map(n=>{var o;return{name:n.name,...(o=n.getConfigurationTelemetry)===null||o===void 0?void 0:o.call(n)}}),track_feature_flags_for_events:e.trackFeatureFlagsForEvents,...r}}a();c();var nl="v1";function Wi(e,t){il(e,r=>{t(ol(e,r))})}function ol(e,t){return{...e,...t}}function il(e,t){let r=new XMLHttpRequest;R(e,r,"load",function(){if(r.status===200){let n=JSON.parse(r.responseText);t(n.rum)}else Xi()}),R(e,r,"error",function(){Xi()}),r.open("GET",sl(e)),r.send()}function sl(e){return`https://sdk-configuration.${Lt("rum",e)}/${nl}/${encodeURIComponent(e.remoteConfigurationId)}.json`}function Xi(){I.error("Error fetching the remote configuration.")}function Ji({ignoreInitIfSyntheticsWillInjectRum:e,startDeflateWorker:t},r,n,o,i){let s=Dt(),u,l,d,p,g=n.observable.subscribe(E),S={};function E(){if(!d||!p||!n.isGranted())return;g.unsubscribe();let y;if(p.trackViewsManually){if(!u)return;s.remove(u.callback),y=u.options}let h=i(p,l,y);s.drain(h)}function m(y){let h=he();if(h&&(y=al(y)),d=y,Rr(qi(y)),p){Pt("DD_RUM",y);return}let A=zi(y);if(A){if(!h&&!A.sessionStoreStrategyType){I.warn("No storage available for session. We will not send any data.");return}A.compressIntakeRequests&&!h&&t&&(l=t(A,"Datadog RUM",w),!l)||(p=A,$t().subscribe(w),n.tryToInit(A.trackingConsent),E())}}let b=y=>{s.add(h=>h.addDurationVital(y))};return{init(y,h){if(!y){I.error("Missing configuration");return}gn(y.enableExperimentalFeatures),d=y,!(e&&Gt())&&(Vr(y.plugins,"onInit",{initConfiguration:y,publicApi:h}),y.remoteConfigurationId?Wi(y,m):m(y))},get initConfiguration(){return d},getInternalContext:w,stopSession:w,addTiming(y,h=F()){s.add(A=>A.addTiming(y,h))},startView(y,h=D()){let A=Y=>{Y.startView(y,h)};s.add(A),u||(u={options:y,callback:A},E())},setViewName(y){s.add(h=>h.setViewName(y))},setViewContext(y){s.add(h=>h.setViewContext(y))},setViewContextProperty(y,h){s.add(A=>A.setViewContextProperty(y,h))},getViewContext:()=>S,addAction(y,h=r()){s.add(A=>A.addAction(y,h))},addError(y,h=r()){s.add(A=>A.addError(y,h))},addFeatureFlagEvaluation(y,h){s.add(A=>A.addFeatureFlagEvaluation(y,h))},startDurationVital(y,h){return co(o,y,h)},stopDurationVital(y,h){uo(b,o,y,h)},addDurationVital:b}}function al(e){var t,r;return{...e,applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100,defaultPrivacyLevel:(t=e.defaultPrivacyLevel)!==null&&t!==void 0?t:(r=Te())===null||r===void 0?void 0:r.getPrivacyLevel()}}var lo="rum";function cl(e,t,r={}){let n=Qn(0),o=rt("global context",{customerDataTracker:n.getOrCreateTracker(2)}),i=rt("user",{customerDataTracker:n.getOrCreateTracker(1),propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}}),s=rt("account",{customerDataTracker:n.getOrCreateTracker(1),propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}}),u=An(),l=Vi();function d(){return Pi(o,i,s,t)}let p=Ji(r,d,u,l,(E,m,b)=>{E.storeContextsAcrossPages&&(Ht(E,o,lo,2),Ht(E,i,lo,1),Ht(E,s,lo,4)),n.setCompressionStatus(m?1:2);let T=e(E,t,n,d,b,m&&r.createDeflateEncoder?y=>r.createDeflateEncoder(E,m,y):Gn,u,l);return t.onRumStart(T.lifeCycle,E,T.session,T.viewHistory,m),p=ul(p,T),Vr(E.plugins,"onRumStart",{strategy:p}),T}),g=_(E=>{let m=typeof E=="object"?E:{name:E};m.context&&n.getOrCreateTracker(3).updateCustomerData(m.context),p.startView(m),B({feature:"start-view"})}),S=Bn({init:_(E=>{p.init(E,S)}),setTrackingConsent:_(E=>{u.update(E),B({feature:"set-tracking-consent",tracking_consent:E})}),setViewName:_(E=>{p.setViewName(E),B({feature:"set-view-name"})}),setViewContext:_(E=>{p.setViewContext(E),B({feature:"set-view-context"})}),setViewContextProperty:_((E,m)=>{p.setViewContextProperty(E,m),B({feature:"set-view-context-property"})}),getViewContext:_(()=>(B({feature:"set-view-context-property"}),p.getViewContext())),setGlobalContext:_(E=>{o.setContext(E),B({feature:"set-global-context"})}),getGlobalContext:_(()=>o.getContext()),setGlobalContextProperty:_((E,m)=>{o.setContextProperty(E,m),B({feature:"set-global-context"})}),removeGlobalContextProperty:_(E=>o.removeContextProperty(E)),clearGlobalContext:_(()=>o.clearContext()),getInternalContext:_(E=>p.getInternalContext(E)),getInitConfiguration:_(()=>gt(p.initConfiguration)),addAction:(E,m)=>{let b=Ye("action");se(()=>{p.addAction({name:U(E),context:U(m),startClocks:D(),type:"custom",handlingStack:b}),B({feature:"add-action"})})},addError:(E,m)=>{let b=Ye("error");se(()=>{p.addError({error:E,handlingStack:b,context:U(m),startClocks:D()}),B({feature:"add-error"})})},addTiming:_((E,m)=>{p.addTiming(U(E),m)}),setUser:_(E=>{i.setContext(E),B({feature:"set-user"})}),getUser:_(i.getContext),setUserProperty:_((E,m)=>{i.setContextProperty(E,m),B({feature:"set-user"})}),removeUserProperty:_(i.removeContextProperty),clearUser:_(i.clearContext),setAccount:_(s.setContext),getAccount:_(s.getContext),setAccountProperty:_(s.setContextProperty),removeAccountProperty:_(s.removeContextProperty),clearAccount:_(s.clearContext),startView:g,stopSession:_(()=>{p.stopSession(),B({feature:"stop-session"})}),addFeatureFlagEvaluation:_((E,m)=>{p.addFeatureFlagEvaluation(U(E),U(m)),B({feature:"add-feature-flag-evaluation"})}),getSessionReplayLink:_(()=>t.getSessionReplayLink()),startSessionReplayRecording:_(E=>{t.start(E),B({feature:"start-session-replay-recording",force:E&&E.force})}),stopSessionReplayRecording:_(()=>t.stop()),addDurationVital:_((E,m)=>{B({feature:"add-duration-vital"}),p.addDurationVital({name:U(E),type:"duration",startClocks:$o(m.startTime),duration:m.duration,context:U(m&&m.context),description:U(m&&m.description)})}),startDurationVital:_((E,m)=>(B({feature:"start-duration-vital"}),p.startDurationVital(U(E),{context:U(m&&m.context),description:U(m&&m.description)}))),stopDurationVital:_((E,m)=>{B({feature:"stop-duration-vital"}),p.stopDurationVital(typeof E=="string"?U(E):E,{context:U(m&&m.context),description:U(m&&m.description)})})});return S}function ul(e,t){return{init:r=>{Pt("DD_RUM",r)},initConfiguration:e.initConfiguration,...t}}a();c();a();c();function Zi(){let e=new x,{stop:t}=X(self,"open",()=>e.notify());return{observable:e,stop:t}}a();c();a();c();function es(e,t,r){let n=gt(e),o=r(n);return pt(t).forEach(([i,s])=>po(e,n,i.split(/\.|(?=\[\])/),s)),o}function po(e,t,r,n){let[o,...i]=r;if(o==="[]"){Array.isArray(e)&&Array.isArray(t)&&e.forEach((s,u)=>po(s,t[u],i,n));return}if(!(!Qi(e)||!Qi(t))){if(i.length>0)return po(e[o],t[o],i,n);ll(e,o,t[o],n)}}function ll(e,t,r,n){let o=re(r);o===n?e[t]=U(r):n==="object"&&(o==="undefined"||o==="null")&&(e[t]={})}function Qi(e){return re(e)==="object"}var _t={"view.name":"string","view.url":"string","view.referrer":"string"},xt={context:"object"},fo={service:"string",version:"string"},ts;function rs(e,t,r,n,o,i,s,u,l){ts={view:{"view.performance.lcp.resource_url":"string",...xt,..._t},error:{"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string",...xt,..._t,...fo},resource:{"resource.url":"string",...nr(qe.WRITABLE_RESOURCE_GRAPHQL)?{"resource.graphql":"object"}:{},...xt,..._t,...fo},action:{"action.target.name":"string",...xt,..._t,...fo},long_task:{"long_task.scripts[].source_url":"string","long_task.scripts[].invoker":"string",...xt,..._t},vital:{...xt,..._t}};let d={error:Mr("error",e.eventRateLimiterThreshold,l),action:Mr("action",e.eventRateLimiterThreshold,l),vital:Mr("vital",e.eventRateLimiterThreshold,l)};t.subscribe(12,({startTime:p,duration:g,rawRumEvent:S,domainContext:E,savedCommonContext:m,customerContext:b})=>{let T=o.findView(p),y=i.findUrl(p),h=n.findTrackedSession(p);if(h&&T&&!y&&nr(qe.MISSING_URL_CONTEXT_TELEMETRY)&&xe("Missing URL entry",{debug:{eventType:S.type,startTime:p,urlEntries:i.getAllEntries(),urlDeletedEntries:i.getDeletedEntries(),viewEntries:o.getAllEntries(),viewDeletedEntries:o.getDeletedEntries()}}),h&&T&&y){let A=m||u(),Y={_dd:{format_version:2,drift:Ho(),configuration:{session_sample_rate:Xe(e.sessionSampleRate,3),session_replay_sample_rate:Xe(e.sessionReplaySampleRate,3)},browser_sdk_version:he()?"6.5.0":void 0},application:{id:e.applicationId},date:F(),source:"browser",session:{id:h.id,type:"user"},display:s.get(),connectivity:vr(),context:A.context},$=G(Y,r.triggerHook(0,{eventType:S.type,startTime:p,duration:g}),{context:b},S);"has_replay"in $.session||($.session.has_replay=A.hasReplay),$.type==="view"&&($.session.sampled_for_replay=h.sessionReplay===1),h.anonymousId&&!A.user.anonymous_id&&e.trackAnonymousUser&&(A.user.anonymous_id=h.anonymousId),Z(A.user)||($.usr=A.user),!Z(A.account)&&A.account.id&&($.account=A.account),dl($,e.beforeSend,E,d)&&(Z($.context)&&delete $.context,t.notify(13,$))}})}function dl(e,t,r,n){var o;if(t){let s=es(e,ts[e.type],u=>t(u,r));if(s===!1&&e.type!=="view")return!1;s===!1&&I.warn("Can't dismiss view events using beforeSend!")}return!((o=n[e.type])===null||o===void 0?void 0:o.isLimitReached())}a();c();function ns(e,t,r,n,o){return{get:i=>{let s=r.findView(i),u=o.findUrl(i),l=t.findTrackedSession(i);if(l&&s&&u){let d=n.findActionId(i);return{application_id:e,session_id:l.id,user_action:d?{id:d}:void 0,view:{id:s.id,name:s.name,referrer:u.referrer,url:u.url}}}}}}a();c();var mo=Bt;a();c();var pl=J;function go(e){let t=oe({expireDelay:pl});e.subscribe(1,n=>{t.add(r(n),n.startClocks.relative)}),e.subscribe(6,({endClocks:n})=>{t.closeActive(n.relative)}),e.subscribe(3,n=>{let o=t.find(n.startClocks.relative);o&&n.name&&(o.name=n.name),o&&n.context&&(o.context=n.context)}),e.subscribe(10,()=>{t.reset()});function r(n){return{service:n.service,version:n.version,context:n.context,id:n.id,name:n.name,startClocks:n.startClocks}}return{findView:n=>t.find(n),getAllEntries:()=>t.getAllEntries(),getDeletedEntries:()=>t.getDeletedEntries(),stop:()=>{t.stop()}}}a();c();a();c();var So="initial_document",fl=[["document",e=>So===e],["xhr",e=>e==="xmlhttprequest"],["fetch",e=>e==="fetch"],["beacon",e=>e==="beacon"],["css",(e,t)=>/\.css$/i.test(t)],["js",(e,t)=>/\.js$/i.test(t)],["image",(e,t)=>["image","img","icon"].includes(e)||/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)!==null],["font",(e,t)=>/\.(woff|eot|woff2|ttf)$/i.exec(t)!==null],["media",(e,t)=>["audio","video"].includes(e)||/\.(mp3|mp4)$/i.exec(t)!==null]];function is(e){let t=e.name;if(!ai(t))return xe(`Failed to construct URL for "${e.name}"`),"other";let r=ci(t);for(let[n,o]of fl)if(o(e.initiatorType,r))return n;return"other"}function os(...e){for(let t=1;t<e.length;t+=1)if(e[t-1]>e[t])return!1;return!0}function ss(e){return e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch"}function bo(e){let{duration:t,startTime:r,responseEnd:n}=e;return t===0&&r<n?L(r,n):t}function as(e){if(!yo(e))return;let{startTime:t,fetchStart:r,workerStart:n,redirectStart:o,redirectEnd:i,domainLookupStart:s,domainLookupEnd:u,connectStart:l,secureConnectionStart:d,connectEnd:p,requestStart:g,responseStart:S,responseEnd:E}=e,m={download:it(t,S,E),first_byte:it(t,g,S)};return 0<n&&n<r&&(m.worker=it(t,n,r)),r<p&&(m.connect=it(t,l,p),l<=d&&d<=p&&(m.ssl=it(t,d,p))),r<u&&(m.dns=it(t,s,u)),t<i&&(m.redirect=it(t,o,i)),m}function $r(e){return e.duration>=0}function yo(e){let t=os(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd),r=ml(e)?os(e.startTime,e.redirectStart,e.redirectEnd,e.fetchStart):!0;return t&&r}function ml(e){return e.redirectEnd>e.startTime}function it(e,t,r){if(e<=t&&t<=r)return{duration:v(L(t,r)),start:v(L(e,t))}}function _o(e){return e.nextHopProtocol===""?void 0:e.nextHopProtocol}function xo(e){return e.deliveryType===""?"other":e.deliveryType}function cs(e){if(e.startTime<e.responseStart){let{encodedBodySize:t,decodedBodySize:r,transferSize:n}=e;return{size:r,encoded_body_size:t,decoded_body_size:r,transfer_size:n}}return{size:void 0,encoded_body_size:void 0,decoded_body_size:void 0,transfer_size:void 0}}function Kt(e){return e&&!_r(e)}var gl=/data:(.+)?(;base64)?,/g,Eo=24e3;function To(e){return e.length<=Eo?!1:e.substring(0,5)==="data:"?(e=e.substring(0,Eo),!0):!1}function ho(e){return`${e.match(gl)[0]}[...]`}var us=1;function ls(e,t,r){let n=Ki(t,r);El(e,t,n),Sl(e,n)}function El(e,t,r){let n=Yn(t).subscribe(o=>{let i=o;if(Kt(i.url))switch(i.state){case"start":r.traceXhr(i,i.xhr),i.requestIndex=ds(),e.notify(7,{requestIndex:i.requestIndex,url:i.url});break;case"complete":r.clearTracingIfNeeded(i),e.notify(8,{duration:i.duration,method:i.method,requestIndex:i.requestIndex,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:"xhr",url:i.url,xhr:i.xhr,isAborted:i.isAborted,handlingStack:i.handlingStack});break}});return{stop:()=>n.unsubscribe()}}function Sl(e,t){let r=$t().subscribe(n=>{let o=n;if(Kt(o.url))switch(o.state){case"start":t.traceFetch(o),o.requestIndex=ds(),e.notify(7,{requestIndex:o.requestIndex,url:o.url});break;case"resolve":bl(o,i=>{t.clearTracingIfNeeded(o),e.notify(8,{duration:i,method:o.method,requestIndex:o.requestIndex,responseType:o.responseType,spanId:o.spanId,startClocks:o.startClocks,status:o.status,traceId:o.traceId,traceSampled:o.traceSampled,type:"fetch",url:o.url,response:o.response,init:o.init,input:o.input,isAborted:o.isAborted,handlingStack:o.handlingStack})});break}});return{stop:()=>r.unsubscribe()}}function ds(){let e=us;return us+=1,e}function bl(e,t){let r=e.response&&mi(e.response);!r||!r.body?t(L(e.startClocks.timeStamp,F())):eo(r.body,()=>{t(L(e.startClocks.timeStamp,F()))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1})}a();c();a();c();function Hr(e){return Oe(e)&&e<0?void 0:e}a();c();a();c();function Gr({lifeCycle:e,isChildEvent:t,onChange:r=w}){let n={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},o=e.subscribe(13,i=>{var s;if(!(i.type==="view"||i.type==="vital"||!t(i)))switch(i.type){case"error":n.errorCount+=1,r();break;case"action":n.actionCount+=1,i.action.frustration&&(n.frustrationCount+=i.action.frustration.type.length),r();break;case"long_task":n.longTaskCount+=1,r();break;case"resource":!((s=i._dd)===null||s===void 0)&&s.discarded||(n.resourceCount+=1,r());break}});return{stop:()=>{o.unsubscribe()},eventCounts:n}}a();c();a();c();a();c();function ps(e,t){let r=q(),n=!1,{stop:o}=Q(e,self,["click","mousedown","keydown","touchstart","pointerdown"],u=>{if(!u.cancelable)return;let l={entryType:"first-input",processingStart:H(),processingEnd:H(),startTime:u.timeStamp,duration:0,name:"",cancelable:!1,target:null,toJSON:()=>({})};u.type==="pointerdown"?i(e,l):s(l)},{passive:!0,capture:!0});return{stop:o};function i(u,l){Q(u,self,["pointerup","pointercancel"],d=>{d.type==="pointerup"&&s(l)},{once:!0})}function s(u){if(!n){n=!0,o();let l=u.processingStart-u.startTime;l>=0&&l<q()-r&&t(u)}}}var O;(function(e){e.EVENT="event",e.FIRST_INPUT="first-input",e.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",e.LAYOUT_SHIFT="layout-shift",e.LONG_TASK="longtask",e.LONG_ANIMATION_FRAME="long-animation-frame",e.NAVIGATION="navigation",e.PAINT="paint",e.RESOURCE="resource"})(O||(O={}));function K(e,t){return new x(r=>{if(!self.PerformanceObserver)return;let n=l=>{let d=xl(l);d.length>0&&r.notify(d)},o,i=!0,s=new PerformanceObserver(_(l=>{i?o=M(()=>n(l.getEntries())):n(l.getEntries())}));try{s.observe(t)}catch{if([O.RESOURCE,O.NAVIGATION,O.LONG_TASK,O.PAINT].includes(t.type)){t.buffered&&(o=M(()=>n(performance.getEntriesByType(t.type))));try{s.observe({entryTypes:[t.type]})}catch{return}}}i=!1,yl(e);let u;return!st(O.FIRST_INPUT)&&t.type===O.FIRST_INPUT&&({stop:u}=ps(e,l=>{n([l])})),()=>{s.disconnect(),u&&u(),j(o)}})}var Yt;function yl(e){return!Yt&&_l()&&"addEventListener"in performance&&(Yt=R(e,performance,"resourcetimingbufferfull",()=>{performance.clearResourceTimings()})),()=>{Yt?.stop()}}function _l(){return self.performance!==void 0&&"getEntries"in performance}function st(e){return self.PerformanceObserver&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.includes(e)}function xl(e){return e.filter(t=>!Tl(t))}function Tl(e){return e.entryType===O.RESOURCE&&(!Kt(e.name)||!$r(e))}var Io=100,hl=100;function zt(e,t,r,n,o,i){let s=Il(e,t,r,n);return vl(s,o,i)}function vl(e,t,r){let n,o=!1,i=M(_(()=>d({hadActivity:!1})),Io),s=r!==void 0?M(_(()=>d({hadActivity:!0,end:F()})),r):void 0,u=e.subscribe(({isBusy:p})=>{j(i),j(n);let g=F();p||(n=M(_(()=>d({hadActivity:!0,end:g})),hl))}),l=()=>{o=!0,j(i),j(n),j(s),u.unsubscribe()};function d(p){o||(l(),t(p))}return{stop:l}}function Il(e,t,r,n){return new x(o=>{let i=[],s,u=0;return i.push(t.subscribe(l),r.subscribe(l),K(n,{type:O.RESOURCE}).subscribe(d=>{d.some(p=>!vo(n,p.name))&&l()}),e.subscribe(7,d=>{vo(n,d.url)||(s===void 0&&(s=d.requestIndex),u+=1,l())}),e.subscribe(8,d=>{vo(n,d.url)||s===void 0||d.requestIndex<s||(u-=1,l())})),()=>{i.forEach(d=>d.unsubscribe())};function l(){o.notify({isBusy:u>0})}})}function vo(e,t){return Dr(e.excludedActivityUrls,t)}a();c();a();c();var Xt="data-dd-action-name",Cl="Masked Element";function gs(e,{enablePrivacyForActionName:t,actionNameAttribute:r},n){let o=fs(e,Xt)||r&&fs(e,r);return o?{name:o,nameSource:"custom_attribute"}:n===N.MASK?{name:Cl,nameSource:"mask_placeholder"}:ms(e,r,Al,t)||ms(e,r,Ol,t)||{name:"",nameSource:"blank"}}function fs(e,t){let r=e.closest(`[${t}]`);if(!r)return;let n=r.getAttribute(t);return Ss(Es(n.trim()))}var Al=[(e,t)=>{if("labels"in e&&e.labels&&e.labels.length>0)return jr(e.labels[0],t)},e=>{if(e.nodeName==="INPUT"){let t=e,r=t.getAttribute("type");if(r==="button"||r==="submit"||r==="reset")return{name:t.value,nameSource:"text_content"}}},(e,t,r)=>{if(e.nodeName==="BUTTON"||e.nodeName==="LABEL"||e.getAttribute("role")==="button")return jr(e,t,r)},e=>qt(e,"aria-label"),(e,t,r)=>{let n=e.getAttribute("aria-labelledby");if(n)return{name:n.split(/\s+/).map(o=>wl(e,o)).filter(o=>!!o).map(o=>bs(o,t,r)).join(" "),nameSource:"text_content"}},e=>qt(e,"alt"),e=>qt(e,"name"),e=>qt(e,"title"),e=>qt(e,"placeholder"),(e,t)=>{if("options"in e&&e.options.length>0)return jr(e.options[0],t)}],Ol=[(e,t,r)=>jr(e,t,r)],Rl=10;function ms(e,t,r,n){let o=e,i=0;for(;i<=Rl&&o&&o.nodeName!=="BODY"&&o.nodeName!=="HTML"&&o.nodeName!=="HEAD";){for(let s of r){let u=s(o,t,n);if(u){let{name:l,nameSource:d}=u,p=l&&l.trim();if(p)return{name:Ss(Es(p)),nameSource:d}}}if(o.nodeName==="FORM")break;o=o.parentElement,i+=1}}function Es(e){return e.replace(/\s+/g," ")}function Ss(e){return e.length>100?`${cr(e,100)} [...]`:e}function wl(e,t){return e.ownerDocument?e.ownerDocument.getElementById(t):null}function qt(e,t){return{name:e.getAttribute(t)||"",nameSource:"standard_attribute"}}function jr(e,t,r){return{name:bs(e,t,r)||"",nameSource:"text_content"}}function bs(e,t,r){if(!e.isContentEditable){if("innerText"in e){let n=e.innerText,o=i=>{let s=e.querySelectorAll(i);for(let u=0;u<s.length;u+=1){let l=s[u];if("innerText"in l){let d=l.innerText;d&&d.trim().length>0&&(n=n.replace(d,""))}}};return o(`[${Xt}]`),t&&o(`[${t}]`),r&&o(`${nt(N.HIDDEN)}, ${nt(N.MASK)}`),n}return e.textContent}}var _s=[Xt,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],Nl=[Ts,Ll],kl=[Ts,Ml,Dl];function Ie(e,t){if(!e.isConnected)return;let r,n=e;for(;n&&n.nodeName!=="HTML";){let o=ys(n,Nl,Pl,t,r);if(o)return o;r=ys(n,kl,Vl,t,r)||Kr(Ul(n),r),n=n.parentElement}return r}function xs(e){return/[0-9]/.test(e)}function Ll(e){if(e.id&&!xs(e.id))return`#${CSS.escape(e.id)}`}function Ml(e){if(e.tagName==="BODY")return;let t=e.classList;for(let r=0;r<t.length;r+=1){let n=t[r];if(!xs(n))return`${CSS.escape(e.tagName)}.${CSS.escape(n)}`}}function Dl(e){return CSS.escape(e.tagName)}function Ts(e,t){if(t){let n=r(t);if(n)return n}for(let n of _s){let o=r(n);if(o)return o}function r(n){if(e.hasAttribute(n))return`${CSS.escape(e.tagName)}[${n}="${CSS.escape(e.getAttribute(n))}"]`}}function Ul(e){let t=e.parentElement.firstElementChild,r=1;for(;t&&t!==e;)t.tagName===e.tagName&&(r+=1),t=t.nextElementSibling;return`${CSS.escape(e.tagName)}:nth-of-type(${r})`}function ys(e,t,r,n,o){for(let i of t){let s=i(e,n);if(s&&r(e,s,o))return Kr(s,o)}}function Pl(e,t,r){return e.ownerDocument.querySelectorAll(Kr(t,r)).length===1}function Vl(e,t,r){let n;if(r===void 0)n=s=>s.matches(t);else{let s=Kr(`${t}:scope`,r);n=u=>u.querySelector(s)!==null}let i=e.parentElement.firstElementChild;for(;i;){if(i!==e&&n(i))return!1;i=i.nextElementSibling}return!0}function Kr(e,t){return t?`${e}>${t}`:e}a();c();var hs=P,Fl=100;function vs(e,t){let r=[],n=0,o;i(e);function i(l){l.stopObservable.subscribe(s),r.push(l),j(o),o=M(u,hs)}function s(){n===1&&r.every(l=>l.isStopped())&&(n=2,t(r))}function u(){j(o),n===0&&(n=1,s())}return{tryAppend:l=>n!==0?!1:r.length>0&&!Bl(r[r.length-1].event,l.event)?(u(),!1):(i(l),!0),stop:()=>{u()}}}function Bl(e,t){return e.target===t.target&&$l(e,t)<=Fl&&e.timeStamp-t.timeStamp<=hs}function $l(e,t){return Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2))}a();c();function As(e,{onPointerDown:t,onPointerUp:r}){let n,o={selection:!1,input:!1,scroll:!1},i,s=[R(e,self,"pointerdown",u=>{Cs(u)&&(n=Is(),o={selection:!1,input:!1,scroll:!1},i=t(u))},{capture:!0}),R(e,self,"selectionchange",()=>{(!n||!Is())&&(o.selection=!0)},{capture:!0}),R(e,self,"scroll",()=>{o.scroll=!0},{capture:!0,passive:!0}),R(e,self,"pointerup",u=>{if(Cs(u)&&i){let l=o;r(i,u,()=>l),i=void 0}},{capture:!0}),R(e,self,"input",()=>{o.input=!0},{capture:!0})];return{stop:()=>{s.forEach(u=>u.stop())}}}function Is(){let e=self.getSelection();return!e||e.isCollapsed}function Cs(e){return e.target instanceof Element&&e.isPrimary!==!1}a();c();var Os=3;function ws(e,t){if(Hl(e))return t.addFrustration("rage_click"),e.some(Rs)&&t.addFrustration("dead_click"),t.hasError&&t.addFrustration("error_click"),{isRage:!0};let r=e.some(n=>n.getUserActivity().selection);return e.forEach(n=>{n.hasError&&n.addFrustration("error_click"),Rs(n)&&!r&&n.addFrustration("dead_click")}),{isRage:!1}}function Hl(e){if(e.some(t=>t.getUserActivity().selection||t.getUserActivity().scroll))return!1;for(let t=0;t<e.length-(Os-1);t+=1)if(e[t+Os-1].event.timeStamp-e[t].event.timeStamp<=P)return!0;return!1}var Gl='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *';function Rs(e){return e.hasPageActivity||e.getUserActivity().input||e.getUserActivity().scroll?!1:!e.event.target.matches(Gl)}a();c();var Co=10*P,Wt=new Map;function Ns(e){let t=Wt.get(e);return Wt.delete(e),t}function Ao(e,t){Wt.set(e,t),Wt.forEach((r,n)=>{L(n,H())>Co&&Wt.delete(n)})}var jl=5*V;function ks(e,t,r,n){let o=oe({expireDelay:jl}),i=new x,s;e.subscribe(10,()=>{o.reset()}),e.subscribe(5,p);let{stop:u}=As(n,{onPointerDown:g=>Kl(n,e,t,g,r),onPointerUp:({clickActionBase:g,hadActivityOnPointerDown:S},E,m)=>{Yl(n,e,t,r,o,i,d,g,E,m,S)}});return{stop:()=>{p(),i.notify(),u()},actionContexts:{findActionId:g=>o.findAll(g)}};function d(g){if(!s||!s.tryAppend(g)){let S=g.clone();s=vs(g,E=>{ql(E,S)})}}function p(){s&&s.stop()}}function Kl(e,t,r,n,o){let i=e.enablePrivacyForActionName?oo(n.target,e.defaultPrivacyLevel):N.ALLOW;if(i===N.HIDDEN)return;let s=zl(n,i,e),u=!1;return zt(t,r,o,e,l=>{u=l.hadActivity},Io),{clickActionBase:s,hadActivityOnPointerDown:()=>u}}function Yl(e,t,r,n,o,i,s,u,l,d,p){var g;let S=Ls(t,o,d,u,l);s(S);let E=(g=u?.target)===null||g===void 0?void 0:g.selector;E&&Ao(l.timeStamp,E);let{stop:m}=zt(t,r,n,e,y=>{y.hadActivity&&y.end<S.startClocks.timeStamp?S.discard():y.hadActivity?S.stop(y.end):p()?S.stop(S.startClocks.timeStamp):S.stop()},Co),b=t.subscribe(5,({endClocks:y})=>{S.stop(y.timeStamp)}),T=i.subscribe(()=>{S.stop()});S.stopObservable.subscribe(()=>{b.unsubscribe(),m(),T.unsubscribe()})}function zl(e,t,r){let n=e.target.getBoundingClientRect(),o=Ie(e.target,r.actionNameAttribute);o&&Ao(e.timeStamp,o);let i=gs(e.target,r,t);return{type:"click",target:{width:Math.round(n.width),height:Math.round(n.height),selector:o},position:{x:Math.round(e.clientX-n.left),y:Math.round(e.clientY-n.top)},name:i.name,nameSource:i.nameSource}}function Ls(e,t,r,n,o){let i=k(),s=D(),u=t.add(i,s.relative),l=Gr({lifeCycle:e,isChildEvent:m=>m.action!==void 0&&(Array.isArray(m.action.id)?m.action.id.includes(i):m.action.id===i)}),d=0,p,g=[],S=new x;function E(m){d===0&&(p=m,d=1,p?u.close(Ct(p)):u.remove(),l.stop(),S.notify())}return{event:o,stop:E,stopObservable:S,get hasError(){return l.eventCounts.errorCount>0},get hasPageActivity(){return p!==void 0},getUserActivity:r,addFrustration:m=>{g.push(m)},startClocks:s,isStopped:()=>d===1||d===2,clone:()=>Ls(e,t,r,n,o),validate:m=>{if(E(),d!==1)return;let{resourceCount:b,errorCount:T,longTaskCount:y}=l.eventCounts,h={duration:p&&L(s.timeStamp,p),startClocks:s,id:i,frustrationTypes:g,counts:{resourceCount:b,errorCount:T,longTaskCount:y},events:m??[o],event:o,...n};e.notify(0,h),d=2},discard:()=>{E(),d=2}}}function ql(e,t){let{isRage:r}=ws(e,t);r?(e.forEach(n=>n.discard()),t.stop(F()),t.validate(e.map(n=>n.event))):(t.discard(),e.forEach(n=>n.validate()))}function Ds(e,t,r,n,o){e.subscribe(0,u=>e.notify(12,Ms(u))),t.register(0,({startTime:u,eventType:l})=>{if(l!=="error"&&l!=="resource"&&l!=="long_task")return;let d=i.findActionId(u);if(d)return{type:l,action:{id:d}}});let i={findActionId:w},s=w;return o.trackUserInteractions&&({actionContexts:i,stop:s}=ks(e,r,n,o)),{addAction:(u,l)=>{e.notify(12,{savedCommonContext:l,...Ms(u)})},actionContexts:i,stop:s}}function Ms(e){let t=Yr(e)?{action:{id:e.id,loading_time:Hr(v(e.duration)),frustration:{type:e.frustrationTypes},error:{count:e.counts.errorCount},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_dd:{action:{target:e.target,position:e.position,name_source:e.nameSource}}}:void 0,r=G({action:{id:k(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:"action"},t),n=Yr(e)?e.duration:void 0,o=Yr(e)?void 0:e.context,i=Yr(e)?{events:e.events}:{handlingStack:e.handlingStack};return{customerContext:o,rawRumEvent:r,duration:n,startTime:e.startClocks.relative,domainContext:i}}function Yr(e){return e.type!=="custom"}a();c();a();c();function Us(e){let t=Wn([Ge.error]).subscribe(r=>e.notify(r.error));return{stop:()=>{t.unsubscribe()}}}a();c();function Ps(e,t){let r=$n(e,[tt.cspViolation,tt.intervention]).subscribe(n=>t.notify(n));return{stop:()=>{r.unsubscribe()}}}function Vs(e,t){let r=new x;return Us(r),Fn(r),Ps(t,r),r.subscribe(n=>e.notify(14,{error:n})),Xl(e)}function Xl(e){return e.subscribe(14,({error:t,customerContext:r,savedCommonContext:n})=>{r=G(t.context,r),e.notify(12,{customerContext:r,savedCommonContext:n,...Wl(t)})}),{addError:({error:t,handlingStack:r,componentStack:n,startClocks:o,context:i},s)=>{let u=te(t)?W(t):void 0,l=It({stackTrace:u,originalError:t,handlingStack:r,componentStack:n,startClocks:o,nonErrorPrefix:"Provided",source:ne.CUSTOM,handling:"handled"});e.notify(14,{customerContext:i,savedCommonContext:s,error:l})}}}function Wl(e){let t={date:e.startClocks.timeStamp,error:{id:k(),message:e.message,source:e.source,stack:e.stack,handling_stack:e.handlingStack,component_stack:e.componentStack,type:e.type,handling:e.handling,causes:e.causes,source_type:"browser",fingerprint:e.fingerprint,csp:e.csp},type:"error"},r={error:e.originalError,handlingStack:e.handlingStack};return{rawRumEvent:t,startTime:e.startClocks.relative,domainContext:r}}a();c();a();c();var Fs=new WeakSet;function Bs(e){if(!performance||!("getEntriesByName"in performance))return;let t=performance.getEntriesByName(e.url,"resource");if(!t.length||!("toJSON"in t[0]))return;let r=t.filter(n=>!Fs.has(n)).filter(n=>$r(n)&&yo(n)).filter(n=>Jl(n,e.startClocks.relative,$s({startTime:e.startClocks.relative,duration:e.duration})));if(r.length===1)return Fs.add(r[0]),r[0].toJSON()}function $s(e){return De(e.startTime,e.duration)}function Jl(e,t,r){return e.startTime>=t-1&&$s(e)<=De(r,1)}a();c();a();c();var Zl=2*V;function Gs(e){let t=Ql(e)||ed(e);if(!(!t||t.traceTime<=q()-Zl))return t.traceId}function Ql(e){let t=e.querySelector("meta[name=dd-trace-id]"),r=e.querySelector("meta[name=dd-trace-time]");return js(t&&t.content,r&&r.content)}function ed(e){let t=td(e);if(t)return js(Ue(t,"trace-id"),Ue(t,"trace-time"))}function js(e,t){let r=t&&Number(t);if(!(!e||!r))return{traceId:e,traceTime:r}}function td(e){for(let t=0;t<e.childNodes.length;t+=1){let r=Hs(e.childNodes[t]);if(r)return r}if(e.body)for(let t=e.body.childNodes.length-1;t>=0;t-=1){let r=e.body.childNodes[t],n=Hs(r);if(n)return n;if(!Pr(r))break}}function Hs(e){if(e&&Li(e)){let t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}a();c();function zr(){if(st(O.NAVIGATION)){let r=performance.getEntriesByType(O.NAVIGATION)[0];if(r)return r}let e=rd(),t={entryType:O.NAVIGATION,initiatorType:"navigation",name:self.location.href,startTime:0,duration:e.loadEventEnd,decodedBodySize:0,encodedBodySize:0,transferSize:0,workerStart:0,toJSON:()=>({...t,toJSON:void 0}),...e};return t}function rd(){let e={},t=performance.timing;for(let r in t)if(Oe(t[r])){let n=r,o=t[n];e[n]=o===0?0:Ct(o)}return e}function Ks(e,t,r=zr){bt(e,"interactive",()=>{let n=r(),o=Object.assign(n.toJSON(),{entryType:O.RESOURCE,initiatorType:So,duration:n.responseEnd,traceId:Gs(document),toJSON:()=>({...o,toJSON:void 0})});t(o)})}function zs(e,t,r,n=Oi(),o=Ks){e.subscribe(8,u=>{s(()=>nd(u,t,r))});let i=K(t,{type:O.RESOURCE,buffered:!0}).subscribe(u=>{for(let l of u)ss(l)||s(()=>Ys(l,t))});o(t,u=>{s(()=>Ys(u,t))});function s(u){n.push(()=>{let l=u();l&&e.notify(12,l)})}return{stop:()=>{i.unsubscribe()}}}function nd(e,t,r){let n=Bs(e),o=n?We(n.startTime):e.startClocks,i=od(e,t);if(!t.trackResources&&!i)return;let s=e.type==="xhr"?"xhr":"fetch",u=n?qs(n):void 0,l=n?bo(n):sd(r,o,e.duration),d=G({date:o.timeStamp,resource:{id:k(),type:s,duration:v(l),method:e.method,status_code:e.status,protocol:n&&_o(n),url:To(e.url)?ho(e.url):e.url,delivery_type:n&&xo(n)},type:"resource",_dd:{discarded:!t.trackResources}},i,u);return{startTime:o.relative,duration:l,rawRumEvent:d,domainContext:{performanceEntry:n,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error,isAborted:e.isAborted,handlingStack:e.handlingStack}}}function Ys(e,t){let r=We(e.startTime),n=id(e,t);if(!t.trackResources&&!n)return;let o=is(e),i=qs(e),s=bo(e),u=G({date:r.timeStamp,resource:{id:k(),type:o,duration:v(s),url:e.name,status_code:ad(e.responseStatus),protocol:_o(e),delivery_type:xo(e)},type:"resource",_dd:{discarded:!t.trackResources}},n,i);return{startTime:r.relative,duration:s,rawRumEvent:u,domainContext:{performanceEntry:e}}}function qs(e){let{renderBlockingStatus:t}=e;return{resource:{render_blocking_status:t,...cs(e),...as(e)}}}function od(e,t){if(e.traceSampled&&e.traceId&&e.spanId)return{_dd:{span_id:e.spanId.toString(),trace_id:e.traceId.toString(),rule_psr:t.rulePsr}}}function id(e,t){if(e.traceId)return{_dd:{trace_id:e.traceId,span_id:Fr().toString(),rule_psr:t.rulePsr}}}function sd(e,t,r){return e.wasInPageStateDuringPeriod("frozen",t.relative,r)?void 0:r}function ad(e){return e===0?void 0:e}a();c();a();c();a();c();function Xs(e,t,r){let{stop:n,eventCounts:o}=Gr({lifeCycle:e,isChildEvent:i=>i.view.id===t,onChange:r});return{stop:n,eventCounts:o}}a();c();a();c();var cd=10*V;function Ws(e,t,r){return{stop:K(e,{type:O.PAINT,buffered:!0}).subscribe(o=>{let i=o.find(s=>s.name==="first-contentful-paint"&&s.startTime<t.timeStamp&&s.startTime<cd);i&&r(i.startTime)}).unsubscribe}}a();c();function Js(e,t,r){let n=K(e,{type:O.FIRST_INPUT,buffered:!0}).subscribe(o=>{let i=o.find(s=>s.startTime<t.timeStamp);if(i){let s=L(i.startTime,i.processingStart),u;i.target&&ve(i.target)&&(u=Ie(i.target,e.actionNameAttribute)),r({delay:s>=0?s:0,time:i.startTime,targetSelector:u})}});return{stop:()=>{n.unsubscribe()}}}a();c();function Zs(e,t,r=zr){return dd(e,()=>{let n=r();ld(n)||t(ud(n))})}function ud(e){return{domComplete:e.domComplete,domContentLoaded:e.domContentLoadedEventEnd,domInteractive:e.domInteractive,loadEvent:e.loadEventEnd,firstByte:e.responseStart>=0&&e.responseStart<=H()?e.responseStart:void 0}}function ld(e){return e.loadEventEnd<=0}function dd(e,t){let r,{stop:n}=bt(e,"complete",()=>{r=M(()=>t())});return{stop:()=>{n(),j(r)}}}a();c();var pd=10*V;function Qs(e,t,r,n){let o=1/0,{stop:i}=Q(e,r,["pointerdown","keydown"],l=>{o=l.timeStamp},{capture:!0,once:!0}),s=0,u=K(e,{type:O.LARGEST_CONTENTFUL_PAINT,buffered:!0}).subscribe(l=>{let d=qo(l,p=>p.entryType===O.LARGEST_CONTENTFUL_PAINT&&p.startTime<o&&p.startTime<t.timeStamp&&p.startTime<pd&&p.size>s);if(d){let p;d.element&&(p=Ie(d.element,e.actionNameAttribute)),n({value:d.startTime,targetSelector:p,resourceUrl:fd(d)}),s=d.size}});return{stop:()=>{i(),u.unsubscribe()}}}function fd(e){return e.url===""?void 0:e.url}a();c();function qr(e,t=self){let r,n;return document.visibilityState==="hidden"?r=0:(r=1/0,{stop:n}=Q(e,t,["pagehide","visibilitychange"],o=>{(o.type==="pagehide"||document.visibilityState==="hidden")&&(r=o.timeStamp,n())},{capture:!0})),{get timeStamp(){return r},stop(){n?.()}}}function ea(e,t,r){let n={},{stop:o}=Zs(e,p=>{t(p.loadEvent),n.navigationTimings=p,r()}),i=qr(e),{stop:s}=Ws(e,i,p=>{n.firstContentfulPaint=p,r()}),{stop:u}=Qs(e,i,self,p=>{n.largestContentfulPaint=p,r()}),{stop:l}=Js(e,i,p=>{n.firstInput=p,r()});function d(){o(),s(),u(),l(),i.stop()}return{stop:d,initialViewMetrics:n}}a();c();a();c();function ra(e,t,r){if(!bd())return{stop:w};let n=0,o;r({value:0});let i=Sd(),s=K(e,{type:O.LAYOUT_SHIFT,buffered:!0}).subscribe(u=>{var l;for(let d of u){if(d.hadRecentInput||d.startTime<t)continue;let{cumulatedValue:p,isMaxValue:g}=i.update(d);if(g){let S=md(d.sources);o={target:S?.node?new WeakRef(S.node):void 0,time:L(t,d.startTime),previousRect:S?.previousRect,currentRect:S?.currentRect,devicePixelRatio:self.devicePixelRatio}}if(p>n){n=p;let S=(l=o?.target)===null||l===void 0?void 0:l.deref();r({value:Xe(n,4),targetSelector:S&&Ie(S,e.actionNameAttribute),time:o?.time,previousRect:o?.previousRect?ta(o.previousRect):void 0,currentRect:o?.currentRect?ta(o.currentRect):void 0,devicePixelRatio:o?.devicePixelRatio})}}});return{stop:()=>{s.unsubscribe()}}}function md(e){return e.find(t=>!!t.node&&ve(t.node))}function ta({x:e,y:t,width:r,height:n}){return{x:e,y:t,width:r,height:n}}var gd=5*P,Ed=P;function Sd(){let e=0,t,r,n=0;return{update:o=>{let i=t===void 0||o.startTime-r>=Ed||o.startTime-t>=gd,s;return i?(t=r=o.startTime,n=e=o.value,s=!0):(e+=o.value,r=o.startTime,s=o.value>n,s&&(n=o.value)),{cumulatedValue:e,isMaxValue:s}}}}function bd(){return st(O.LAYOUT_SHIFT)&&"WeakRef"in self}a();c();a();c();var Xr,na=0,Oo=1/0,Ro=0;function oa(){"interactionCount"in performance||Xr||(Xr=new self.PerformanceObserver(_(e=>{e.getEntries().forEach(t=>{let r=t;r.interactionId&&(Oo=Math.min(Oo,r.interactionId),Ro=Math.max(Ro,r.interactionId),na=(Ro-Oo)/7+1)})})),Xr.observe({type:"event",buffered:!0,durationThreshold:0}))}var wo=()=>Xr?na:self.performance.interactionCount||0;var ia=10,yd=1*V;function sa(e,t,r){if(!Td())return{getInteractionToNextPaint:()=>{},setViewEnd:w,stop:w};let{getViewInteractionCount:n,stopViewInteractionCount:o}=xd(r),i=1/0,s=_d(n),u=-1,l,d;function p(E){for(let b of E)b.interactionId&&b.startTime>=t&&b.startTime<=i&&s.process(b);let m=s.estimateP98Interaction();m&&m.duration!==u&&(u=m.duration,d=L(t,m.startTime),l=Ns(m.startTime),!l&&m.target&&ve(m.target)&&(l=Ie(m.target,e.actionNameAttribute)))}let g=K(e,{type:O.FIRST_INPUT,buffered:!0}).subscribe(p),S=K(e,{type:O.EVENT,durationThreshold:40,buffered:!0}).subscribe(p);return{getInteractionToNextPaint:()=>{if(u>=0)return{value:Math.min(u,yd),targetSelector:l,time:d};if(n())return{value:0}},setViewEnd:E=>{i=E,o()},stop:()=>{S.unsubscribe(),g.unsubscribe()}}}function _d(e){let t=[];function r(){t.sort((n,o)=>o.duration-n.duration).splice(ia)}return{process(n){let o=t.findIndex(s=>n.interactionId===s.interactionId),i=t[t.length-1];o!==-1?n.duration>t[o].duration&&(t[o]=n,r()):(t.length<ia||n.duration>i.duration)&&(t.push(n),r())},estimateP98Interaction(){let n=Math.min(t.length-1,Math.floor(e()/50));return t[n]}}}function xd(e){oa();let t=e==="initial_load"?0:wo(),r={stopped:!1};function n(){return wo()-t}return{getViewInteractionCount:()=>r.stopped?r.interactionCount:n(),stopViewInteractionCount:()=>{r={stopped:!0,interactionCount:n()}}}}function Td(){return st(O.EVENT)&&self.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype}a();c();function aa(e,t,r,n,o,i,s){let u=o==="initial_load",l=!0,d=[],p=qr(n);function g(){if(!l&&!u&&d.length>0){let E=Math.max(...d);E<p.timeStamp&&s(E)}}let{stop:S}=zt(e,t,r,n,E=>{l&&(l=!1,E.hadActivity&&d.push(L(i.timeStamp,E.end)),g())});return{stop:()=>{S(),p.stop()},setLoadEvent:E=>{u&&(u=!1,d.push(E),g())}}}a();c();var hd=P;function ca(e,t,r,n=Id(e)){let o=0,i=0,s=0,u=n.subscribe(({scrollDepth:l,scrollTop:d,scrollHeight:p})=>{let g=!1;if(l>o&&(o=l,g=!0),p>i){i=p;let S=H();s=L(t.relative,S),g=!0}g&&r({maxDepth:Math.min(o,i),maxDepthScrollTop:d,maxScrollHeight:i,maxScrollHeightTime:s})});return{stop:()=>u.unsubscribe()}}function vd(){let e=io(),{height:t}=yt(),r=Math.round((document.scrollingElement||document.documentElement).scrollHeight),n=Math.round(t+e);return{scrollHeight:r,scrollDepth:n,scrollTop:e}}function Id(e,t=hd){return new x(r=>{function n(){r.notify(vd())}if(self.ResizeObserver){let o=be(n,t,{leading:!1,trailing:!0}),i=document.scrollingElement||document.documentElement,s=new ResizeObserver(_(o.throttled));i&&s.observe(i);let u=R(e,self,"scroll",o.throttled,{passive:!0});return()=>{o.cancel(),s.disconnect(),u.stop()}}})}function ua(e,t,r,n,o,i,s){let u={},{stop:l,setLoadEvent:d}=aa(e,t,r,n,i,s,b=>{u.loadingTime=b,o()}),{stop:p}=ca(n,s,b=>{u.scroll=b}),{stop:g}=ra(n,s.relative,b=>{u.cumulativeLayoutShift=b,o()}),{stop:S,getInteractionToNextPaint:E,setViewEnd:m}=sa(n,s.relative,i);return{stop:()=>{l(),g(),p()},stopINPTracking:S,setLoadEvent:d,setViewEnd:m,getCommonViewMetrics:()=>(u.interactionToNextPaint=E(),u)}}var Cd=3e3,Ad=5*V,Od=5*V;function da(e,t,r,n,o,i,s,u){let l=new Set,d=g("initial_load",ir(),u);S();let p;s&&(p=E(i));function g(m,b,T){let y=Rd(t,r,n,o,e,m,b,T);return l.add(y),y.stopObservable.subscribe(()=>{l.delete(y)}),y}function S(){t.subscribe(10,()=>{d=g("route_change",void 0,{name:d.name,service:d.service,version:d.version,context:d.contextManager.getContext()})}),t.subscribe(9,()=>{d.end({sessionIsActive:!1})}),t.subscribe(11,m=>{m.reason===et.UNLOADING&&d.end()})}function E(m){return m.subscribe(({oldLocation:b,newLocation:T})=>{Nd(b,T)&&(d.end(),d=g("route_change"))})}return{addTiming:(m,b=F())=>{d.addTiming(m,b)},startView:(m,b)=>{d.end({endClocks:b}),d=g("route_change",b,m)},setViewContext:m=>{d.contextManager.setContext(m)},setViewContextProperty:(m,b)=>{d.contextManager.setContextProperty(m,b)},setViewName:m=>{d.setViewName(m)},getViewContext:()=>d.contextManager.getContext(),stop:()=>{p&&p.unsubscribe(),d.end(),l.forEach(m=>m.stop())}}}function Rd(e,t,r,n,o,i,s=D(),u){let l=k(),d=new x,p={},g=0,S,E=Ae(o),m=rt(),b=!0,T=u?.name,y=u?.service||n.service,h=u?.version||n.version,A=u?.context;A&&m.setContext(A);let Y={id:l,name:T,startClocks:s,service:y,version:h,context:A};e.notify(1,Y),e.notify(2,Y);let{throttled:$,cancel:Ce}=be($e,Cd,{leading:!1}),{setLoadEvent:C,setViewEnd:fe,stop:ct,stopINPTracking:Wr,getCommonViewMetrics:Jr}=ua(e,t,r,n,Be,i,s),{stop:Zr,initialViewMetrics:Qr}=i==="initial_load"?ea(n,C,Be):{stop:w,initialViewMetrics:{}},{stop:en,eventCounts:tn}=Xs(e,l,Be),rn=ae($e,Ad);$e(),m.changeObservable.subscribe(Be);function Zt(){e.notify(3,{id:l,name:T,context:m.getContext(),startClocks:s})}function Be(){Zt(),$()}function $e(){Ce(),Zt(),g+=1;let me=S===void 0?F():S.timeStamp;e.notify(4,{customTimings:p,documentVersion:g,id:l,name:T,service:y,version:h,context:m.getContext(),loadingType:i,location:E,startClocks:s,commonViewMetrics:Jr(),initialViewMetrics:Qr,duration:L(s.timeStamp,me),isActive:S===void 0,sessionIsActive:b,eventCounts:tn})}return{get name(){return T},service:y,version:h,contextManager:m,stopObservable:d,end(me={}){var le,He;S||(S=(le=me.endClocks)!==null&&le!==void 0?le:D(),b=(He=me.sessionIsActive)!==null&&He!==void 0?He:!0,e.notify(5,{endClocks:S}),e.notify(6,{endClocks:S}),Se(rn),fe(S.relative),ct(),$e(),M(()=>{this.stop()},Od))},stop(){Zr(),en(),Wr(),d.notify()},addTiming(me,le){if(S)return;let He=Go(le)?le:L(s.timeStamp,le);p[wd(me)]=He,Be()},setViewName(me){T=me,$e()}}}function wd(e){let t=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return t!==e&&I.warn(`Invalid timing name: ${e}, sanitized to: ${t}`),t}function Nd(e,t){return e.pathname!==t.pathname||!kd(t.hash)&&la(t.hash)!==la(e.hash)}function kd(e){let t=e.substring(1);return t!==""&&!!document.getElementById(t)}function la(e){let t=e.indexOf("?");return t<0?e:e.slice(0,t)}function pa(e,t,r,n,o,i,s,u,l,d){return e.subscribe(4,p=>e.notify(12,Ld(p,r,u))),t.register(0,({startTime:p,eventType:g})=>{let{service:S,version:E,id:m,name:b,context:T}=l.findView(p);return{type:g,service:S,version:E,context:T,view:{id:m,name:b}}}),da(n,e,o,i,r,s,!r.trackViewsManually,d)}function Ld(e,t,r){var n,o,i,s,u,l,d,p,g,S,E,m,b,T,y,h,A,Y;let $=r.getReplayStats(e.id),Ce=(o=(n=e.commonViewMetrics)===null||n===void 0?void 0:n.cumulativeLayoutShift)===null||o===void 0?void 0:o.devicePixelRatio,C={_dd:{document_version:e.documentVersion,replay_stats:$,cls:Ce?{device_pixel_ratio:Ce}:void 0,configuration:{start_session_replay_recording_manually:t.startSessionReplayRecordingManually}},date:e.startClocks.timeStamp,type:"view",view:{action:{count:e.eventCounts.actionCount},frustration:{count:e.eventCounts.frustrationCount},cumulative_layout_shift:(i=e.commonViewMetrics.cumulativeLayoutShift)===null||i===void 0?void 0:i.value,cumulative_layout_shift_time:v((s=e.commonViewMetrics.cumulativeLayoutShift)===null||s===void 0?void 0:s.time),cumulative_layout_shift_target_selector:(u=e.commonViewMetrics.cumulativeLayoutShift)===null||u===void 0?void 0:u.targetSelector,first_byte:v((l=e.initialViewMetrics.navigationTimings)===null||l===void 0?void 0:l.firstByte),dom_complete:v((d=e.initialViewMetrics.navigationTimings)===null||d===void 0?void 0:d.domComplete),dom_content_loaded:v((p=e.initialViewMetrics.navigationTimings)===null||p===void 0?void 0:p.domContentLoaded),dom_interactive:v((g=e.initialViewMetrics.navigationTimings)===null||g===void 0?void 0:g.domInteractive),error:{count:e.eventCounts.errorCount},first_contentful_paint:v(e.initialViewMetrics.firstContentfulPaint),first_input_delay:v((S=e.initialViewMetrics.firstInput)===null||S===void 0?void 0:S.delay),first_input_time:v((E=e.initialViewMetrics.firstInput)===null||E===void 0?void 0:E.time),first_input_target_selector:(m=e.initialViewMetrics.firstInput)===null||m===void 0?void 0:m.targetSelector,interaction_to_next_paint:v((b=e.commonViewMetrics.interactionToNextPaint)===null||b===void 0?void 0:b.value),interaction_to_next_paint_time:v((T=e.commonViewMetrics.interactionToNextPaint)===null||T===void 0?void 0:T.time),interaction_to_next_paint_target_selector:(y=e.commonViewMetrics.interactionToNextPaint)===null||y===void 0?void 0:y.targetSelector,is_active:e.isActive,name:e.name,largest_contentful_paint:v((h=e.initialViewMetrics.largestContentfulPaint)===null||h===void 0?void 0:h.value),largest_contentful_paint_target_selector:(A=e.initialViewMetrics.largestContentfulPaint)===null||A===void 0?void 0:A.targetSelector,load_event:v((Y=e.initialViewMetrics.navigationTimings)===null||Y===void 0?void 0:Y.loadEvent),loading_time:Hr(v(e.commonViewMetrics.loadingTime)),loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},performance:Md(e.commonViewMetrics,e.initialViewMetrics),resource:{count:e.eventCounts.resourceCount},time_spent:v(e.duration)},display:e.commonViewMetrics.scroll?{scroll:{max_depth:e.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:e.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:e.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:v(e.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{has_replay:$?!0:void 0,is_active:e.sessionIsActive?void 0:!1},privacy:{replay_level:t.defaultPrivacyLevel}};return Z(e.customTimings)||(C.view.custom_timings=Vo(e.customTimings,v)),{rawRumEvent:C,startTime:e.startClocks.relative,duration:e.duration,domainContext:{location:e.location}}}function Md({cumulativeLayoutShift:e,interactionToNextPaint:t},{firstContentfulPaint:r,firstInput:n,largestContentfulPaint:o}){return{cls:e&&{score:e.value,timestamp:v(e.time),target_selector:e.targetSelector,previous_rect:e.previousRect,current_rect:e.currentRect},fcp:r&&{timestamp:v(r)},fid:n&&{duration:v(n.delay),timestamp:v(n.time),target_selector:n.targetSelector},inp:t&&{duration:v(t.value),timestamp:v(t.time),target_selector:t.targetSelector},lcp:o&&{timestamp:v(o.value),target_selector:o.targetSelector,resource_url:o.resourceUrl}}}a();c();var Dd="rum";function fa(e,t,r){let n=Hn(e,Dd,o=>Ud(e,o),r);return n.expireObservable.subscribe(()=>{t.notify(9)}),n.renewObservable.subscribe(()=>{t.notify(10)}),n.sessionStateUpdateObservable.subscribe(({previousState:o,newState:i})=>{if(!o.forcedReplay&&i.forcedReplay){let s=n.findSession();s&&(s.isReplayForced=!0)}}),{findTrackedSession:o=>{let i=n.findSession(o);if(!(!i||!ga(i.trackingType)))return{id:i.id,sessionReplay:i.trackingType==="1"?1:i.isReplayForced?2:0,anonymousId:i.anonymousId}},expire:n.expire,expireObservable:n.expireObservable,setForcedReplay:()=>n.updateSessionState({forcedReplay:"1"})}}function ma(){let e={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplay:Nr("records")?1:0};return{findTrackedSession:()=>e,expire:w,expireObservable:new x,setForcedReplay:w}}function Ud(e,t){let r;return Pd(t)?r=t:de(e.sessionSampleRate)?de(e.sessionReplaySampleRate)?r="1":r="2":r="0",{trackingType:r,isTracked:ga(r)}}function Pd(e){return e==="0"||e==="1"||e==="2"}function ga(e){return e==="2"||e==="1"}a();c();function Ea(e,t,r,n,o,i,s){let u=e.replica,l=kr(e,{endpoint:e.rumEndpointBuilder,encoder:s(2)},u&&{endpoint:u.rumEndpointBuilder,transformMessage:d=>G(d,{application:{id:u.applicationId}}),encoder:s(3)},n,o,i);return t.subscribe(13,d=>{d.type==="view"?l.upsert(d,d.view.id):l.add(d)}),r.subscribe(d=>l.add(d,Or(e))),l}a();c();function Sa(e){let t=Te();e.subscribe(13,r=>{t.send("rum",r)})}a();c();var Vd=J;function ba(e,t,r,n){let o=oe({expireDelay:Vd}),i;e.subscribe(1,({startClocks:l})=>{let d=n.href;o.add(u({url:d,referrer:i||document.referrer}),l.relative),i=d}),e.subscribe(6,({endClocks:l})=>{o.closeActive(l.relative)});let s=r.subscribe(({newLocation:l})=>{let d=o.find();if(d){let p=H();o.closeActive(p),o.add(u({url:l.href,referrer:d.referrer}),p)}});function u({url:l,referrer:d}){return{url:l,referrer:d}}return t.register(0,({startTime:l,eventType:d})=>{let{url:p,referrer:g}=o.find(l);return{type:d,view:{url:p,referrer:g}}}),{findUrl:l=>o.find(l),getAllEntries:()=>o.getAllEntries(),getDeletedEntries:()=>o.getDeletedEntries(),stop:()=>{s.unsubscribe(),o.stop()}}}a();c();function _a(e,t){let r=Ae(t);return new x(n=>{let{stop:o}=Fd(e,s),{stop:i}=Bd(e,s);function s(){if(r.href===t.href)return;let u=Ae(t);n.notify({newLocation:u,oldLocation:r}),r=u}return()=>{o(),i()}})}function Fd(e,t){let{stop:r}=X(ya("pushState"),"pushState",({onPostCall:i})=>{i(t)}),{stop:n}=X(ya("replaceState"),"replaceState",({onPostCall:i})=>{i(t)}),{stop:o}=R(e,self,"popstate",t);return{stop:()=>{r(),n(),o()}}}function Bd(e,t){return R(e,self,"hashchange",t)}function ya(e){return Object.prototype.hasOwnProperty.call(history,e)?history:History.prototype}a();c();var $d=J;function xa(e,t,r,n){let o=oe({expireDelay:$d});return e.subscribe(1,({startClocks:i})=>{o.add({},i.relative),n.resetCustomerData()}),e.subscribe(6,({endClocks:i})=>{o.closeActive(i.relative)}),t.register(0,({startTime:i,eventType:s})=>{if(!r.trackFeatureFlagsForEvents.concat(["view","error"]).includes(s))return;let l=o.find(i);if(!(!l||Z(l)))return{type:s,feature_flags:l}}),{addFeatureFlagEvaluation:(i,s)=>{let u=o.find();u&&(u[i]=s,n.updateCustomerData(u))},stop:()=>n.stop()}}a();c();var Hd=10*P,Le,at,ko;function ha(e,t,r,n,o){t.enabled&&de(e.customerDataTelemetrySampleRate)&&(va(),Ta(),r.subscribe(13,s=>{ko=!0,Jt(at.globalContextBytes,n.getOrCreateTracker(2).getBytesCount()),Jt(at.userContextBytes,n.getOrCreateTracker(1).getBytesCount()),Jt(at.featureFlagBytes,["view","error"].includes(s.type)?n.getOrCreateTracker(0).getBytesCount():0)}),o.subscribe(({bytesCount:s,messagesCount:u})=>{ko&&(Le.batchCount+=1,Jt(Le.batchBytesCount,s),Jt(Le.batchMessagesCount,u),No(Le.globalContextBytes,at.globalContextBytes),No(Le.userContextBytes,at.userContextBytes),No(Le.featureFlagBytes,at.featureFlagBytes),Ta())}),ae(Gd,Hd))}function Gd(){Le.batchCount!==0&&(xe("Customer data measures",Le),va())}function Fe(){return{min:1/0,max:0,sum:0}}function Jt(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function No(e,t){e.sum+=t.sum,e.min=Math.min(e.min,t.min),e.max=Math.max(e.max,t.max)}function va(){Le={batchCount:0,batchBytesCount:Fe(),batchMessagesCount:Fe(),globalContextBytes:Fe(),userContextBytes:Fe(),featureFlagBytes:Fe()}}function Ta(){ko=!1,at={globalContextBytes:Fe(),userContextBytes:Fe(),featureFlagBytes:Fe()}}a();c();var jd=4e3,Kd=500,Yd=J;function Ia(e,t,r=Kd){let n=oe({expireDelay:Yd,maxEntries:jd}),o;s(Ca(),H());let{stop:i}=Q(t,self,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],l=>{s(qd(l),l.timeStamp)},{capture:!0});function s(l,d=H()){l!==o&&(o=l,n.closeActive(d),n.add({state:o,startTime:d},d))}function u(l,d,p){return n.findAll(d,p).some(g=>g.state===l)}return e.register(0,({startTime:l,duration:d=0,eventType:p})=>{if(p==="view"){let g=n.findAll(l,d);return{type:p,_dd:{page_states:zd(g,l,r)}}}if(p==="action"||p==="error")return{type:p,view:{in_foreground:u("active",l,0)}}}),{wasInPageStateDuringPeriod:u,addPageState:s,stop:()=>{i(),n.stop()}}}function zd(e,t,r){if(e.length!==0)return e.slice(-r).reverse().map(({state:n,startTime:o})=>({state:n,start:v(L(t,o))}))}function qd(e){return e.type==="freeze"?"frozen":e.type==="pagehide"?e.persisted?"frozen":"terminated":Ca()}function Ca(){return document.visibilityState==="hidden"?"hidden":document.hasFocus()?"active":"passive"}a();c();function Aa(e){let t,r=requestAnimationFrame(_(()=>{t=yt()})),n=ao(e).subscribe(o=>{t=o}).unsubscribe;return{get:()=>t?{viewport:t}:void 0,stop:()=>{n(),r&&cancelAnimationFrame(r)}}}a();c();a();c();function Oa(e,t){let r=self.cookieStore?Xd(e):Jd;return new x(n=>r(t,o=>n.notify(o)))}function Xd(e){return(t,r)=>R(e,self.cookieStore,"change",o=>{let i=o.changed.find(s=>s.name===t)||o.deleted.find(s=>s.name===t);i&&r(i.value)}).stop}var Wd=P;function Jd(e,t){let r=Ue(document.cookie,e),n=ae(()=>{let o=Ue(document.cookie,e);o!==r&&t(o)},Wd);return()=>{Se(n)}}var Ra="datadog-ci-visibility-test-execution-id";function wa(e,t,r=Oa(e,Ra)){var n;let o=ce(Ra)||((n=self.Cypress)===null||n===void 0?void 0:n.env("traceId")),i=r.subscribe(s=>{o=s});return t.register(0,({eventType:s})=>{if(typeof o=="string")return{type:s,session:{type:"ci_test"},ci_test:{test_execution_id:o}}}),{stop:()=>{i.unsubscribe()}}}a();c();function Na(e,t){let r=K(t,{type:O.LONG_ANIMATION_FRAME,buffered:!0}).subscribe(n=>{for(let o of n){let i=We(o.startTime),s={date:i.timeStamp,long_task:{id:k(),entry_type:"long-animation-frame",duration:v(o.duration),blocking_duration:v(o.blockingDuration),first_ui_event_timestamp:v(o.firstUIEventTimestamp),render_start:v(o.renderStart),style_and_layout_start:v(o.styleAndLayoutStart),start_time:v(o.startTime),scripts:o.scripts.map(u=>({duration:v(u.duration),pause_duration:v(u.pauseDuration),forced_style_and_layout_duration:v(u.forcedStyleAndLayoutDuration),start_time:v(u.startTime),execution_start:v(u.executionStart),source_url:u.sourceURL,source_function_name:u.sourceFunctionName,source_char_position:u.sourceCharPosition,invoker:u.invoker,invoker_type:u.invokerType,window_attribution:u.windowAttribution}))},type:"long_task",_dd:{discarded:!1}};e.notify(12,{rawRumEvent:s,startTime:i.relative,duration:o.duration,domainContext:{performanceEntry:o}})}});return{stop:()=>r.unsubscribe()}}a();c();function ka(e,t){let r=K(t,{type:O.LONG_TASK,buffered:!0}).subscribe(n=>{for(let o of n){if(o.entryType!==O.LONG_TASK||!t.trackLongTasks)break;let i=We(o.startTime),s={date:i.timeStamp,long_task:{id:k(),entry_type:"long-task",duration:v(o.duration)},type:"long_task",_dd:{discarded:!1}};e.notify(12,{rawRumEvent:s,startTime:i.relative,duration:o.duration,domainContext:{performanceEntry:o}})}});return{stop(){r.unsubscribe()}}}a();c();function La(){let e={};return{register(t,r){return e[t]||(e[t]=[]),e[t].push(r),{unregister:()=>{e[t]=e[t].filter(n=>n!==r)}}},triggerHook(t,r){let o=(e[t]||[]).map(i=>i(r));return G(...o)}}}a();c();function Ma(e){e.register(0,({eventType:t})=>{let r=to(),n=ro();if(!(!r||!n))return{type:t,session:{type:"synthetics"},synthetics:{test_id:r,result_id:n,injected:Gt()}}})}function Zd(e,t,r,n,o,i,s,u){var l;let d=[],p=new mo,g=La();p.subscribe(13,z=>Mt("rum",z));let S=Qd(e);S.setContextProvider(()=>{var z,nn;return{application:{id:e.applicationId},session:{id:(z=T.findTrackedSession())===null||z===void 0?void 0:z.id},view:{id:(nn=Y.findView())===null||nn===void 0?void 0:nn.id},action:{id:ct.findActionId()}}});let E=z=>{p.notify(14,{error:z}),xe("Error reported to customer",{"error.message":z.message})},m=Un(e),b=m.subscribe(z=>{p.notify(11,z)});d.push(()=>b.unsubscribe());let T=he()?ma():fa(e,p,s);if(he())Sa(p);else{let z=Ea(e,p,S.observable,E,m,T.expireObservable,i);d.push(()=>z.stop()),ha(e,S,p,r,z.flushObservable)}let y=Ni(),h=_a(e,location),A=Ia(g,e),Y=go(p),$=ba(p,g,h,location),Ce=xa(p,g,e,r.getOrCreateTracker(0));d.push(()=>Ce.stop());let{observable:C,stop:fe}=Zi();d.push(fe);let{actionContexts:ct,addAction:Wr,stop:Jr}=ep(p,g,e,T,A,y,C,$,Y,n,E);d.push(Jr),Ar();let{addTiming:Zr,startView:Qr,setViewName:en,setViewContext:tn,setViewContextProperty:rn,getViewContext:Zt,stop:Be}=pa(p,g,e,location,y,C,h,t,Y,o);d.push(Be);let{stop:$e}=zs(p,e,A);if(d.push($e),e.trackLongTasks)if(!((l=PerformanceObserver.supportedEntryTypes)===null||l===void 0)&&l.includes(O.LONG_ANIMATION_FRAME)){let{stop:z}=Na(p,e);d.push(z)}else ka(p,e);let{addError:me}=Vs(p,e);ls(p,e,T);let le=Fi(p,A,u),He=ns(e.applicationId,T,Y,ct,$);return{addAction:Wr,addError:me,addTiming:Zr,addFeatureFlagEvaluation:Ce.addFeatureFlagEvaluation,startView:Qr,setViewContext:tn,setViewContextProperty:rn,getViewContext:Zt,setViewName:en,lifeCycle:p,viewHistory:Y,session:T,stopSession:()=>T.expire(),getInternalContext:He.get,startDurationVital:le.startDurationVital,stopDurationVital:le.stopDurationVital,addDurationVital:le.addDurationVital,stop:()=>{d.forEach(z=>z())}}}function Qd(e){let t=Cr("browser-rum-sdk",e);if(he()){let r=Te();t.observable.subscribe(n=>r.send("internal_telemetry",n))}return t}function ep(e,t,r,n,o,i,s,u,l,d,p){let g=Ds(e,t,i,s,r),S=Aa(r),E=wa(r,t);return Ma(t),rs(r,e,t,n,l,u,S,d,p),{pageStateHistory:o,addAction:g.addAction,actionContexts:g.actionContexts,stop:()=>{g.stop(),E.stop(),S.stop(),l.stop(),o.stop(),u.stop()}}}a();c();function tp(e,{session:t,viewContext:r,errorType:n}){let o=t?t.id:"no-session-id",i=[];n!==void 0&&i.push(`error-type=${n}`),r&&(i.push(`seed=${r.id}`),i.push(`from=${r.startClocks.timeStamp}`));let s=rp(e),u=`/rum/replay/sessions/${o}`;return`${s}${u}?${i.join("&")}`}function rp(e){let t=e.site,r=e.subdomain||np(e);return`https://${r?`${r}.`:""}${t}`}function np(e){switch(e.site){case pe:case Rn:return"app";case kt:return"dd";default:return}}export{Ge as a,ge as b,ut as c,I as d,ht as e,de as f,P as g,F as h,D as i,Ct as j,ap as k,Z as l,Ee as m,Ua as n,_ as o,Do as p,M as q,j as r,x as s,be as t,w as u,Af as v,lr as w,An as x,On as y,_r as z,xr as A,Tr as B,gn as C,W as D,Ye as E,ye as F,X as G,Qc as H,U as I,It as J,nc as K,te as L,ne as M,Fn as N,Bn as O,ru as P,Pt as Q,R,Q as S,tt as T,$n as U,Mt as V,gt as W,G as X,Zg as Y,Dt as Z,Cr as _,Ar as $,Or as aa,xe as ba,Ut as ca,Rr as da,B as ea,Hn as fa,fi as ga,mi as ha,wr as ia,Te as ja,Nr as ka,he as la,et as ma,Un as na,Pn as oa,kr as pa,Gn as qa,Bt as ra,Mr as sa,fu as ta,Yn as ua,$t as va,qn as wa,Wn as xa,rt as ya,Ht as za,Qn as Aa,eo as Ba,Gt as Ca,to as Da,ro as Ea,cl as Fa,ki as Ga,To as Ha,ho as Ia,Mi as Ja,Vu as Ka,rT as La,nT as Ma,Di as Na,N as Oa,Fu as Pa,uT as Qa,no as Ra,lT as Sa,oo as Ta,Gu as Ua,ju as Va,Ku as Wa,dT as Xa,_s as Ya,qu as Za,io as _a,ao as $a,yt as ab,Zd as bb,tp as cb,jx as db,Kx as eb,Yx as fb,zx as gb,qx as hb};
//# sourceMappingURL=chunk-LYAMJYNC.js.map
